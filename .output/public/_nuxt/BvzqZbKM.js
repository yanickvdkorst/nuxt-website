const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DLdX1SE3.js","./AFcST5wT.js","./rol3Hf-m.js","./DCqCI8XB.js","./index.Bk9k2_Aj.css","./CSh7wSaX.js","./DTtRrZ0l.js","./BqHyYV25.js","./error-404.4oxyXxx0.css","./DUqZk7Oe.js","./error-500.CZqNkBuR.css"])))=>i.map(i=>d[i]);
var ky=Object.defineProperty;var Vy=(t,e,n)=>e in t?ky(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rn=(t,e,n)=>Vy(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ac(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ve={},Mr=[],Zt=()=>{},Dy=()=>!1,mi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lc=t=>t.startsWith("onUpdate:"),tt=Object.assign,cc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Oy=Object.prototype.hasOwnProperty,Re=(t,e)=>Oy.call(t,e),le=Array.isArray,Lr=t=>yi(t)==="[object Map]",kd=t=>yi(t)==="[object Set]",Ny=t=>yi(t)==="[object RegExp]",ue=t=>typeof t=="function",Ne=t=>typeof t=="string",Gn=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",uc=t=>(De(t)||ue(t))&&ue(t.then)&&ue(t.catch),Vd=Object.prototype.toString,yi=t=>Vd.call(t),My=t=>yi(t).slice(8,-1),Dd=t=>yi(t)==="[object Object]",hc=t=>Ne(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fr=ac(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ho=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ly=/-(\w)/g,Bt=Ho(t=>t.replace(Ly,(e,n)=>n?n.toUpperCase():"")),Fy=/\B([A-Z])/g,_r=Ho(t=>t.replace(Fy,"-$1").toLowerCase()),$o=Ho(t=>t.charAt(0).toUpperCase()+t.slice(1)),xa=Ho(t=>t?`on${$o(t)}`:""),Ln=(t,e)=>!Object.is(t,e),Bs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Od=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},By=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Nd=t=>{const e=Ne(t)?Number(t):NaN;return isNaN(e)?t:e};let Xu;const qo=()=>Xu||(Xu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zo(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ne(r)?$y(r):zo(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ne(t)||De(t))return t}const Uy=/;(?![^(]*\))/g,jy=/:([^]+)/,Hy=/\/\*[^]*?\*\//g;function $y(t){const e={};return t.replace(Hy,"").split(Uy).forEach(n=>{if(n){const r=n.split(jy);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ko(t){let e="";if(Ne(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const r=Ko(t[n]);r&&(e+=r+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function qy(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ne(e)&&(t.class=Ko(e)),n&&(t.style=zo(n)),t}const zy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ky=ac(zy);function Md(t){return!!t||t===""}const Ld=t=>!!(t&&t.__v_isRef===!0),Gy=t=>Ne(t)?t:t==null?"":le(t)||De(t)&&(t.toString===Vd||!ue(t.toString))?Ld(t)?Gy(t.value):JSON.stringify(t,Fd,2):String(t),Fd=(t,e)=>Ld(e)?Fd(t,e.value):Lr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[ka(r,i)+" =>"]=s,n),{})}:kd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ka(n))}:Gn(e)?ka(e):De(e)&&!le(e)&&!Dd(e)?String(e):e,ka=(t,e="")=>{var n;return Gn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dt;class Bd{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=dt,!e&&dt&&(this.index=(dt.scopes||(dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=dt;try{return dt=this,e()}finally{dt=n}}}on(){++this._on===1&&(this.prevScope=dt,dt=this)}off(){this._on>0&&--this._on===0&&(dt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Wy(t){return new Bd(t)}function Ud(){return dt}function wR(t,e=!1){dt&&dt.cleanups.push(t)}let ke;const Va=new WeakSet;class jd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,dt&&dt.active&&dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Va.has(this)&&(Va.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$d(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zu(this),qd(this);const e=ke,n=$t;ke=this,$t=!0;try{return this.fn()}finally{zd(this),ke=e,$t=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)pc(e);this.deps=this.depsTail=void 0,Zu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Va.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ol(this)&&this.run()}get dirty(){return ol(this)}}let Hd=0,Us,js;function $d(t,e=!1){if(t.flags|=8,e){t.next=js,js=t;return}t.next=Us,Us=t}function fc(){Hd++}function dc(){if(--Hd>0)return;if(js){let e=js;for(js=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Us;){let e=Us;for(Us=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function qd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function zd(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),pc(r),Qy(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ol(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Kd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Kd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ei)||(t.globalVersion=ei,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ol(t))))return;t.flags|=2;const e=t.dep,n=ke,r=$t;ke=t,$t=!0;try{qd(t);const s=t.fn(t._value);(e.version===0||Ln(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ke=n,$t=r,zd(t),t.flags&=-3}}function pc(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)pc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Qy(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let $t=!0;const Gd=[];function pn(){Gd.push($t),$t=!1}function gn(){const t=Gd.pop();$t=t===void 0?!0:t}function Zu(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ke;ke=void 0;try{e()}finally{ke=n}}}let ei=0;class Yy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ke||!$t||ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ke)n=this.activeLink=new Yy(ke,this),ke.deps?(n.prevDep=ke.depsTail,ke.depsTail.nextDep=n,ke.depsTail=n):ke.deps=ke.depsTail=n,Wd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ke.depsTail,n.nextDep=void 0,ke.depsTail.nextDep=n,ke.depsTail=n,ke.deps===n&&(ke.deps=r)}return n}trigger(e){this.version++,ei++,this.notify(e)}notify(e){fc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{dc()}}}function Wd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Wd(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const po=new WeakMap,lr=Symbol(""),al=Symbol(""),ti=Symbol("");function gt(t,e,n){if($t&&ke){let r=po.get(t);r||po.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new gc),s.map=r,s.key=n),s.track()}}function fn(t,e,n,r,s,i){const o=po.get(t);if(!o){ei++;return}const l=c=>{c&&c.trigger()};if(fc(),e==="clear")o.forEach(l);else{const c=le(t),f=c&&hc(n);if(c&&n==="length"){const u=Number(r);o.forEach((d,g)=>{(g==="length"||g===ti||!Gn(g)&&g>=u)&&l(d)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),f&&l(o.get(ti)),e){case"add":c?f&&l(o.get("length")):(l(o.get(lr)),Lr(t)&&l(o.get(al)));break;case"delete":c||(l(o.get(lr)),Lr(t)&&l(o.get(al)));break;case"set":Lr(t)&&l(o.get(lr));break}}dc()}function Jy(t,e){const n=po.get(t);return n&&n.get(e)}function Cr(t){const e=Ae(t);return e===t?e:(gt(e,"iterate",ti),Ft(t)?e:e.map(ot))}function Go(t){return gt(t=Ae(t),"iterate",ti),t}const Xy={__proto__:null,[Symbol.iterator](){return Da(this,Symbol.iterator,ot)},concat(...t){return Cr(this).concat(...t.map(e=>le(e)?Cr(e):e))},entries(){return Da(this,"entries",t=>(t[1]=ot(t[1]),t))},every(t,e){return ln(this,"every",t,e,void 0,arguments)},filter(t,e){return ln(this,"filter",t,e,n=>n.map(ot),arguments)},find(t,e){return ln(this,"find",t,e,ot,arguments)},findIndex(t,e){return ln(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ln(this,"findLast",t,e,ot,arguments)},findLastIndex(t,e){return ln(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ln(this,"forEach",t,e,void 0,arguments)},includes(...t){return Oa(this,"includes",t)},indexOf(...t){return Oa(this,"indexOf",t)},join(t){return Cr(this).join(t)},lastIndexOf(...t){return Oa(this,"lastIndexOf",t)},map(t,e){return ln(this,"map",t,e,void 0,arguments)},pop(){return xs(this,"pop")},push(...t){return xs(this,"push",t)},reduce(t,...e){return eh(this,"reduce",t,e)},reduceRight(t,...e){return eh(this,"reduceRight",t,e)},shift(){return xs(this,"shift")},some(t,e){return ln(this,"some",t,e,void 0,arguments)},splice(...t){return xs(this,"splice",t)},toReversed(){return Cr(this).toReversed()},toSorted(t){return Cr(this).toSorted(t)},toSpliced(...t){return Cr(this).toSpliced(...t)},unshift(...t){return xs(this,"unshift",t)},values(){return Da(this,"values",ot)}};function Da(t,e,n){const r=Go(t),s=r[e]();return r!==t&&!Ft(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Zy=Array.prototype;function ln(t,e,n,r,s,i){const o=Go(t),l=o!==t&&!Ft(t),c=o[e];if(c!==Zy[e]){const d=c.apply(t,i);return l?ot(d):d}let f=n;o!==t&&(l?f=function(d,g){return n.call(this,ot(d),g,t)}:n.length>2&&(f=function(d,g){return n.call(this,d,g,t)}));const u=c.call(o,f,r);return l&&s?s(u):u}function eh(t,e,n,r){const s=Go(t);let i=n;return s!==t&&(Ft(t)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,t)}):i=function(o,l,c){return n.call(this,o,ot(l),c,t)}),s[e](i,...r)}function Oa(t,e,n){const r=Ae(t);gt(r,"iterate",ti);const s=r[e](...n);return(s===-1||s===!1)&&_c(n[0])?(n[0]=Ae(n[0]),r[e](...n)):s}function xs(t,e,n=[]){pn(),fc();const r=Ae(t)[e].apply(t,n);return dc(),gn(),r}const e_=ac("__proto__,__v_isRef,__isVue"),Qd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gn));function t_(t){Gn(t)||(t=String(t));const e=Ae(this);return gt(e,"has",t),e.hasOwnProperty(t)}class Yd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?h_:ep:i?Zd:Xd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=le(e);if(!s){let c;if(o&&(c=Xy[n]))return c;if(n==="hasOwnProperty")return t_}const l=Reflect.get(e,n,Je(e)?e:r);return(Gn(n)?Qd.has(n):e_(n))||(s||gt(e,"get",n),i)?l:Je(l)?o&&hc(n)?l:l.value:De(l)?s?tp(l):Wn(l):l}}class Jd extends Yd{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=mn(i);if(!Ft(r)&&!mn(r)&&(i=Ae(i),r=Ae(r)),!le(e)&&Je(i)&&!Je(r))return c?!1:(i.value=r,!0)}const o=le(e)&&hc(n)?Number(n)<e.length:Re(e,n),l=Reflect.set(e,n,r,Je(e)?e:s);return e===Ae(s)&&(o?Ln(r,i)&&fn(e,"set",n,r):fn(e,"add",n,r)),l}deleteProperty(e,n){const r=Re(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&fn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Gn(n)||!Qd.has(n))&&gt(e,"has",n),r}ownKeys(e){return gt(e,"iterate",le(e)?"length":lr),Reflect.ownKeys(e)}}class n_ extends Yd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const r_=new Jd,s_=new n_,i_=new Jd(!0);const ll=t=>t,Ui=t=>Reflect.getPrototypeOf(t);function o_(t,e,n){return function(...r){const s=this.__v_raw,i=Ae(s),o=Lr(i),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=s[t](...r),u=n?ll:e?go:ot;return!e&&gt(i,"iterate",c?al:lr),{next(){const{value:d,done:g}=f.next();return g?{value:d,done:g}:{value:l?[u(d[0]),u(d[1])]:u(d),done:g}},[Symbol.iterator](){return this}}}}function ji(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function a_(t,e){const n={get(s){const i=this.__v_raw,o=Ae(i),l=Ae(s);t||(Ln(s,l)&&gt(o,"get",s),gt(o,"get",l));const{has:c}=Ui(o),f=e?ll:t?go:ot;if(c.call(o,s))return f(i.get(s));if(c.call(o,l))return f(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&gt(Ae(s),"iterate",lr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Ae(i),l=Ae(s);return t||(Ln(s,l)&&gt(o,"has",s),gt(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=Ae(l),f=e?ll:t?go:ot;return!t&&gt(c,"iterate",lr),l.forEach((u,d)=>s.call(i,f(u),f(d),o))}};return tt(n,t?{add:ji("add"),set:ji("set"),delete:ji("delete"),clear:ji("clear")}:{add(s){!e&&!Ft(s)&&!mn(s)&&(s=Ae(s));const i=Ae(this);return Ui(i).has.call(i,s)||(i.add(s),fn(i,"add",s,s)),this},set(s,i){!e&&!Ft(i)&&!mn(i)&&(i=Ae(i));const o=Ae(this),{has:l,get:c}=Ui(o);let f=l.call(o,s);f||(s=Ae(s),f=l.call(o,s));const u=c.call(o,s);return o.set(s,i),f?Ln(i,u)&&fn(o,"set",s,i):fn(o,"add",s,i),this},delete(s){const i=Ae(this),{has:o,get:l}=Ui(i);let c=o.call(i,s);c||(s=Ae(s),c=o.call(i,s)),l&&l.call(i,s);const f=i.delete(s);return c&&fn(i,"delete",s,void 0),f},clear(){const s=Ae(this),i=s.size!==0,o=s.clear();return i&&fn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=o_(s,t,e)}),n}function mc(t,e){const n=a_(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Re(n,s)&&s in r?n:r,s,i)}const l_={get:mc(!1,!1)},c_={get:mc(!1,!0)},u_={get:mc(!0,!1)};const Xd=new WeakMap,Zd=new WeakMap,ep=new WeakMap,h_=new WeakMap;function f_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function d_(t){return t.__v_skip||!Object.isExtensible(t)?0:f_(My(t))}function Wn(t){return mn(t)?t:yc(t,!1,r_,l_,Xd)}function dn(t){return yc(t,!1,i_,c_,Zd)}function tp(t){return yc(t,!0,s_,u_,ep)}function yc(t,e,n,r,s){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=d_(t);if(i===0)return t;const o=s.get(t);if(o)return o;const l=new Proxy(t,i===2?r:n);return s.set(t,l),l}function cr(t){return mn(t)?cr(t.__v_raw):!!(t&&t.__v_isReactive)}function mn(t){return!!(t&&t.__v_isReadonly)}function Ft(t){return!!(t&&t.__v_isShallow)}function _c(t){return t?!!t.__v_raw:!1}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function p_(t){return!Re(t,"__v_skip")&&Object.isExtensible(t)&&Od(t,"__v_skip",!0),t}const ot=t=>De(t)?Wn(t):t,go=t=>De(t)?tp(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function en(t){return np(t,!1)}function Wr(t){return np(t,!0)}function np(t,e){return Je(t)?t:new g_(t,e)}class g_{constructor(e,n){this.dep=new gc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ae(e),this._value=n?e:ot(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ft(e)||mn(e);e=r?e:Ae(e),Ln(e,n)&&(this._rawValue=e,this._value=r?e:ot(e),this.dep.trigger())}}function Fe(t){return Je(t)?t.value:t}function m_(t){return ue(t)?t():Fe(t)}const y_={get:(t,e,n)=>e==="__v_raw"?t:Fe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function rp(t){return cr(t)?t:new Proxy(t,y_)}class __{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Jy(Ae(this._object),this._key)}}class v_{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function E_(t,e,n){return Je(t)?t:ue(t)?new v_(t):De(t)&&arguments.length>1?T_(t,e,n):en(t)}function T_(t,e,n){const r=t[e];return Je(r)?r:new __(t,e,n)}class w_{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new gc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ei-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ke!==this)return $d(this,!0),!0}get value(){const e=this.dep.track();return Kd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function b_(t,e,n=!1){let r,s;return ue(t)?r=t:(r=t.get,s=t.set),new w_(r,s,n)}const Hi={},mo=new WeakMap;let rr;function A_(t,e=!1,n=rr){if(n){let r=mo.get(n);r||mo.set(n,r=[]),r.push(t)}}function I_(t,e,n=Ve){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,f=S=>s?S:Ft(S)||s===!1||s===0?On(S,1):On(S);let u,d,g,m,T=!1,I=!1;if(Je(t)?(d=()=>t.value,T=Ft(t)):cr(t)?(d=()=>f(t),T=!0):le(t)?(I=!0,T=t.some(S=>cr(S)||Ft(S)),d=()=>t.map(S=>{if(Je(S))return S.value;if(cr(S))return f(S);if(ue(S))return c?c(S,2):S()})):ue(t)?e?d=c?()=>c(t,2):t:d=()=>{if(g){pn();try{g()}finally{gn()}}const S=rr;rr=u;try{return c?c(t,3,[m]):t(m)}finally{rr=S}}:d=Zt,e&&s){const S=d,O=s===!0?1/0:s;d=()=>On(S(),O)}const k=Ud(),D=()=>{u.stop(),k&&k.active&&cc(k.effects,u)};if(i&&e){const S=e;e=(...O)=>{S(...O),D()}}let V=I?new Array(t.length).fill(Hi):Hi;const E=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const O=u.run();if(s||T||(I?O.some((L,w)=>Ln(L,V[w])):Ln(O,V))){g&&g();const L=rr;rr=u;try{const w=[O,V===Hi?void 0:I&&V[0]===Hi?[]:V,m];V=O,c?c(e,3,w):e(...w)}finally{rr=L}}}else u.run()};return l&&l(E),u=new jd(d),u.scheduler=o?()=>o(E,!1):E,m=S=>A_(S,!1,u),g=u.onStop=()=>{const S=mo.get(u);if(S){if(c)c(S,4);else for(const O of S)O();mo.delete(u)}},e?r?E(!0):V=u.run():o?o(E.bind(null,!0),!0):u.run(),D.pause=u.pause.bind(u),D.resume=u.resume.bind(u),D.stop=D,D}function On(t,e=1/0,n){if(e<=0||!De(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Je(t))On(t.value,e,n);else if(le(t))for(let r=0;r<t.length;r++)On(t[r],e,n);else if(kd(t)||Lr(t))t.forEach(r=>{On(r,e,n)});else if(Dd(t)){for(const r in t)On(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&On(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _i(t,e,n,r){try{return r?t(...r):t()}catch(s){cs(s,e,n)}}function qt(t,e,n,r){if(ue(t)){const s=_i(t,e,n,r);return s&&uc(s)&&s.catch(i=>{cs(i,e,n)}),s}if(le(t)){const s=[];for(let i=0;i<t.length;i++)s.push(qt(t[i],e,n,r));return s}}function cs(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ve;if(e){let l=e.parent;const c=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,c,f)===!1)return}l=l.parent}if(i){pn(),_i(i,null,10,[t,c,f]),gn();return}}C_(t,n,s,r,o)}function C_(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Et=[];let Wt=-1;const Br=[];let Pn=null,Sr=0;const sp=Promise.resolve();let yo=null;function ni(t){const e=yo||sp;return t?e.then(this?t.bind(this):t):e}function R_(t){let e=Wt+1,n=Et.length;for(;e<n;){const r=e+n>>>1,s=Et[r],i=ri(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function vc(t){if(!(t.flags&1)){const e=ri(t),n=Et[Et.length-1];!n||!(t.flags&2)&&e>=ri(n)?Et.push(t):Et.splice(R_(e),0,t),t.flags|=1,ip()}}function ip(){yo||(yo=sp.then(op))}function cl(t){le(t)?Br.push(...t):Pn&&t.id===-1?Pn.splice(Sr+1,0,t):t.flags&1||(Br.push(t),t.flags|=1),ip()}function th(t,e,n=Wt+1){for(;n<Et.length;n++){const r=Et[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Et.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function _o(t){if(Br.length){const e=[...new Set(Br)].sort((n,r)=>ri(n)-ri(r));if(Br.length=0,Pn){Pn.push(...e);return}for(Pn=e,Sr=0;Sr<Pn.length;Sr++){const n=Pn[Sr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Pn=null,Sr=0}}const ri=t=>t.id==null?t.flags&2?-1:1/0:t.id;function op(t){try{for(Wt=0;Wt<Et.length;Wt++){const e=Et[Wt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_i(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Wt<Et.length;Wt++){const e=Et[Wt];e&&(e.flags&=-2)}Wt=-1,Et.length=0,_o(),yo=null,(Et.length||Br.length)&&op()}}let Dt=null,ap=null;function vo(t){const e=Dt;return Dt=t,ap=t&&t.type.__scopeId||null,e}function Ec(t,e=Dt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&gh(-1);const i=vo(e);let o;try{o=t(...s)}finally{vo(i),r._d&&gh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Qt(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(pn(),qt(c,n,8,[t.el,l,t,e]),gn())}}const S_=Symbol("_vte"),lp=t=>t.__isTeleport,xn=Symbol("_leaveCb"),$i=Symbol("_enterCb");function P_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qo(()=>{t.isMounted=!0}),hs(()=>{t.isUnmounting=!0}),t}const Mt=[Function,Array],cp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mt,onEnter:Mt,onAfterEnter:Mt,onEnterCancelled:Mt,onBeforeLeave:Mt,onLeave:Mt,onAfterLeave:Mt,onLeaveCancelled:Mt,onBeforeAppear:Mt,onAppear:Mt,onAfterAppear:Mt,onAppearCancelled:Mt},up=t=>{const e=t.subTree;return e.component?up(e.component):e},x_={name:"BaseTransition",props:cp,setup(t,{slots:e}){const n=Ei(),r=P_();return()=>{const s=e.default&&dp(e.default(),!0);if(!s||!s.length)return;const i=hp(s),o=Ae(t),{mode:l}=o;if(r.isLeaving)return Na(i);const c=nh(i);if(!c)return Na(i);let f=ul(c,o,r,n,d=>f=d);c.type!==We&&Qr(c,f);let u=n.subTree&&nh(n.subTree);if(u&&u.type!==We&&!Ht(c,u)&&up(n).type!==We){let d=ul(u,o,r,n);if(Qr(u,d),l==="out-in"&&c.type!==We)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},Na(i);l==="in-out"&&c.type!==We?d.delayLeave=(g,m,T)=>{const I=fp(r,u);I[String(u.key)]=u,g[xn]=()=>{m(),g[xn]=void 0,delete f.delayedLeave,u=void 0},f.delayedLeave=()=>{T(),delete f.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function hp(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==We){e=n;break}}return e}const k_=x_;function fp(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ul(t,e,n,r,s){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:g,onLeave:m,onAfterLeave:T,onLeaveCancelled:I,onBeforeAppear:k,onAppear:D,onAfterAppear:V,onAppearCancelled:E}=e,S=String(t.key),O=fp(n,t),L=(_,A)=>{_&&qt(_,r,9,A)},w=(_,A)=>{const x=A[1];L(_,A),le(_)?_.every(R=>R.length<=1)&&x():_.length<=1&&x()},v={mode:o,persisted:l,beforeEnter(_){let A=c;if(!n.isMounted)if(i)A=k||c;else return;_[xn]&&_[xn](!0);const x=O[S];x&&Ht(t,x)&&x.el[xn]&&x.el[xn](),L(A,[_])},enter(_){let A=f,x=u,R=d;if(!n.isMounted)if(i)A=D||f,x=V||u,R=E||d;else return;let b=!1;const fe=_[$i]=me=>{b||(b=!0,me?L(R,[_]):L(x,[_]),v.delayedLeave&&v.delayedLeave(),_[$i]=void 0)};A?w(A,[_,fe]):fe()},leave(_,A){const x=String(t.key);if(_[$i]&&_[$i](!0),n.isUnmounting)return A();L(g,[_]);let R=!1;const b=_[xn]=fe=>{R||(R=!0,A(),fe?L(I,[_]):L(T,[_]),_[xn]=void 0,O[x]===t&&delete O[x])};O[x]=t,m?w(m,[_,b]):b()},clone(_){const A=ul(_,e,n,r,s);return s&&s(A),A}};return v}function Na(t){if(vi(t))return t=yn(t),t.children=null,t}function nh(t){if(!vi(t))return lp(t.type)&&t.children?hp(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ue(n.default))return n.default()}}function Qr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Qr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function dp(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===It?(o.patchFlag&128&&s++,r=r.concat(dp(o.children,e,l))):(e||o.type!==We)&&r.push(l!=null?yn(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function us(t,e){return ue(t)?tt({name:t.name},e,{setup:t}):t}function Tc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function si(t,e,n,r,s=!1){if(le(t)){t.forEach((T,I)=>si(T,e&&(le(e)?e[I]:e),n,r,s));return}if(ur(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&si(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Rc(r.component):r.el,o=s?null:i,{i:l,r:c}=t,f=e&&e.r,u=l.refs===Ve?l.refs={}:l.refs,d=l.setupState,g=Ae(d),m=d===Ve?()=>!1:T=>Re(g,T);if(f!=null&&f!==c&&(Ne(f)?(u[f]=null,m(f)&&(d[f]=null)):Je(f)&&(f.value=null)),ue(c))_i(c,l,12,[o,u]);else{const T=Ne(c),I=Je(c);if(T||I){const k=()=>{if(t.f){const D=T?m(c)?d[c]:u[c]:c.value;s?le(D)&&cc(D,i):le(D)?D.includes(i)||D.push(i):T?(u[c]=[i],m(c)&&(d[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else T?(u[c]=o,m(c)&&(d[c]=o)):I&&(c.value=o,t.k&&(u[t.k]=o))};o?(k.id=-1,st(k,n)):k()}}}let rh=!1;const Rr=()=>{rh||(console.error("Hydration completed but contains mismatches."),rh=!0)},V_=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",D_=t=>t.namespaceURI.includes("MathML"),qi=t=>{if(t.nodeType===1){if(V_(t))return"svg";if(D_(t))return"mathml"}},Or=t=>t.nodeType===8;function O_(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:l,insert:c,createComment:f}}=t,u=(E,S)=>{if(!S.hasChildNodes()){n(null,E,S),_o(),S._vnode=E;return}d(S.firstChild,E,null,null,null),_o(),S._vnode=E},d=(E,S,O,L,w,v=!1)=>{v=v||!!S.dynamicChildren;const _=Or(E)&&E.data==="[",A=()=>I(E,S,O,L,w,_),{type:x,ref:R,shapeFlag:b,patchFlag:fe}=S;let me=E.nodeType;S.el=E,fe===-2&&(v=!1,S.dynamicChildren=null);let te=null;switch(x){case fr:me!==3?S.children===""?(c(S.el=s(""),o(E),E),te=E):te=A():(E.data!==S.children&&(Rr(),E.data=S.children),te=i(E));break;case We:V(E)?(te=i(E),D(S.el=E.content.firstChild,E,O)):me!==8||_?te=A():te=i(E);break;case $s:if(_&&(E=i(E),me=E.nodeType),me===1||me===3){te=E;const ce=!S.children.length;for(let ee=0;ee<S.staticCount;ee++)ce&&(S.children+=te.nodeType===1?te.outerHTML:te.data),ee===S.staticCount-1&&(S.anchor=te),te=i(te);return _?i(te):te}else A();break;case It:_?te=T(E,S,O,L,w,v):te=A();break;default:if(b&1)(me!==1||S.type.toLowerCase()!==E.tagName.toLowerCase())&&!V(E)?te=A():te=g(E,S,O,L,w,v);else if(b&6){S.slotScopeIds=w;const ce=o(E);if(_?te=k(E):Or(E)&&E.data==="teleport start"?te=k(E,E.data,"teleport end"):te=i(E),e(S,ce,null,O,L,qi(ce),v),ur(S)&&!S.type.__asyncResolved){let ee;_?(ee=Be(It),ee.anchor=te?te.previousSibling:ce.lastChild):ee=E.nodeType===3?Wp(""):Be("div"),ee.el=E,S.component.subTree=ee}}else b&64?me!==8?te=A():te=S.type.hydrate(E,S,O,L,w,v,t,m):b&128&&(te=S.type.hydrate(E,S,O,L,qi(o(E)),w,v,t,d))}return R!=null&&si(R,null,L,S),te},g=(E,S,O,L,w,v)=>{v=v||!!S.dynamicChildren;const{type:_,props:A,patchFlag:x,shapeFlag:R,dirs:b,transition:fe}=S,me=_==="input"||_==="option";if(me||x!==-1){b&&Qt(S,null,O,"created");let te=!1;if(V(E)){te=Np(null,fe)&&O&&O.vnode.props&&O.vnode.props.appear;const ee=E.content.firstChild;if(te){const xe=ee.getAttribute("class");xe&&(ee.$cls=xe),fe.beforeEnter(ee)}D(ee,E,O),S.el=E=ee}if(R&16&&!(A&&(A.innerHTML||A.textContent))){let ee=m(E.firstChild,S,E,O,L,w,v);for(;ee;){zi(E,1)||Rr();const xe=ee;ee=ee.nextSibling,l(xe)}}else if(R&8){let ee=S.children;ee[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(ee=ee.slice(1)),E.textContent!==ee&&(zi(E,0)||Rr(),E.textContent=S.children)}if(A){if(me||!v||x&48){const ee=E.tagName.includes("-");for(const xe in A)(me&&(xe.endsWith("value")||xe==="indeterminate")||mi(xe)&&!Fr(xe)||xe[0]==="."||ee)&&r(E,xe,null,A[xe],void 0,O)}else if(A.onClick)r(E,"onClick",null,A.onClick,void 0,O);else if(x&4&&cr(A.style))for(const ee in A.style)A.style[ee]}let ce;(ce=A&&A.onVnodeBeforeMount)&&bt(ce,O,S),b&&Qt(S,null,O,"beforeMount"),((ce=A&&A.onVnodeMounted)||b||te)&&Hp(()=>{ce&&bt(ce,O,S),te&&fe.enter(E),b&&Qt(S,null,O,"mounted")},L)}return E.nextSibling},m=(E,S,O,L,w,v,_)=>{_=_||!!S.dynamicChildren;const A=S.children,x=A.length;for(let R=0;R<x;R++){const b=_?A[R]:A[R]=Vt(A[R]),fe=b.type===fr;E?(fe&&!_&&R+1<x&&Vt(A[R+1]).type===fr&&(c(s(E.data.slice(b.children.length)),O,i(E)),E.data=b.children),E=d(E,b,L,w,v,_)):fe&&!b.children?c(b.el=s(""),O):(zi(O,1)||Rr(),n(null,b,O,null,L,w,qi(O),v))}return E},T=(E,S,O,L,w,v)=>{const{slotScopeIds:_}=S;_&&(w=w?w.concat(_):_);const A=o(E),x=m(i(E),S,A,O,L,w,v);return x&&Or(x)&&x.data==="]"?i(S.anchor=x):(Rr(),c(S.anchor=f("]"),A,x),x)},I=(E,S,O,L,w,v)=>{if(zi(E.parentElement,1)||Rr(),S.el=null,v){const x=k(E);for(;;){const R=i(E);if(R&&R!==x)l(R);else break}}const _=i(E),A=o(E);return l(E),n(null,S,A,_,O,L,qi(A),w),O&&(O.vnode.el=S.el,Jo(O,S.el)),_},k=(E,S="[",O="]")=>{let L=0;for(;E;)if(E=i(E),E&&Or(E)&&(E.data===S&&L++,E.data===O)){if(L===0)return i(E);L--}return E},D=(E,S,O)=>{const L=S.parentNode;L&&L.replaceChild(E,S);let w=O;for(;w;)w.vnode.el===S&&(w.vnode.el=w.subTree.el=E),w=w.parent},V=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[u,d]}const sh="data-allow-mismatch",N_={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function zi(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(sh);)t=t.parentElement;const n=t&&t.getAttribute(sh);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(N_[e])}}qo().requestIdleCallback;qo().cancelIdleCallback;function M_(t,e){if(Or(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Or(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const ur=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ih(t){ue(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:l=!0,onError:c}=t;let f=null,u,d=0;const g=()=>(d++,f=null,m()),m=()=>{let T;return f||(T=f=e().catch(I=>{if(I=I instanceof Error?I:new Error(String(I)),c)return new Promise((k,D)=>{c(I,()=>k(g()),()=>D(I),d+1)});throw I}).then(I=>T!==f&&f?f:(I&&(I.__esModule||I[Symbol.toStringTag]==="Module")&&(I=I.default),u=I,I)))};return us({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(T,I,k){const D=i?()=>{const E=i(()=>{k()},S=>M_(T,S));E&&(I.bum||(I.bum=[])).push(E),(I.u||(I.u=[])).push(()=>!0)}:k;u?D():m().then(()=>!I.isUnmounted&&D())},get __asyncResolved(){return u},setup(){const T=Qe;if(Tc(T),u)return()=>Ma(u,T);const I=E=>{f=null,cs(E,T,13,!r)};if(l&&T.suspense||Xr)return m().then(E=>()=>Ma(E,T)).catch(E=>(I(E),()=>r?Be(r,{error:E}):null));const k=en(!1),D=en(),V=en(!!s);return s&&setTimeout(()=>{V.value=!1},s),o!=null&&setTimeout(()=>{if(!k.value&&!D.value){const E=new Error(`Async component timed out after ${o}ms.`);I(E),D.value=E}},o),m().then(()=>{k.value=!0,T.parent&&vi(T.parent.vnode)&&T.parent.update()}).catch(E=>{I(E),D.value=E}),()=>{if(k.value&&u)return Ma(u,T);if(D.value&&r)return Be(r,{error:D.value});if(n&&!V.value)return Be(n)}}})}function Ma(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=Be(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const vi=t=>t.type.__isKeepAlive,L_={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ei(),r=n.ctx;if(!r.renderer)return()=>{const V=e.default&&e.default();return V&&V.length===1?V[0]:V};const s=new Map,i=new Set;let o=null;const l=n.suspense,{renderer:{p:c,m:f,um:u,o:{createElement:d}}}=r,g=d("div");r.activate=(V,E,S,O,L)=>{const w=V.component;f(V,E,S,0,l),c(w.vnode,V,E,S,w,l,O,V.slotScopeIds,L),st(()=>{w.isDeactivated=!1,w.a&&Bs(w.a);const v=V.props&&V.props.onVnodeMounted;v&&bt(v,w.parent,V)},l)},r.deactivate=V=>{const E=V.component;To(E.m),To(E.a),f(V,g,null,1,l),st(()=>{E.da&&Bs(E.da);const S=V.props&&V.props.onVnodeUnmounted;S&&bt(S,E.parent,V),E.isDeactivated=!0},l)};function m(V){La(V),u(V,n,l,!0)}function T(V){s.forEach((E,S)=>{const O=vl(E.type);O&&!V(O)&&I(S)})}function I(V){const E=s.get(V);E&&(!o||!Ht(E,o))?m(E):o&&La(o),s.delete(V),i.delete(V)}jr(()=>[t.include,t.exclude],([V,E])=>{V&&T(S=>Os(V,S)),E&&T(S=>!Os(E,S))},{flush:"post",deep:!0});let k=null;const D=()=>{k!=null&&(wo(n.subTree.type)?st(()=>{s.set(k,Ki(n.subTree))},n.subTree.suspense):s.set(k,Ki(n.subTree)))};return Qo(D),yp(D),hs(()=>{s.forEach(V=>{const{subTree:E,suspense:S}=n,O=Ki(E);if(V.type===O.type&&V.key===O.key){La(O);const L=O.component.da;L&&st(L,S);return}m(V)})}),()=>{if(k=null,!e.default)return o=null;const V=e.default(),E=V[0];if(V.length>1)return o=null,V;if(!Jr(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let S=Ki(E);if(S.type===We)return o=null,S;const O=S.type,L=vl(ur(S)?S.type.__asyncResolved||{}:O),{include:w,exclude:v,max:_}=t;if(w&&(!L||!Os(w,L))||v&&L&&Os(v,L))return S.shapeFlag&=-257,o=S,E;const A=S.key==null?O:S.key,x=s.get(A);return S.el&&(S=yn(S),E.shapeFlag&128&&(E.ssContent=S)),k=A,x?(S.el=x.el,S.component=x.component,S.transition&&Qr(S,S.transition),S.shapeFlag|=512,i.delete(A),i.add(A)):(i.add(A),_&&i.size>parseInt(_,10)&&I(i.values().next().value)),S.shapeFlag|=256,o=S,wo(E.type)?E:S}}},F_=L_;function Os(t,e){return le(t)?t.some(n=>Os(n,e)):Ne(t)?t.split(",").includes(e):Ny(t)?(t.lastIndex=0,t.test(e)):!1}function pp(t,e){mp(t,"a",e)}function gp(t,e){mp(t,"da",e)}function mp(t,e,n=Qe){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Wo(e,r,n),n){let s=n.parent;for(;s&&s.parent;)vi(s.parent.vnode)&&B_(r,e,n,s),s=s.parent}}function B_(t,e,n,r){const s=Wo(e,t,r,!0);_p(()=>{cc(r[e],s)},n)}function La(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ki(t){return t.shapeFlag&128?t.ssContent:t}function Wo(t,e,n=Qe,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{pn();const l=mr(n),c=qt(e,n,t,o);return l(),gn(),c});return r?s.unshift(i):s.push(i),i}}const En=t=>(e,n=Qe)=>{(!Xr||t==="sp")&&Wo(t,(...r)=>e(...r),n)},U_=En("bm"),Qo=En("m"),j_=En("bu"),yp=En("u"),hs=En("bum"),_p=En("um"),H_=En("sp"),$_=En("rtg"),q_=En("rtc");function vp(t,e=Qe){Wo("ec",t,e)}const Ep="components";function oh(t,e){return wp(Ep,t,!0,e)||t}const Tp=Symbol.for("v-ndc");function z_(t){return Ne(t)?wp(Ep,t,!1)||t:t||Tp}function wp(t,e,n=!0,r=!1){const s=Dt||Qe;if(s){const i=s.type;{const l=vl(i,!1);if(l&&(l===e||l===Bt(e)||l===$o(Bt(e))))return i}const o=ah(s[t]||i[t],e)||ah(s.appContext[t],e);return!o&&r?i:o}}function ah(t,e){return t&&(t[e]||t[Bt(e)]||t[$o(Bt(e))])}function bR(t,e,n,r){let s;const i=n,o=le(t);if(o||Ne(t)){const l=o&&cr(t);let c=!1,f=!1;l&&(c=!Ft(t),f=mn(t),t=Go(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(c?f?go(ot(t[u])):ot(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i)}else if(De(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,i));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,f=l.length;c<f;c++){const u=l[c];s[c]=e(t[u],u,c,i)}}else s=[];return s}const hl=t=>t?Qp(t)?Rc(t):hl(t.parent):null,Hs=tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hl(t.parent),$root:t=>hl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ap(t),$forceUpdate:t=>t.f||(t.f=()=>{vc(t.update)}),$nextTick:t=>t.n||(t.n=ni.bind(t.proxy)),$watch:t=>fv.bind(t)}),Fa=(t,e)=>t!==Ve&&!t.__isScriptSetup&&Re(t,e),K_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=t;let f;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Fa(r,e))return o[e]=1,r[e];if(s!==Ve&&Re(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&Re(f,e))return o[e]=3,i[e];if(n!==Ve&&Re(n,e))return o[e]=4,n[e];fl&&(o[e]=0)}}const u=Hs[e];let d,g;if(u)return e==="$attrs"&&gt(t.attrs,"get",""),u(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(n!==Ve&&Re(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,Re(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Fa(s,e)?(s[e]=n,!0):r!==Ve&&Re(r,e)?(r[e]=n,!0):Re(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==Ve&&Re(t,o)||Fa(e,o)||(l=i[0])&&Re(l,o)||Re(r,o)||Re(Hs,o)||Re(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Re(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function lh(t){return le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function AR(t){const e=Ei();let n=t();return yl(),uc(n)&&(n=n.catch(r=>{throw mr(e),r})),[n,()=>mr(e)]}let fl=!0;function G_(t){const e=Ap(t),n=t.proxy,r=t.ctx;fl=!1,e.beforeCreate&&ch(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:f,created:u,beforeMount:d,mounted:g,beforeUpdate:m,updated:T,activated:I,deactivated:k,beforeDestroy:D,beforeUnmount:V,destroyed:E,unmounted:S,render:O,renderTracked:L,renderTriggered:w,errorCaptured:v,serverPrefetch:_,expose:A,inheritAttrs:x,components:R,directives:b,filters:fe}=e;if(f&&W_(f,r,null),o)for(const ce in o){const ee=o[ce];ue(ee)&&(r[ce]=ee.bind(n))}if(s){const ce=s.call(n,n);De(ce)&&(t.data=Wn(ce))}if(fl=!0,i)for(const ce in i){const ee=i[ce],xe=ue(ee)?ee.bind(n,n):ue(ee.get)?ee.get.bind(n,n):Zt,Ut=!ue(ee)&&ue(ee.set)?ee.set.bind(n):Zt,Ot=Ge({get:xe,set:Ut});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Me=>Ot.value=Me})}if(l)for(const ce in l)bp(l[ce],r,n,ce);if(c){const ce=ue(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(ee=>{Ur(ee,ce[ee])})}u&&ch(u,t,"c");function te(ce,ee){le(ee)?ee.forEach(xe=>ce(xe.bind(n))):ee&&ce(ee.bind(n))}if(te(U_,d),te(Qo,g),te(j_,m),te(yp,T),te(pp,I),te(gp,k),te(vp,v),te(q_,L),te($_,w),te(hs,V),te(_p,S),te(H_,_),le(A))if(A.length){const ce=t.exposed||(t.exposed={});A.forEach(ee=>{Object.defineProperty(ce,ee,{get:()=>n[ee],set:xe=>n[ee]=xe})})}else t.exposed||(t.exposed={});O&&t.render===Zt&&(t.render=O),x!=null&&(t.inheritAttrs=x),R&&(t.components=R),b&&(t.directives=b),_&&Tc(t)}function W_(t,e,n=Zt){le(t)&&(t=dl(t));for(const r in t){const s=t[r];let i;De(s)?"default"in s?i=St(s.from||r,s.default,!0):i=St(s.from||r):i=St(s),Je(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ch(t,e,n){qt(le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function bp(t,e,n,r){let s=r.includes(".")?Fp(n,r):()=>n[r];if(Ne(t)){const i=e[t];ue(i)&&jr(s,i)}else if(ue(t))jr(s,t.bind(n));else if(De(t))if(le(t))t.forEach(i=>bp(i,e,n,r));else{const i=ue(t.handler)?t.handler.bind(n):e[t.handler];ue(i)&&jr(s,i,t)}}function Ap(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(f=>Eo(c,f,o,!0)),Eo(c,e,o)),De(e)&&i.set(e,c),c}function Eo(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Eo(t,i,n,!0),s&&s.forEach(o=>Eo(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=Q_[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Q_={data:uh,props:hh,emits:hh,methods:Ns,computed:Ns,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:Ns,directives:Ns,watch:J_,provide:uh,inject:Y_};function uh(t,e){return e?t?function(){return tt(ue(t)?t.call(this,this):t,ue(e)?e.call(this,this):e)}:e:t}function Y_(t,e){return Ns(dl(t),dl(e))}function dl(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ns(t,e){return t?tt(Object.create(null),t,e):e}function hh(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:tt(Object.create(null),lh(t),lh(e??{})):e}function J_(t,e){if(!t)return e;if(!e)return t;const n=tt(Object.create(null),t);for(const r in e)n[r]=vt(t[r],e[r]);return n}function Ip(){return{app:null,config:{isNativeTag:Dy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let X_=0;function Z_(t,e){return function(r,s=null){ue(r)||(r=tt({},r)),s!=null&&!De(s)&&(s=null);const i=Ip(),o=new WeakSet,l=[];let c=!1;const f=i.app={_uid:X_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Nv,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&ue(u.install)?(o.add(u),u.install(f,...d)):ue(u)&&(o.add(u),u(f,...d))),f},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),f},component(u,d){return d?(i.components[u]=d,f):i.components[u]},directive(u,d){return d?(i.directives[u]=d,f):i.directives[u]},mount(u,d,g){if(!c){const m=f._ceVNode||Be(r,s);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),d&&e?e(m,u):t(m,u,g),c=!0,f._container=u,u.__vue_app__=f,Rc(m.component)}},onUnmount(u){l.push(u)},unmount(){c&&(qt(l,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(u,d){return i.provides[u]=d,f},runWithContext(u){const d=hr;hr=f;try{return u()}finally{hr=d}}};return f}}let hr=null;function Ur(t,e){if(Qe){let n=Qe.provides;const r=Qe.parent&&Qe.parent.provides;r===n&&(n=Qe.provides=Object.create(r)),n[t]=e}}function St(t,e,n=!1){const r=Qe||Dt;if(r||hr){let s=hr?hr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ue(e)?e.call(r&&r.proxy):e}}function wc(){return!!(Qe||Dt||hr)}const Cp={},Rp=()=>Object.create(Cp),Sp=t=>Object.getPrototypeOf(t)===Cp;function ev(t,e,n,r=!1){const s={},i=Rp();t.propsDefaults=Object.create(null),Pp(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:dn(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function tv(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=Ae(s),[c]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let g=u[d];if(Yo(t.emitsOptions,g))continue;const m=e[g];if(c)if(Re(i,g))m!==i[g]&&(i[g]=m,f=!0);else{const T=Bt(g);s[T]=pl(c,l,T,m,t,!1)}else m!==i[g]&&(i[g]=m,f=!0)}}}else{Pp(t,e,s,i)&&(f=!0);let u;for(const d in l)(!e||!Re(e,d)&&((u=_r(d))===d||!Re(e,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=pl(c,l,d,void 0,t,!0)):delete s[d]);if(i!==l)for(const d in i)(!e||!Re(e,d))&&(delete i[d],f=!0)}f&&fn(t.attrs,"set","")}function Pp(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(Fr(c))continue;const f=e[c];let u;s&&Re(s,u=Bt(c))?!i||!i.includes(u)?n[u]=f:(l||(l={}))[u]=f:Yo(t.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,o=!0)}if(i){const c=Ae(n),f=l||Ve;for(let u=0;u<i.length;u++){const d=i[u];n[d]=pl(s,c,d,f[d],t,!Re(f,d))}}return o}function pl(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=Re(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ue(c)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const u=mr(s);r=f[n]=c.call(null,e),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===_r(n))&&(r=!0))}return r}const nv=new WeakMap;function xp(t,e,n=!1){const r=n?nv:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let c=!1;if(!ue(t)){const u=d=>{c=!0;const[g,m]=xp(d,e,!0);tt(o,g),m&&l.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return De(t)&&r.set(t,Mr),Mr;if(le(i))for(let u=0;u<i.length;u++){const d=Bt(i[u]);fh(d)&&(o[d]=Ve)}else if(i)for(const u in i){const d=Bt(u);if(fh(d)){const g=i[u],m=o[d]=le(g)||ue(g)?{type:g}:tt({},g),T=m.type;let I=!1,k=!0;if(le(T))for(let D=0;D<T.length;++D){const V=T[D],E=ue(V)&&V.name;if(E==="Boolean"){I=!0;break}else E==="String"&&(k=!1)}else I=ue(T)&&T.name==="Boolean";m[0]=I,m[1]=k,(I||Re(m,"default"))&&l.push(d)}}const f=[o,l];return De(t)&&r.set(t,f),f}function fh(t){return t[0]!=="$"&&!Fr(t)}const bc=t=>t[0]==="_"||t==="$stable",Ac=t=>le(t)?t.map(Vt):[Vt(t)],rv=(t,e,n)=>{if(e._n)return e;const r=Ec((...s)=>Ac(e(...s)),n);return r._c=!1,r},kp=(t,e,n)=>{const r=t._ctx;for(const s in t){if(bc(s))continue;const i=t[s];if(ue(i))e[s]=rv(s,i,r);else if(i!=null){const o=Ac(i);e[s]=()=>o}}},Vp=(t,e)=>{const n=Ac(e);t.slots.default=()=>n},Dp=(t,e,n)=>{for(const r in e)(n||!bc(r))&&(t[r]=e[r])},sv=(t,e,n)=>{const r=t.slots=Rp();if(t.vnode.shapeFlag&32){const s=e._;s?(Dp(r,e,n),n&&Od(r,"_",s,!0)):kp(e,r)}else e&&Vp(t,e)},iv=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ve;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:Dp(s,e,n):(i=!e.$stable,kp(e,s)),o=e}else e&&(Vp(t,e),o={default:1});if(i)for(const l in s)!bc(l)&&o[l]==null&&delete s[l]},st=Hp;function ov(t){return Op(t)}function av(t){return Op(t,O_)}function Op(t,e){const n=qo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:f,setElementText:u,parentNode:d,nextSibling:g,setScopeId:m=Zt,insertStaticContent:T}=t,I=(C,P,M,H=null,B=null,$=null,Q=void 0,K=null,z=!!P.dynamicChildren)=>{if(C===P)return;C&&!Ht(C,P)&&(H=U(C),Me(C,B,$,!0),C=null),P.patchFlag===-2&&(z=!1,P.dynamicChildren=null);const{type:q,ref:ie,shapeFlag:Y}=P;switch(q){case fr:k(C,P,M,H);break;case We:D(C,P,M,H);break;case $s:C==null&&V(P,M,H,Q);break;case It:R(C,P,M,H,B,$,Q,K,z);break;default:Y&1?O(C,P,M,H,B,$,Q,K,z):Y&6?b(C,P,M,H,B,$,Q,K,z):(Y&64||Y&128)&&q.process(C,P,M,H,B,$,Q,K,z,ne)}ie!=null&&B&&si(ie,C&&C.ref,$,P||C,!P)},k=(C,P,M,H)=>{if(C==null)r(P.el=l(P.children),M,H);else{const B=P.el=C.el;P.children!==C.children&&f(B,P.children)}},D=(C,P,M,H)=>{C==null?r(P.el=c(P.children||""),M,H):P.el=C.el},V=(C,P,M,H)=>{[C.el,C.anchor]=T(C.children,P,M,H,C.el,C.anchor)},E=({el:C,anchor:P},M,H)=>{let B;for(;C&&C!==P;)B=g(C),r(C,M,H),C=B;r(P,M,H)},S=({el:C,anchor:P})=>{let M;for(;C&&C!==P;)M=g(C),s(C),C=M;s(P)},O=(C,P,M,H,B,$,Q,K,z)=>{P.type==="svg"?Q="svg":P.type==="math"&&(Q="mathml"),C==null?L(P,M,H,B,$,Q,K,z):_(C,P,B,$,Q,K,z)},L=(C,P,M,H,B,$,Q,K)=>{let z,q;const{props:ie,shapeFlag:Y,transition:se,dirs:re}=C;if(z=C.el=o(C.type,$,ie&&ie.is,ie),Y&8?u(z,C.children):Y&16&&v(C.children,z,null,H,B,Ba(C,$),Q,K),re&&Qt(C,null,H,"created"),w(z,C,C.scopeId,Q,H),ie){for(const Ie in ie)Ie!=="value"&&!Fr(Ie)&&i(z,Ie,null,ie[Ie],$,H);"value"in ie&&i(z,"value",null,ie.value,$),(q=ie.onVnodeBeforeMount)&&bt(q,H,C)}re&&Qt(C,null,H,"beforeMount");const ae=Np(B,se);ae&&se.beforeEnter(z),r(z,P,M),((q=ie&&ie.onVnodeMounted)||ae||re)&&st(()=>{q&&bt(q,H,C),ae&&se.enter(z),re&&Qt(C,null,H,"mounted")},B)},w=(C,P,M,H,B)=>{if(M&&m(C,M),H)for(let $=0;$<H.length;$++)m(C,H[$]);if(B){let $=B.subTree;if(P===$||wo($.type)&&($.ssContent===P||$.ssFallback===P)){const Q=B.vnode;w(C,Q,Q.scopeId,Q.slotScopeIds,B.parent)}}},v=(C,P,M,H,B,$,Q,K,z=0)=>{for(let q=z;q<C.length;q++){const ie=C[q]=K?kn(C[q]):Vt(C[q]);I(null,ie,P,M,H,B,$,Q,K)}},_=(C,P,M,H,B,$,Q)=>{const K=P.el=C.el;let{patchFlag:z,dynamicChildren:q,dirs:ie}=P;z|=C.patchFlag&16;const Y=C.props||Ve,se=P.props||Ve;let re;if(M&&Zn(M,!1),(re=se.onVnodeBeforeUpdate)&&bt(re,M,P,C),ie&&Qt(P,C,M,"beforeUpdate"),M&&Zn(M,!0),(Y.innerHTML&&se.innerHTML==null||Y.textContent&&se.textContent==null)&&u(K,""),q?A(C.dynamicChildren,q,K,M,H,Ba(P,B),$):Q||ee(C,P,K,null,M,H,Ba(P,B),$,!1),z>0){if(z&16)x(K,Y,se,M,B);else if(z&2&&Y.class!==se.class&&i(K,"class",null,se.class,B),z&4&&i(K,"style",Y.style,se.style,B),z&8){const ae=P.dynamicProps;for(let Ie=0;Ie<ae.length;Ie++){const we=ae[Ie],lt=Y[we],Ze=se[we];(Ze!==lt||we==="value")&&i(K,we,lt,Ze,B,M)}}z&1&&C.children!==P.children&&u(K,P.children)}else!Q&&q==null&&x(K,Y,se,M,B);((re=se.onVnodeUpdated)||ie)&&st(()=>{re&&bt(re,M,P,C),ie&&Qt(P,C,M,"updated")},H)},A=(C,P,M,H,B,$,Q)=>{for(let K=0;K<P.length;K++){const z=C[K],q=P[K],ie=z.el&&(z.type===It||!Ht(z,q)||z.shapeFlag&198)?d(z.el):M;I(z,q,ie,null,H,B,$,Q,!0)}},x=(C,P,M,H,B)=>{if(P!==M){if(P!==Ve)for(const $ in P)!Fr($)&&!($ in M)&&i(C,$,P[$],null,B,H);for(const $ in M){if(Fr($))continue;const Q=M[$],K=P[$];Q!==K&&$!=="value"&&i(C,$,K,Q,B,H)}"value"in M&&i(C,"value",P.value,M.value,B)}},R=(C,P,M,H,B,$,Q,K,z)=>{const q=P.el=C?C.el:l(""),ie=P.anchor=C?C.anchor:l("");let{patchFlag:Y,dynamicChildren:se,slotScopeIds:re}=P;re&&(K=K?K.concat(re):re),C==null?(r(q,M,H),r(ie,M,H),v(P.children||[],M,ie,B,$,Q,K,z)):Y>0&&Y&64&&se&&C.dynamicChildren?(A(C.dynamicChildren,se,M,B,$,Q,K),(P.key!=null||B&&P===B.subTree)&&Mp(C,P,!0)):ee(C,P,M,ie,B,$,Q,K,z)},b=(C,P,M,H,B,$,Q,K,z)=>{P.slotScopeIds=K,C==null?P.shapeFlag&512?B.ctx.activate(P,M,H,Q,z):fe(P,M,H,B,$,Q,z):me(C,P,z)},fe=(C,P,M,H,B,$,Q)=>{const K=C.component=Pv(C,H,B);if(vi(C)&&(K.ctx.renderer=ne),xv(K,!1,Q),K.asyncDep){if(B&&B.registerDep(K,te,Q),!C.el){const z=K.subTree=Be(We);D(null,z,P,M)}}else te(K,C,P,M,B,$,Q)},me=(C,P,M)=>{const H=P.component=C.component;if(_v(C,P,M))if(H.asyncDep&&!H.asyncResolved){ce(H,P,M);return}else H.next=P,H.update();else P.el=C.el,H.vnode=P},te=(C,P,M,H,B,$,Q)=>{const K=()=>{if(C.isMounted){let{next:Y,bu:se,u:re,parent:ae,vnode:Ie}=C;{const ct=Lp(C);if(ct){Y&&(Y.el=Ie.el,ce(C,Y,Q)),ct.asyncDep.then(()=>{C.isUnmounted||K()});return}}let we=Y,lt;Zn(C,!1),Y?(Y.el=Ie.el,ce(C,Y,Q)):Y=Ie,se&&Bs(se),(lt=Y.props&&Y.props.onVnodeBeforeUpdate)&&bt(lt,ae,Y,Ie),Zn(C,!0);const Ze=Ua(C),nt=C.subTree;C.subTree=Ze,I(nt,Ze,d(nt.el),U(nt),C,B,$),Y.el=Ze.el,we===null&&Jo(C,Ze.el),re&&st(re,B),(lt=Y.props&&Y.props.onVnodeUpdated)&&st(()=>bt(lt,ae,Y,Ie),B)}else{let Y;const{el:se,props:re}=P,{bm:ae,m:Ie,parent:we,root:lt,type:Ze}=C,nt=ur(P);if(Zn(C,!1),ae&&Bs(ae),!nt&&(Y=re&&re.onVnodeBeforeMount)&&bt(Y,we,P),Zn(C,!0),se&&Se){const ct=()=>{C.subTree=Ua(C),Se(se,C.subTree,C,B,null)};nt&&Ze.__asyncHydrate?Ze.__asyncHydrate(se,C,ct):ct()}else{lt.ce&&lt.ce._injectChildStyle(Ze);const ct=C.subTree=Ua(C);I(null,ct,M,H,C,B,$),P.el=ct.el}if(Ie&&st(Ie,B),!nt&&(Y=re&&re.onVnodeMounted)){const ct=P;st(()=>bt(Y,we,ct),B)}(P.shapeFlag&256||we&&ur(we.vnode)&&we.vnode.shapeFlag&256)&&C.a&&st(C.a,B),C.isMounted=!0,P=M=H=null}};C.scope.on();const z=C.effect=new jd(K);C.scope.off();const q=C.update=z.run.bind(z),ie=C.job=z.runIfDirty.bind(z);ie.i=C,ie.id=C.uid,z.scheduler=()=>vc(ie),Zn(C,!0),q()},ce=(C,P,M)=>{P.component=C;const H=C.vnode.props;C.vnode=P,C.next=null,tv(C,P.props,H,M),iv(C,P.children,M),pn(),th(C),gn()},ee=(C,P,M,H,B,$,Q,K,z=!1)=>{const q=C&&C.children,ie=C?C.shapeFlag:0,Y=P.children,{patchFlag:se,shapeFlag:re}=P;if(se>0){if(se&128){Ut(q,Y,M,H,B,$,Q,K,z);return}else if(se&256){xe(q,Y,M,H,B,$,Q,K,z);return}}re&8?(ie&16&&wt(q,B,$),Y!==q&&u(M,Y)):ie&16?re&16?Ut(q,Y,M,H,B,$,Q,K,z):wt(q,B,$,!0):(ie&8&&u(M,""),re&16&&v(Y,M,H,B,$,Q,K,z))},xe=(C,P,M,H,B,$,Q,K,z)=>{C=C||Mr,P=P||Mr;const q=C.length,ie=P.length,Y=Math.min(q,ie);let se;for(se=0;se<Y;se++){const re=P[se]=z?kn(P[se]):Vt(P[se]);I(C[se],re,M,null,B,$,Q,K,z)}q>ie?wt(C,B,$,!0,!1,Y):v(P,M,H,B,$,Q,K,z,Y)},Ut=(C,P,M,H,B,$,Q,K,z)=>{let q=0;const ie=P.length;let Y=C.length-1,se=ie-1;for(;q<=Y&&q<=se;){const re=C[q],ae=P[q]=z?kn(P[q]):Vt(P[q]);if(Ht(re,ae))I(re,ae,M,null,B,$,Q,K,z);else break;q++}for(;q<=Y&&q<=se;){const re=C[Y],ae=P[se]=z?kn(P[se]):Vt(P[se]);if(Ht(re,ae))I(re,ae,M,null,B,$,Q,K,z);else break;Y--,se--}if(q>Y){if(q<=se){const re=se+1,ae=re<ie?P[re].el:H;for(;q<=se;)I(null,P[q]=z?kn(P[q]):Vt(P[q]),M,ae,B,$,Q,K,z),q++}}else if(q>se)for(;q<=Y;)Me(C[q],B,$,!0),q++;else{const re=q,ae=q,Ie=new Map;for(q=ae;q<=se;q++){const yt=P[q]=z?kn(P[q]):Vt(P[q]);yt.key!=null&&Ie.set(yt.key,q)}let we,lt=0;const Ze=se-ae+1;let nt=!1,ct=0;const bn=new Array(Ze);for(q=0;q<Ze;q++)bn[q]=0;for(q=re;q<=Y;q++){const yt=C[q];if(lt>=Ze){Me(yt,B,$,!0);continue}let Nt;if(yt.key!=null)Nt=Ie.get(yt.key);else for(we=ae;we<=se;we++)if(bn[we-ae]===0&&Ht(yt,P[we])){Nt=we;break}Nt===void 0?Me(yt,B,$,!0):(bn[Nt-ae]=q+1,Nt>=ct?ct=Nt:nt=!0,I(yt,P[Nt],M,null,B,$,Q,K,z),lt++)}const Er=nt?lv(bn):Mr;for(we=Er.length-1,q=Ze-1;q>=0;q--){const yt=ae+q,Nt=P[yt],Tr=yt+1<ie?P[yt+1].el:H;bn[q]===0?I(null,Nt,M,Tr,B,$,Q,K,z):nt&&(we<0||q!==Er[we]?Ot(Nt,M,Tr,2):we--)}}},Ot=(C,P,M,H,B=null)=>{const{el:$,type:Q,transition:K,children:z,shapeFlag:q}=C;if(q&6){Ot(C.component.subTree,P,M,H);return}if(q&128){C.suspense.move(P,M,H);return}if(q&64){Q.move(C,P,M,ne);return}if(Q===It){r($,P,M);for(let Y=0;Y<z.length;Y++)Ot(z[Y],P,M,H);r(C.anchor,P,M);return}if(Q===$s){E(C,P,M);return}if(H!==2&&q&1&&K)if(H===0)K.beforeEnter($),r($,P,M),st(()=>K.enter($),B);else{const{leave:Y,delayLeave:se,afterLeave:re}=K,ae=()=>{C.ctx.isUnmounted?s($):r($,P,M)},Ie=()=>{Y($,()=>{ae(),re&&re()})};se?se($,ae,Ie):Ie()}else r($,P,M)},Me=(C,P,M,H=!1,B=!1)=>{const{type:$,props:Q,ref:K,children:z,dynamicChildren:q,shapeFlag:ie,patchFlag:Y,dirs:se,cacheIndex:re}=C;if(Y===-2&&(B=!1),K!=null&&(pn(),si(K,null,M,C,!0),gn()),re!=null&&(P.renderCache[re]=void 0),ie&256){P.ctx.deactivate(C);return}const ae=ie&1&&se,Ie=!ur(C);let we;if(Ie&&(we=Q&&Q.onVnodeBeforeUnmount)&&bt(we,P,C),ie&6)Kt(C.component,M,H);else{if(ie&128){C.suspense.unmount(M,H);return}ae&&Qt(C,null,P,"beforeUnmount"),ie&64?C.type.remove(C,P,M,ne,H):q&&!q.hasOnce&&($!==It||Y>0&&Y&64)?wt(q,P,M,!1,!0):($===It&&Y&384||!B&&ie&16)&&wt(z,P,M),H&&Le(C)}(Ie&&(we=Q&&Q.onVnodeUnmounted)||ae)&&st(()=>{we&&bt(we,P,C),ae&&Qt(C,null,P,"unmounted")},M)},Le=C=>{const{type:P,el:M,anchor:H,transition:B}=C;if(P===It){wn(M,H);return}if(P===$s){S(C);return}const $=()=>{s(M),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(C.shapeFlag&1&&B&&!B.persisted){const{leave:Q,delayLeave:K}=B,z=()=>Q(M,$);K?K(C.el,$,z):z()}else $()},wn=(C,P)=>{let M;for(;C!==P;)M=g(C),s(C),C=M;s(P)},Kt=(C,P,M)=>{const{bum:H,scope:B,job:$,subTree:Q,um:K,m:z,a:q,parent:ie,slots:{__:Y}}=C;To(z),To(q),H&&Bs(H),ie&&le(Y)&&Y.forEach(se=>{ie.renderCache[se]=void 0}),B.stop(),$&&($.flags|=8,Me(Q,C,P,M)),K&&st(K,P),st(()=>{C.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},wt=(C,P,M,H=!1,B=!1,$=0)=>{for(let Q=$;Q<C.length;Q++)Me(C[Q],P,M,H,B)},U=C=>{if(C.shapeFlag&6)return U(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const P=g(C.anchor||C.el),M=P&&P[S_];return M?g(M):P};let X=!1;const J=(C,P,M)=>{C==null?P._vnode&&Me(P._vnode,null,null,!0):I(P._vnode||null,C,P,null,null,null,M),P._vnode=C,X||(X=!0,th(),_o(),X=!1)},ne={p:I,um:Me,m:Ot,r:Le,mt:fe,mc:v,pc:ee,pbc:A,n:U,o:t};let ye,Se;return e&&([ye,Se]=e(ne)),{render:J,hydrate:ye,createApp:Z_(J,ye)}}function Ba({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Zn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Np(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Mp(t,e,n=!1){const r=t.children,s=e.children;if(le(r)&&le(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=kn(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Mp(o,l)),l.type===fr&&(l.el=o.el),l.type===We&&!l.el&&(l.el=o.el)}}function lv(t){const e=t.slice(),n=[0];let r,s,i,o,l;const c=t.length;for(r=0;r<c;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<f?i=l+1:o=l;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Lp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Lp(e)}function To(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const cv=Symbol.for("v-scx"),uv=()=>St(cv);function hv(t,e){return Ic(t,null,e)}function jr(t,e,n){return Ic(t,e,n)}function Ic(t,e,n=Ve){const{immediate:r,deep:s,flush:i,once:o}=n,l=tt({},n),c=e&&r||!e&&i!=="post";let f;if(Xr){if(i==="sync"){const m=uv();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Zt,m.resume=Zt,m.pause=Zt,m}}const u=Qe;l.call=(m,T,I)=>qt(m,u,T,I);let d=!1;i==="post"?l.scheduler=m=>{st(m,u&&u.suspense)}:i!=="sync"&&(d=!0,l.scheduler=(m,T)=>{T?m():vc(m)}),l.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const g=I_(t,e,l);return Xr&&(f?f.push(g):c&&g()),g}function fv(t,e,n){const r=this.proxy,s=Ne(t)?t.includes(".")?Fp(r,t):()=>r[t]:t.bind(r,r);let i;ue(e)?i=e:(i=e.handler,n=e);const o=mr(this),l=Ic(s,i.bind(r),n);return o(),l}function Fp(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const dv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Bt(e)}Modifiers`]||t[`${_r(e)}Modifiers`];function pv(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ve;let s=n;const i=e.startsWith("update:"),o=i&&dv(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>Ne(u)?u.trim():u)),o.number&&(s=n.map(By)));let l,c=r[l=xa(e)]||r[l=xa(Bt(e))];!c&&i&&(c=r[l=xa(_r(e))]),c&&qt(c,t,6,s);const f=r[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,qt(f,t,6,s)}}function Bp(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!ue(t)){const c=f=>{const u=Bp(f,e,!0);u&&(l=!0,tt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(De(t)&&r.set(t,null),null):(le(i)?i.forEach(c=>o[c]=null):tt(o,i),De(t)&&r.set(t,o),o)}function Yo(t,e){return!t||!mi(e)?!1:(e=e.slice(2).replace(/Once$/,""),Re(t,e[0].toLowerCase()+e.slice(1))||Re(t,_r(e))||Re(t,e))}function Ua(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:f,renderCache:u,props:d,data:g,setupState:m,ctx:T,inheritAttrs:I}=t,k=vo(t);let D,V;try{if(n.shapeFlag&4){const S=s||r,O=S;D=Vt(f.call(O,S,u,d,m,g,T)),V=l}else{const S=e;D=Vt(S.length>1?S(d,{attrs:l,slots:o,emit:c}):S(d,null)),V=e.props?l:mv(l)}}catch(S){qs.length=0,cs(S,t,1),D=Be(We)}let E=D;if(V&&I!==!1){const S=Object.keys(V),{shapeFlag:O}=E;S.length&&O&7&&(i&&S.some(lc)&&(V=yv(V,i)),E=yn(E,V,!1,!0))}return n.dirs&&(E=yn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Qr(E,n.transition),D=E,vo(k),D}function gv(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Jr(s)){if(s.type!==We||s.children==="v-if"){if(n)return;n=s}}else return}return n}const mv=t=>{let e;for(const n in t)(n==="class"||n==="style"||mi(n))&&((e||(e={}))[n]=t[n]);return e},yv=(t,e)=>{const n={};for(const r in t)(!lc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function _v(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:c}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?dh(r,o,f):!!o;if(c&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const g=u[d];if(o[g]!==r[g]&&!Yo(f,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?dh(r,o,f):!0:!!o;return!1}function dh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Yo(n,i))return!0}return!1}function Jo({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const wo=t=>t.__isSuspense;let gl=0;const vv={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,l,c,f){if(t==null)Ev(e,n,r,s,i,o,l,c,f);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Tv(t,e,n,r,s,o,l,c,f)}},hydrate:wv,normalize:bv},Up=vv;function ii(t,e){const n=t.props&&t.props[e];ue(n)&&n()}function Ev(t,e,n,r,s,i,o,l,c){const{p:f,o:{createElement:u}}=c,d=u("div"),g=t.suspense=jp(t,s,r,e,d,n,i,o,l,c);f(null,g.pendingBranch=t.ssContent,d,null,r,g,i,o),g.deps>0?(ii(t,"onPending"),ii(t,"onFallback"),f(null,t.ssFallback,e,n,r,null,i,o),Hr(g,t.ssFallback)):g.resolve(!1,!0)}function Tv(t,e,n,r,s,i,o,l,{p:c,um:f,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const g=e.ssContent,m=e.ssFallback,{activeBranch:T,pendingBranch:I,isInFallback:k,isHydrating:D}=d;if(I)d.pendingBranch=g,Ht(g,I)?(c(I,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0?d.resolve():k&&(D||(c(T,m,n,r,s,null,i,o,l),Hr(d,m)))):(d.pendingId=gl++,D?(d.isHydrating=!1,d.activeBranch=I):f(I,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),k?(c(null,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0?d.resolve():(c(T,m,n,r,s,null,i,o,l),Hr(d,m))):T&&Ht(g,T)?(c(T,g,n,r,s,d,i,o,l),d.resolve(!0)):(c(null,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0&&d.resolve()));else if(T&&Ht(g,T))c(T,g,n,r,s,d,i,o,l),Hr(d,g);else if(ii(e,"onPending"),d.pendingBranch=g,g.shapeFlag&512?d.pendingId=g.component.suspenseId:d.pendingId=gl++,c(null,g,d.hiddenContainer,null,s,d,i,o,l),d.deps<=0)d.resolve();else{const{timeout:V,pendingId:E}=d;V>0?setTimeout(()=>{d.pendingId===E&&d.fallback(m)},V):V===0&&d.fallback(m)}}function jp(t,e,n,r,s,i,o,l,c,f,u=!1){const{p:d,m:g,um:m,n:T,o:{parentNode:I,remove:k}}=f;let D;const V=Av(t);V&&e&&e.pendingBranch&&(D=e.pendingId,e.deps++);const E=t.props?Nd(t.props.timeout):void 0,S=i,O={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:gl++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(L=!1,w=!1){const{vnode:v,activeBranch:_,pendingBranch:A,pendingId:x,effects:R,parentComponent:b,container:fe}=O;let me=!1;O.isHydrating?O.isHydrating=!1:L||(me=_&&A.transition&&A.transition.mode==="out-in",me&&(_.transition.afterLeave=()=>{x===O.pendingId&&(g(A,fe,i===S?T(_):i,0),cl(R))}),_&&(I(_.el)===fe&&(i=T(_)),m(_,b,O,!0)),me||g(A,fe,i,0)),Hr(O,A),O.pendingBranch=null,O.isInFallback=!1;let te=O.parent,ce=!1;for(;te;){if(te.pendingBranch){te.effects.push(...R),ce=!0;break}te=te.parent}!ce&&!me&&cl(R),O.effects=[],V&&e&&e.pendingBranch&&D===e.pendingId&&(e.deps--,e.deps===0&&!w&&e.resolve()),ii(v,"onResolve")},fallback(L){if(!O.pendingBranch)return;const{vnode:w,activeBranch:v,parentComponent:_,container:A,namespace:x}=O;ii(w,"onFallback");const R=T(v),b=()=>{O.isInFallback&&(d(null,L,A,R,_,null,x,l,c),Hr(O,L))},fe=L.transition&&L.transition.mode==="out-in";fe&&(v.transition.afterLeave=b),O.isInFallback=!0,m(v,_,null,!0),fe||b()},move(L,w,v){O.activeBranch&&g(O.activeBranch,L,w,v),O.container=L},next(){return O.activeBranch&&T(O.activeBranch)},registerDep(L,w,v){const _=!!O.pendingBranch;_&&O.deps++;const A=L.vnode.el;L.asyncDep.catch(x=>{cs(x,L,0)}).then(x=>{if(L.isUnmounted||O.isUnmounted||O.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:R}=L;_l(L,x),A&&(R.el=A);const b=!A&&L.subTree.el;w(L,R,I(A||L.subTree.el),A?null:T(L.subTree),O,o,v),b&&k(b),Jo(L,R.el),_&&--O.deps===0&&O.resolve()})},unmount(L,w){O.isUnmounted=!0,O.activeBranch&&m(O.activeBranch,n,L,w),O.pendingBranch&&m(O.pendingBranch,n,L,w)}};return O}function wv(t,e,n,r,s,i,o,l,c){const f=e.suspense=jp(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,l,!0),u=c(t,f.pendingBranch=e.ssContent,n,f,i,o);return f.deps===0&&f.resolve(!1,!0),u}function bv(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=ph(r?n.default:n),t.ssFallback=r?ph(n.fallback):Be(We)}function ph(t){let e;if(ue(t)){const n=Yr&&t._c;n&&(t._d=!1,Jt()),t=t(),n&&(t._d=!0,e=Ct,$p())}return le(t)&&(t=gv(t)),t=Vt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Hp(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):cl(t)}function Hr(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Jo(r,s))}function Av(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const It=Symbol.for("v-fgt"),fr=Symbol.for("v-txt"),We=Symbol.for("v-cmt"),$s=Symbol.for("v-stc"),qs=[];let Ct=null;function Jt(t=!1){qs.push(Ct=t?null:[])}function $p(){qs.pop(),Ct=qs[qs.length-1]||null}let Yr=1;function gh(t,e=!1){Yr+=t,t<0&&Ct&&e&&(Ct.hasOnce=!0)}function qp(t){return t.dynamicChildren=Yr>0?Ct||Mr:null,$p(),Yr>0&&Ct&&Ct.push(t),t}function zp(t,e,n,r,s,i){return qp(bo(t,e,n,r,s,i,!0))}function or(t,e,n,r,s){return qp(Be(t,e,n,r,s,!0))}function Jr(t){return t?t.__v_isVNode===!0:!1}function Ht(t,e){return t.type===e.type&&t.key===e.key}const Kp=({key:t})=>t??null,so=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ne(t)||Je(t)||ue(t)?{i:Dt,r:t,k:e,f:!!n}:t:null);function bo(t,e=null,n=null,r=0,s=null,i=t===It?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Kp(e),ref:e&&so(e),scopeId:ap,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Dt};return l?(Cc(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Ne(n)?8:16),Yr>0&&!o&&Ct&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ct.push(c),c}const Be=Iv;function Iv(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Tp)&&(t=We),Jr(t)){const l=yn(t,e,!0);return n&&Cc(l,n),Yr>0&&!i&&Ct&&(l.shapeFlag&6?Ct[Ct.indexOf(t)]=l:Ct.push(l)),l.patchFlag=-2,l}if(Ov(t)&&(t=t.__vccOpts),e){e=Gp(e);let{class:l,style:c}=e;l&&!Ne(l)&&(e.class=Ko(l)),De(c)&&(_c(c)&&!le(c)&&(c=tt({},c)),e.style=zo(c))}const o=Ne(t)?1:wo(t)?128:lp(t)?64:De(t)?4:ue(t)?2:0;return bo(t,e,n,r,s,o,i,!0)}function Gp(t){return t?_c(t)||Sp(t)?tt({},t):t:null}function yn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=t,f=e?Cv(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Kp(f),ref:e&&e.ref?n&&i?le(i)?i.concat(so(e)):[i,so(e)]:so(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==It?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yn(t.ssContent),ssFallback:t.ssFallback&&yn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Qr(u,c.clone(u)),u}function Wp(t=" ",e=0){return Be(fr,null,t,e)}function IR(t,e){const n=Be($s,null,t);return n.staticCount=e,n}function CR(t="",e=!1){return e?(Jt(),or(We,null,t)):Be(We,null,t)}function Vt(t){return t==null||typeof t=="boolean"?Be(We):le(t)?Be(It,null,t.slice()):Jr(t)?kn(t):Be(fr,null,String(t))}function kn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yn(t)}function Cc(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Cc(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Sp(e)?e._ctx=Dt:s===3&&Dt&&(Dt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ue(e)?(e={default:e,_ctx:Dt},n=32):(e=String(e),r&64?(n=16,e=[Wp(e)]):n=8);t.children=e,t.shapeFlag|=n}function Cv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ko([e.class,r.class]));else if(s==="style")e.style=zo([e.style,r.style]);else if(mi(s)){const i=e[s],o=r[s];o&&i!==o&&!(le(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function bt(t,e,n,r=null){qt(t,e,7,[n,r])}const Rv=Ip();let Sv=0;function Pv(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Rv,i={uid:Sv++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xp(r,s),emitsOptions:Bp(r,s),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=pv.bind(null,i),t.ce&&t.ce(i),i}let Qe=null;const Ei=()=>Qe||Dt;let Ao,ml;{const t=qo(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ao=e("__VUE_INSTANCE_SETTERS__",n=>Qe=n),ml=e("__VUE_SSR_SETTERS__",n=>Xr=n)}const mr=t=>{const e=Qe;return Ao(t),t.scope.on(),()=>{t.scope.off(),Ao(e)}},yl=()=>{Qe&&Qe.scope.off(),Ao(null)};function Qp(t){return t.vnode.shapeFlag&4}let Xr=!1;function xv(t,e=!1,n=!1){e&&ml(e);const{props:r,children:s}=t.vnode,i=Qp(t);ev(t,r,i,e),sv(t,s,n||e);const o=i?kv(t,e):void 0;return e&&ml(!1),o}function kv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,K_);const{setup:r}=n;if(r){pn();const s=t.setupContext=r.length>1?Dv(t):null,i=mr(t),o=_i(r,t,0,[t.props,s]),l=uc(o);if(gn(),i(),(l||t.sp)&&!ur(t)&&Tc(t),l){if(o.then(yl,yl),e)return o.then(c=>{_l(t,c)}).catch(c=>{cs(c,t,0)});t.asyncDep=o}else _l(t,o)}else Yp(t)}function _l(t,e,n){ue(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=rp(e)),Yp(t)}function Yp(t,e,n){const r=t.type;t.render||(t.render=r.render||Zt);{const s=mr(t);pn();try{G_(t)}finally{gn(),s()}}}const Vv={get(t,e){return gt(t,"get",""),t[e]}};function Dv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Vv),slots:t.slots,emit:t.emit,expose:e}}function Rc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(rp(p_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Hs)return Hs[n](t)},has(e,n){return n in e||n in Hs}})):t.proxy}function vl(t,e=!0){return ue(t)?t.displayName||t.name:t.name||e&&t.__name}function Ov(t){return ue(t)&&"__vccOpts"in t}const Ge=(t,e)=>b_(t,e,Xr);function Rt(t,e,n){const r=arguments.length;return r===2?De(e)&&!le(e)?Jr(e)?Be(t,null,[e]):Be(t,e):Be(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Jr(n)&&(n=[n]),Be(t,e,n))}const Nv="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let El;const mh=typeof window<"u"&&window.trustedTypes;if(mh)try{El=mh.createPolicy("vue",{createHTML:t=>t})}catch{}const Jp=El?t=>El.createHTML(t):t=>t,Mv="http://www.w3.org/2000/svg",Lv="http://www.w3.org/1998/Math/MathML",hn=typeof document<"u"?document:null,yh=hn&&hn.createElement("template"),Fv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?hn.createElementNS(Mv,t):e==="mathml"?hn.createElementNS(Lv,t):n?hn.createElement(t,{is:n}):hn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>hn.createTextNode(t),createComment:t=>hn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{yh.innerHTML=Jp(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=yh.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Sn="transition",ks="animation",oi=Symbol("_vtc"),Xp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Bv=tt({},cp,Xp),Uv=t=>(t.displayName="Transition",t.props=Bv,t),jv=Uv((t,{slots:e})=>Rt(k_,Hv(t),e)),er=(t,e=[])=>{le(t)?t.forEach(n=>n(...e)):t&&t(...e)},_h=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function Hv(t){const e={};for(const R in t)R in Xp||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:f=o,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,T=$v(s),I=T&&T[0],k=T&&T[1],{onBeforeEnter:D,onEnter:V,onEnterCancelled:E,onLeave:S,onLeaveCancelled:O,onBeforeAppear:L=D,onAppear:w=V,onAppearCancelled:v=E}=e,_=(R,b,fe,me)=>{R._enterCancelled=me,tr(R,b?u:l),tr(R,b?f:o),fe&&fe()},A=(R,b)=>{R._isLeaving=!1,tr(R,d),tr(R,m),tr(R,g),b&&b()},x=R=>(b,fe)=>{const me=R?w:V,te=()=>_(b,R,fe);er(me,[b,te]),vh(()=>{tr(b,R?c:i),cn(b,R?u:l),_h(me)||Eh(b,r,I,te)})};return tt(e,{onBeforeEnter(R){er(D,[R]),cn(R,i),cn(R,o)},onBeforeAppear(R){er(L,[R]),cn(R,c),cn(R,f)},onEnter:x(!1),onAppear:x(!0),onLeave(R,b){R._isLeaving=!0;const fe=()=>A(R,b);cn(R,d),R._enterCancelled?(cn(R,g),bh()):(bh(),cn(R,g)),vh(()=>{R._isLeaving&&(tr(R,d),cn(R,m),_h(S)||Eh(R,r,k,fe))}),er(S,[R,fe])},onEnterCancelled(R){_(R,!1,void 0,!0),er(E,[R])},onAppearCancelled(R){_(R,!0,void 0,!0),er(v,[R])},onLeaveCancelled(R){A(R),er(O,[R])}})}function $v(t){if(t==null)return null;if(De(t))return[ja(t.enter),ja(t.leave)];{const e=ja(t);return[e,e]}}function ja(t){return Nd(t)}function cn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[oi]||(t[oi]=new Set)).add(e)}function tr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[oi];n&&(n.delete(e),n.size||(t[oi]=void 0))}function vh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let qv=0;function Eh(t,e,n,r){const s=t._endId=++qv,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:c}=zv(t,e);if(!o)return r();const f=o+"end";let u=0;const d=()=>{t.removeEventListener(f,g),i()},g=m=>{m.target===t&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},l+1),t.addEventListener(f,g)}function zv(t,e){const n=window.getComputedStyle(t),r=T=>(n[T]||"").split(", "),s=r(`${Sn}Delay`),i=r(`${Sn}Duration`),o=Th(s,i),l=r(`${ks}Delay`),c=r(`${ks}Duration`),f=Th(l,c);let u=null,d=0,g=0;e===Sn?o>0&&(u=Sn,d=o,g=i.length):e===ks?f>0&&(u=ks,d=f,g=c.length):(d=Math.max(o,f),u=d>0?o>f?Sn:ks:null,g=u?u===Sn?i.length:c.length:0);const m=u===Sn&&/\b(transform|all)(,|$)/.test(r(`${Sn}Property`).toString());return{type:u,timeout:d,propCount:g,hasTransform:m}}function Th(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>wh(n)+wh(t[r])))}function wh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function bh(){return document.body.offsetHeight}function Kv(t,e,n){const r=t[oi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ah=Symbol("_vod"),Gv=Symbol("_vsh"),Wv=Symbol(""),Qv=/(^|;)\s*display\s*:/;function Yv(t,e,n){const r=t.style,s=Ne(n);let i=!1;if(n&&!s){if(e)if(Ne(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&io(r,l,"")}else for(const o in e)n[o]==null&&io(r,o,"");for(const o in n)o==="display"&&(i=!0),io(r,o,n[o])}else if(s){if(e!==n){const o=r[Wv];o&&(n+=";"+o),r.cssText=n,i=Qv.test(n)}}else e&&t.removeAttribute("style");Ah in t&&(t[Ah]=i?r.display:"",t[Gv]&&(r.display="none"))}const Ih=/\s*!important$/;function io(t,e,n){if(le(n))n.forEach(r=>io(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Jv(t,e);Ih.test(n)?t.setProperty(_r(r),n.replace(Ih,""),"important"):t[r]=n}}const Ch=["Webkit","Moz","ms"],Ha={};function Jv(t,e){const n=Ha[e];if(n)return n;let r=Bt(e);if(r!=="filter"&&r in t)return Ha[e]=r;r=$o(r);for(let s=0;s<Ch.length;s++){const i=Ch[s]+r;if(i in t)return Ha[e]=i}return e}const Rh="http://www.w3.org/1999/xlink";function Sh(t,e,n,r,s,i=Ky(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Rh,e.slice(6,e.length)):t.setAttributeNS(Rh,e,n):n==null||i&&!Md(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Gn(n)?String(n):n)}function Ph(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Jp(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Md(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Xv(t,e,n,r){t.addEventListener(e,n,r)}function Zv(t,e,n,r){t.removeEventListener(e,n,r)}const xh=Symbol("_vei");function e0(t,e,n,r,s=null){const i=t[xh]||(t[xh]={}),o=i[e];if(r&&o)o.value=r;else{const[l,c]=t0(e);if(r){const f=i[e]=s0(r,s);Xv(t,l,f,c)}else o&&(Zv(t,l,o,c),i[e]=void 0)}}const kh=/(?:Once|Passive|Capture)$/;function t0(t){let e;if(kh.test(t)){e={};let r;for(;r=t.match(kh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_r(t.slice(2)),e]}let $a=0;const n0=Promise.resolve(),r0=()=>$a||(n0.then(()=>$a=0),$a=Date.now());function s0(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;qt(i0(r,n.value),e,5,[r])};return n.value=t,n.attached=r0(),n}function i0(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Vh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,o0=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?Kv(t,r,o):e==="style"?Yv(t,n,r):mi(e)?lc(e)||e0(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):a0(t,e,r,o))?(Ph(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Sh(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ne(r))?Ph(t,Bt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Sh(t,e,r,o))};function a0(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Vh(e)&&ue(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Vh(e)&&Ne(n)?!1:e in t}const Zp=tt({patchProp:o0},Fv);let zs,Dh=!1;function l0(){return zs||(zs=ov(Zp))}function c0(){return zs=Dh?zs:av(Zp),Dh=!0,zs}const u0=(...t)=>{const e=l0().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=tg(r);if(!s)return;const i=e._component;!ue(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,eg(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},h0=(...t)=>{const e=c0().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=tg(r);if(s)return n(s,!0,eg(s))},e};function eg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function tg(t){return Ne(t)?document.querySelector(t):t}const f0=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,d0=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,p0=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function g0(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){m0(t);return}return e}function m0(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Io(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!p0.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(f0.test(t)||d0.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,g0)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const y0=/#/g,_0=/&/g,v0=/\//g,E0=/=/g,Sc=/\+/g,T0=/%5e/gi,w0=/%60/gi,b0=/%7c/gi,A0=/%20/gi;function I0(t){return encodeURI(""+t).replace(b0,"|")}function Tl(t){return I0(typeof t=="string"?t:JSON.stringify(t)).replace(Sc,"%2B").replace(A0,"+").replace(y0,"%23").replace(_0,"%26").replace(w0,"`").replace(T0,"^").replace(v0,"%2F")}function qa(t){return Tl(t).replace(E0,"%3D")}function Co(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function C0(t){return Co(t.replace(Sc," "))}function R0(t){return Co(t.replace(Sc," "))}function Pc(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=C0(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=R0(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function S0(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${qa(t)}=${Tl(n)}`).join("&"):`${qa(t)}=${Tl(e)}`:qa(t)}function P0(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>S0(e,t[e])).filter(Boolean).join("&")}const x0=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,k0=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,V0=/^([/\\]\s*){2,}[^/\\]/,D0=/^[\s\0]*(blob|data|javascript|vbscript):$/i,O0=/\/$|\/\?|\/#/,N0=/^\.?\//;function Tn(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?x0.test(t):k0.test(t)||(e.acceptRelative?V0.test(t):!1)}function M0(t){return!!t&&D0.test(t)}function wl(t="",e){return e?O0.test(t):t.endsWith("/")}function Zr(t="",e){if(!e)return(wl(t)?t.slice(0,-1):t)||"/";if(!wl(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function ng(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(wl(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function L0(t,e){if(sg(e)||Tn(t))return t;const n=Zr(e);return t.startsWith(n)?t:Xo(n,t)}function Oh(t,e){if(sg(e))return t;const n=Zr(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function rg(t,e){const n=ag(t),r={...Pc(n.search),...e};return n.search=P0(r),U0(n)}function sg(t){return!t||t==="/"}function F0(t){return t&&t!=="/"}function Xo(t,...e){let n=t||"";for(const r of e.filter(s=>F0(s)))if(n){const s=r.replace(N0,"");n=ng(n)+s}else n=r;return n}function ig(...t){var o,l,c,f;const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const u of n)if(!(!u||u==="/")){for(const[d,g]of u.split(e).entries())if(!(!g||g===".")){if(g===".."){if(r.length===1&&Tn(r[0]))continue;r.pop(),s--;continue}if(d===1&&((o=r[r.length-1])!=null&&o.endsWith(":/"))){r[r.length-1]+="/"+g;continue}r.push(g),s++}}let i=r.join("/");return s>=0?(l=n[0])!=null&&l.startsWith("/")&&!i.startsWith("/")?i="/"+i:(c=n[0])!=null&&c.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,(f=n[n.length-1])!=null&&f.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function B0(t,e){return Co(Zr(t))===Co(Zr(e))}const og=Symbol.for("ufo:protocolRelative");function ag(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,g=""]=n;return{protocol:d.toLowerCase(),pathname:g,href:d+g,auth:"",host:"",search:"",hash:""}}if(!Tn(t,{acceptRelative:!0}))return Nh(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",l=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:f,hash:u}=Nh(l);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:f,hash:u,[og]:!r}}function Nh(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function U0(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[og]?(t.protocol||"")+"//":"")+s+i+e+n+r}class j0 extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function H0(t){var c,f,u,d,g;const e=((c=t.error)==null?void 0:c.message)||((f=t.error)==null?void 0:f.toString())||"",n=((u=t.request)==null?void 0:u.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((g=t.request)==null?void 0:g.url)||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,l=new j0(o,t.error?{cause:t.error}:void 0);for(const m of["request","options","response"])Object.defineProperty(l,m,{get(){return t[m]}});for(const[m,T]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(l,m,{get(){return t.response&&t.response[T]}});return l}const $0=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Mh(t="GET"){return $0.has(t.toUpperCase())}function q0(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const z0=new Set(["image/svg","application/xml","application/xhtml","application/html"]),K0=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function G0(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return K0.test(e)?"json":z0.has(e)||e.startsWith("text/")?"text":"blob"}function W0(t,e,n,r){const s=Q0((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:s}}function Q0(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Gi(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const Y0=new Set([408,409,425,429,500,502,503,504]),J0=new Set([101,204,205,304]);function lg(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(l){const c=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!c){let u;typeof l.options.retry=="number"?u=l.options.retry:u=Mh(l.options.method)?0:1;const d=l.response&&l.response.status||500;if(u>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(d):Y0.has(d))){const g=typeof l.options.retryDelay=="function"?l.options.retryDelay(l):l.options.retryDelay||0;return g>0&&await new Promise(m=>setTimeout(m,g)),i(l.request,{...l.options,retry:u-1})}}const f=H0(l);throw Error.captureStackTrace&&Error.captureStackTrace(f,i),f}const i=async function(c,f={}){const u={request:c,options:W0(c,f,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await Gi(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=L0(u.request,u.options.baseURL)),u.options.query&&(u.request=rg(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&Mh(u.options.method)&&(q0(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let d;if(!u.options.signal&&u.options.timeout){const m=new r;d=setTimeout(()=>{const T=new Error("[TimeoutError]: The operation was aborted due to timeout");T.name="TimeoutError",T.code=23,m.abort(T)},u.options.timeout),u.options.signal=m.signal}try{u.response=await e(u.request,u.options)}catch(m){return u.error=m,u.options.onRequestError&&await Gi(u,u.options.onRequestError),await s(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!J0.has(u.response.status)&&u.options.method!=="HEAD"){const m=(u.options.parseResponse?"json":u.options.responseType)||G0(u.response.headers.get("content-type")||"");switch(m){case"json":{const T=await u.response.text(),I=u.options.parseResponse||Io;u.response._data=I(T);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[m]()}}return u.options.onResponse&&await Gi(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Gi(u,u.options.onResponseError),await s(u)):u.response},o=async function(c,f){return(await i(c,f))._data};return o.raw=i,o.native=(...l)=>e(...l),o.create=(l={},c={})=>lg({...t,...c,defaults:{...t.defaults,...c.defaults,...l}}),o}const Ro=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),X0=Ro.fetch?(...t)=>Ro.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Z0=Ro.Headers,eE=Ro.AbortController,tE=lg({fetch:X0,Headers:Z0,AbortController:eE}),nE=tE,rE=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},So=rE().app,sE=()=>So.baseURL,iE=()=>So.buildAssetsDir,xc=(...t)=>ig(cg(),iE(),...t),cg=(...t)=>{const e=So.cdnURL||So.baseURL;return t.length?ig(e,...t):e};globalThis.__buildAssetsURL=xc,globalThis.__publicAssetsURL=cg;globalThis.$fetch||(globalThis.$fetch=nE.create({baseURL:sE()}));"global"in globalThis||(globalThis.global=globalThis);function bl(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?bl(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const oE={run:t=>t()},aE=()=>oE,ug=typeof console.createTask<"u"?console.createTask:aE;function lE(t,e){const n=e.shift(),r=ug(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function cE(t,e){const n=e.shift(),r=ug(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function za(t,e){for(const n of[...t])n(e)}class uE{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=bl(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=bl(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(lE,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(cE,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&za(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&za(this._after,s)}):(this._after&&s&&za(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function hg(){return new uE}function hE(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,l)=>{l||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,l)=>{r(o),e=o;try{return s?s.run(o,l):l()}finally{n||(e=void 0)}},async callAsync(o,l){e=o;const c=()=>{e=o},f=()=>e===o?c:void 0;Al.add(f);try{const u=s?s.run(o,l):l();return n||(e=void 0),await u}finally{Al.delete(f)}}}}function fE(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=hE({...t,...r})),e[n]}}}const Po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Lh="__unctx__",dE=Po[Lh]||(Po[Lh]=fE()),pE=(t,e={})=>dE.get(t,e),Fh="__unctx_async_handlers__",Al=Po[Fh]||(Po[Fh]=new Set);function $r(t){const e=[];for(const s of Al){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const Bh=!1,gE=!1,mE={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},RR={value:null,errorValue:null,deep:!0},yE=null,_E="#__nuxt",fg="nuxt-app",Uh=36e5,vE="vite:preloadError";function dg(t=fg){return pE(t,{asyncContext:!1})}const EE="__nuxt_plugin";function TE(t){var s;let e=0;const n={_id:t.id||fg||"nuxt-app",_scope:Wy(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.17.4"},get vue(){return n.vueApp.version}},payload:dn({...((s=t.ssrContext)==null?void 0:s.payload)||{},data:dn({}),state:Wn({}),once:new Set,_errors:dn({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!Ud()?n._scope.run(()=>jh(n,i)):jh(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:dn({}),_payloadRevivers:{},...t};{const i=window.__NUXT__;if(i)for(const o in i)switch(o){case"data":case"state":case"_errors":Object.assign(n.payload[o],i[o]);break;default:n.payload[o]=i[o]}}n.hooks=hg(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,o)=>{const l="$"+i;Wi(n,l,o),Wi(n.vueApp.config.globalProperties,l,o)},Wi(n.vueApp,"$nuxt",n),Wi(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(vE,o=>{n.callHook("app:chunkError",{error:o.payload}),o.payload.message.includes("Unable to preload CSS")&&o.preventDefault()}),window.useNuxtApp||(window.useNuxtApp=qe);const i=n.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}function wE(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function bE(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function AE(t,e){const n=new Set,r=[],s=[],i=[];let o=0;async function l(c){var u;const f=((u=c.dependsOn)==null?void 0:u.filter(d=>e.some(g=>g._name===d)&&!n.has(d)))??[];if(f.length>0)r.push([new Set(f),c]);else{const d=bE(t,c).then(async()=>{c._name&&(n.add(c._name),await Promise.all(r.map(async([g,m])=>{g.has(c._name)&&(g.delete(c._name),g.size===0&&(o++,await l(m)))})))});c.parallel?s.push(d.catch(g=>i.push(g))):await d}}for(const c of e)wE(t,c);for(const c of e)await l(c);if(await Promise.all(s),o)for(let c=0;c<o;c++)await Promise.all(s);if(i.length)throw i[0]}function sn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[EE]:!0,_name:e})}function jh(t,e,n){const r=()=>e();return dg(t._id).set(t),t.vueApp.runWithContext(r)}function IE(t){var n;let e;return wc()&&(e=(n=Ei())==null?void 0:n.appContext.app.$nuxt),e||(e=dg(t).tryUse()),e||null}function qe(t){const e=IE(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function fs(t){return qe().$config}function Wi(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function CE(t,e){return{ctx:{table:t},matchAll:n=>gg(n,t)}}function pg(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,pg(s)])):new Map(Object.entries(t[n]));return e}function RE(t){return CE(pg(t))}function gg(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Hh(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Hh(e.dynamic))if(t.startsWith(i+"/")){const l="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...gg(l,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Hh(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function Ka(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Il(t,e,n=".",r){if(!Ka(e))return Il(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Ka(o)&&Ka(s[i])?s[i]=Il(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function SE(t){return(...e)=>e.reduce((n,r)=>Il(n,r,"",t),{})}const mg=SE();function PE(t,e){try{return e in t}catch{return!1}}class Cl extends Error{constructor(n,r={}){super(n,r);Rn(this,"statusCode",500);Rn(this,"fatal",!1);Rn(this,"unhandled",!1);Rn(this,"statusMessage");Rn(this,"data");Rn(this,"cause");r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const n={message:this.message,statusCode:Rl(this.statusCode,500)};return this.statusMessage&&(n.statusMessage=yg(this.statusMessage)),this.data!==void 0&&(n.data=this.data),n}}Rn(Cl,"__h3_error__",!0);function xE(t){if(typeof t=="string")return new Cl(t);if(kE(t))return t;const e=new Cl(t.message??t.statusMessage??"",{cause:t.cause||t});if(PE(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Rl(t.statusCode,e.statusCode):t.status&&(e.statusCode=Rl(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;yg(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function kE(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const VE=/[^\u0009\u0020-\u007E]/g;function yg(t=""){return t.replace(VE,"")}function Rl(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const DE=Symbol("layout-meta"),Zo=Symbol("route"),xt=()=>{var t;return(t=qe())==null?void 0:t.$router},_g=()=>wc()?St(Zo,qe()._route):qe()._route;const OE=()=>{try{if(qe()._processingMiddleware)return!0}catch{return!1}return!1},NE=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:"path"in t?Sl(t):xt().resolve(t).href;if(e!=null&&e.open){const{target:c="_blank",windowFeatures:f={}}=e.open,u=Object.entries(f).filter(([d,g])=>g!==void 0).map(([d,g])=>`${d.toLowerCase()}=${g}`).join(", ");return open(n,c,u),Promise.resolve()}const r=Tn(n,{acceptRelative:!0}),s=(e==null?void 0:e.external)||r;if(s){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&M0(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const i=OE();if(!s&&i){if(e!=null&&e.replace){if(typeof t=="string"){const{pathname:c,search:f,hash:u}=ag(t);return{path:c,...f&&{query:Pc(f)},...u&&{hash:u},replace:!0}}return{...t,replace:!0}}return t}const o=xt(),l=qe();return s?(l._scope.stop(),e!=null&&e.replace?location.replace(n):location.href=n,i?l.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?o.replace(t):o.push(t)};function Sl(t){return rg(t.path||"",t.query||{})+(t.hash||"")}const vg="__nuxt_error",ea=()=>E_(qe().payload,"error"),sr=t=>{const e=dr(t);try{const n=qe(),r=ea();n.hooks.callHook("app:error",e),r.value||(r.value=e)}catch{throw e}return e},ME=async(t={})=>{const e=qe(),n=ea();e.callHook("app:error:cleared",t),t.redirect&&await xt().replace(t.redirect),n.value=yE},Eg=t=>!!t&&typeof t=="object"&&vg in t,dr=t=>{const e=xE(t);return Object.defineProperty(e,vg,{value:!0,configurable:!1,writable:!1}),e};function $h(t){const e=FE(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const LE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function FE(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=LE.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const BE=-1,UE=-2,jE=-3,HE=-4,$E=-5,qE=-6;function zE(t,e){return KE(JSON.parse(t),e)}function KE(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===BE)return;if(i===jE)return NaN;if(i===HE)return 1/0;if(i===$E)return-1/0;if(i===qE)return-0;if(o)throw new Error("Invalid input");if(i in r)return r[i];const l=n[i];if(!l||typeof l!="object")r[i]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const c=l[0],f=e==null?void 0:e[c];if(f)return r[i]=f(s(l[1]));switch(c){case"Date":r[i]=new Date(l[1]);break;case"Set":const u=new Set;r[i]=u;for(let m=1;m<l.length;m+=1)u.add(s(l[m]));break;case"Map":const d=new Map;r[i]=d;for(let m=1;m<l.length;m+=2)d.set(s(l[m]),s(l[m+1]));break;case"RegExp":r[i]=new RegExp(l[1],l[2]);break;case"Object":r[i]=Object(l[1]);break;case"BigInt":r[i]=BigInt(l[1]);break;case"null":const g=Object.create(null);r[i]=g;for(let m=1;m<l.length;m+=2)g[l[m]]=s(l[m+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const m=globalThis[c],T=l[1],I=$h(T),k=new m(I);r[i]=k;break}case"ArrayBuffer":{const m=l[1],T=$h(m);r[i]=T;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(l.length);r[i]=c;for(let f=0;f<l.length;f+=1){const u=l[f];u!==UE&&(c[f]=s(u))}}else{const c={};r[i]=c;for(const f in l){const u=l[f];c[f]=s(u)}}return r[i]}return s(0)}const GE=new Set(["link","style","script","noscript"]),WE=new Set(["title","titleTemplate","script","style","noscript"]),qh=new Set(["base","meta","link","style","script","noscript"]),QE=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),YE=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),JE=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),XE=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ZE=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);const eT=["name","property","http-equiv"];function Tg(t){const e=t.split(":");return e.length?ZE.has(e[1]):!1}function Pl(t){const{props:e,tag:n}=t;if(YE.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of eT)if(e[r]!==void 0)return`${n}:${e[r]}`}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(WE.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function zh(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function xo(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>xo(i,e));if((s==null?void 0:s.constructor)===Object){const i={};for(const o of Object.keys(s))i[o]=xo(s[o],e,o);return i}return s}function tT(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...l]=i.split(":").map(c=>c.trim());o&&l.length&&n.set(o,l.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function wg(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=tT(n,r);return}if(JE.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!(o!=null&&o.endsWith("json"))&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t}function nT(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=wg({tag:t,props:{}},n);return r.key&&GE.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function rT(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=xo(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(nT(s,o))}),r.flat()}const xl=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Kh={base:-10,title:10},sT={critical:-8,high:-1,low:2},Gh={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},iT=/@import/,Vs=t=>t===""||t===!0;function oT(t,e){var i;if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=sT[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Gh;if(e.tag in Kh)n=Kh[e.tag];else if(e.tag==="meta"){const o=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;o&&(n=Gh.meta[o])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?Vs(e.props.async)?n=s.script.async:e.props.src&&!Vs(e.props.defer)&&!Vs(e.props.async)&&e.props.type!=="module"&&!((i=e.props.type)!=null&&i.endsWith("json"))?n=s.script.sync:Vs(e.props.defer)&&e.props.src&&!Vs(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&iT.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Wh(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function aT(t={}){var l;const e=hg();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=[],o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:c=>Wh(o,c),push(c,f){const u={...f||{}};delete u.head;const d=u._index??o._entryCount++,g={_i:d,input:c,options:u},m={_poll(T=!1){o.dirty=!0,!T&&i.push(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&m._poll(!0)},patch(T){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(g.input=T,r.set(d,g),m._poll())}};return m.patch(c),m},async resolveTags(){var m;const c={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",c);i.length;){const T=i.shift(),I=r.get(T);if(I){const k={tags:rT(I.input,t.propResolvers||[]).map(D=>Object.assign(D,I.options)),entry:I};await e.callHook("entries:normalize",k),I._tags=k.tags.map((D,V)=>(D._w=oT(o,D),D._p=(I._i<<10)+V,D._d=Pl(D),D))}}let f=!1;c.entries.flatMap(T=>(T._tags||[]).map(I=>({...I,props:{...I.props}}))).sort(xl).reduce((T,I)=>{const k=String(I._d||I._p);if(!T.has(k))return T.set(k,I);const D=T.get(k);if(((I==null?void 0:I.tagDuplicateStrategy)||(XE.has(I.tag)?"merge":null)||(I.key&&I.key===D.key?"merge":null))==="merge"){const E={...D.props};Object.entries(I.props).forEach(([S,O])=>E[S]=S==="style"?new Map([...D.props.style||new Map,...O]):S==="class"?new Set([...D.props.class||new Set,...O]):O),T.set(k,{...I,props:E})}else I._p>>10===D._p>>10&&I.tag==="meta"&&Tg(k)?(T.set(k,Object.assign([...Array.isArray(D)?D:[D],I],I)),f=!0):(I._w===D._w?I._p>D._p:(I==null?void 0:I._w)<(D==null?void 0:D._w))&&T.set(k,I);return T},c.tagMap);const u=c.tagMap.get("title"),d=c.tagMap.get("titleTemplate");if(o._title=u==null?void 0:u.textContent,d){const T=d==null?void 0:d.textContent;if(o._titleTemplate=T,T){let I=typeof T=="function"?T(u==null?void 0:u.textContent):T;typeof I=="string"&&!o.plugins.has("template-params")&&(I=I.replace("%s",(u==null?void 0:u.textContent)||"")),u?I===null?c.tagMap.delete("title"):c.tagMap.set("title",{...u,textContent:I}):(d.tag="title",d.textContent=I)}}c.tags=Array.from(c.tagMap.values()),f&&(c.tags=c.tags.flat().sort(xl)),await e.callHook("tags:beforeResolve",c),await e.callHook("tags:resolve",c),await e.callHook("tags:afterResolve",c);const g=[];for(const T of c.tags){const{innerHTML:I,tag:k,props:D}=T;if(QE.has(k)&&!(Object.keys(D).length===0&&!T.innerHTML&&!T.textContent)&&!(k==="meta"&&!D.content&&!D["http-equiv"]&&!D.charset)){if(k==="script"&&I){if((m=D.type)!=null&&m.endsWith("json")){const V=typeof I=="string"?I:JSON.stringify(I);T.innerHTML=V.replace(/</g,"\\u003C")}else typeof I=="string"&&(T.innerHTML=I.replace(new RegExp(`</${k}`,"g"),`<\\/${k}`));T._d=Pl(T)}g.push(T)}}return g}};return((t==null?void 0:t.plugins)||[]).forEach(c=>Wh(o,c)),o.hooks.callHook("init",o),(l=t.init)==null||l.forEach(c=>c&&o.push(c)),o}const Vn="%separator",lT=new RegExp(`${Vn}(?:\\s*${Vn})*`,"g");function cT(t,e,n=!1){var s;let r;if(e==="s"||e==="pageTitle")r=t.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");r=(s=t[e.substring(0,i)])==null?void 0:s[e.substring(i+1)]}else r=t[e];if(r!==void 0)return n?(r||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):r||""}function Qi(t,e,n,r=!1){if(typeof t!="string"||!t.includes("%"))return t;let s=t;try{s=decodeURI(t)}catch{}const i=s.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const o=t.includes(Vn);return t=t.replace(/%\w+(?:\.\w+)?/g,l=>{if(l===Vn||!i.includes(l))return l;const c=cT(e,l.slice(1),r);return c!==void 0?c:l}).trim(),o&&(t.endsWith(Vn)&&(t=t.slice(0,-Vn.length)),t.startsWith(Vn)&&(t=t.slice(Vn.length)),t=t.replace(lT,n||"").trim()),t}const Qh=t=>t.includes(":key")?t:t.split(":").join(":key:"),uT={key:"aliasSorting",hooks:{"tags:resolve":t=>{let e=!1;for(const n of t.tags){const r=n.tagPriority;if(!r)continue;const s=String(r);if(s.startsWith("before:")){const i=Qh(s.slice(7)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p-1,e=!0)}else if(s.startsWith("after:")){const i=Qh(s.slice(6)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p+1,e=!0)}}e&&(t.tags=t.tags.sort(xl))}}},hT={key:"deprecations",hooks:{"entries:normalize":({tags:t})=>{for(const e of t)e.props.children&&(e.innerHTML=e.props.children,delete e.props.children),e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.body&&(e.tagPosition="bodyClose",delete e.props.body)}}};async function kl(t){if(typeof t==="function")return t;if(t instanceof Promise)return await t;if(Array.isArray(t))return await Promise.all(t.map(n=>kl(n)));if((t==null?void 0:t.constructor)===Object){const n={};for(const r of Object.keys(t))n[r]=await kl(t[r]);return n}return t}const fT={key:"promises",hooks:{"entries:resolve":async t=>{const e=[];for(const n in t.entries)t.entries[n]._promisesProcessed||e.push(kl(t.entries[n].input).then(r=>{t.entries[n].input=r,t.entries[n]._promisesProcessed=!0}));await Promise.all(e)}}},dT={meta:"content",link:"href",htmlAttrs:"lang"},pT=["innerHTML","textContent"],gT=t=>({key:"template-params",hooks:{"entries:normalize":e=>{var r,s,i;const n=((s=(r=e.tags.filter(o=>o.tag==="templateParams"&&o.mode==="server"))==null?void 0:r[0])==null?void 0:s.props)||{};Object.keys(n).length&&(t._ssrPayload={templateParams:{...((i=t._ssrPayload)==null?void 0:i.templateParams)||{},...n}})},"tags:resolve":({tagMap:e,tags:n})=>{var i;const r=((i=e.get("templateParams"))==null?void 0:i.props)||{},s=r.separator||"|";delete r.separator,r.pageTitle=Qi(r.pageTitle||t._title||"",r,s);for(const o of n){if(o.processTemplateParams===!1)continue;const l=dT[o.tag];if(l&&typeof o.props[l]=="string")o.props[l]=Qi(o.props[l],r,s);else if(o.processTemplateParams||o.tag==="titleTemplate"||o.tag==="title")for(const c of pT)typeof o[c]=="string"&&(o[c]=Qi(o[c],r,s,o.tag==="script"&&o.props.type.endsWith("json")))}t._templateParams=r,t._separator=s},"tags:afterResolve":({tagMap:e})=>{const n=e.get("title");n!=null&&n.textContent&&n.processTemplateParams!==!1&&(n.textContent=Qi(n.textContent,t._templateParams,t._separator))}}}),mT=(t,e)=>Je(e)?m_(e):e,bg="usehead";function yT(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(bg,t)}}.install}function _T(){if(wc()){const t=St(bg);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function SR(t,e={}){const n=e.head||_T();return n.ssr?n.push(t||{},e):vT(n,t,e)}function vT(t,e,n={}){const r=en(!1);let s;return hv(()=>{const o=r.value?{}:xo(e,mT);s?s.patch(o):s=t.push(o,n)}),Ei()&&(hs(()=>{s.dispose()}),gp(()=>{r.value=!0}),pp(()=>{r.value=!1})),s}const ET="modulepreload",TT=function(t,e){return new URL(t,e).href},Yh={},Nr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(n.map(u=>{if(u=TT(u,r),u in Yh)return;Yh[u]=!0;const d=u.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(!!r)for(let I=l.length-1;I>=0;I--){const k=l[I];if(k.href===u&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const T=document.createElement("link");if(T.rel=d?"stylesheet":ET,d||(T.as="script"),T.crossOrigin="",T.href=u,f&&T.setAttribute("nonce",f),document.head.appendChild(T),d)return new Promise((I,k)=>{T.addEventListener("load",I),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};let oo,ao;function wT(){return oo=$fetch(xc(`builds/meta/${fs().app.buildId}.json`),{responseType:"json"}),oo.then(t=>{ao=RE(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),oo}function ta(){return oo||wT()}async function kc(t){const e=typeof t=="string"?t:t.path;if(await ta(),!ao)return console.error("[nuxt] Error creating app manifest matcher.",ao),{};try{return mg({},...ao.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Jh(t,e={}){if(!await Ig(t))return null;const r=await AT(t,e);return await Ag(r)||null}const bT="_payload.json";async function AT(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||Tn(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=fs(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await Ig(t)?i:r.app.baseURL;return Xo(o,n.pathname,bT+(s?`?${s}`:""))}async function Ag(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(Cg));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function Ig(t=_g().path){const e=qe();return t=Zr(t),(await ta()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await kc({path:t});return!!r.prerender&&!r.redirect})}let nr=null;async function IT(){var r;if(nr)return nr;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await Cg(t.textContent||""),n=t.dataset.src?await Ag(t.dataset.src):void 0;return nr={...e,...n,...window.__NUXT__},(r=nr.config)!=null&&r.public&&(nr.config.public=Wn(nr.config.public)),nr}async function Cg(t){return await zE(t,qe()._payloadRevivers)}function CT(t,e){qe()._payloadRevivers[t]=e}const RT=[["NuxtError",t=>dr(t)],["EmptyShallowRef",t=>Wr(t==="_"?void 0:t==="0n"?BigInt(0):Io(t))],["EmptyRef",t=>en(t==="_"?void 0:t==="0n"?BigInt(0):Io(t))],["ShallowRef",t=>Wr(t)],["ShallowReactive",t=>dn(t)],["Ref",t=>en(t)],["Reactive",t=>Wn(t)]],ST=sn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of RT)CT(r,s);Object.assign(t.payload,([e,n]=$r(()=>t.runWithContext(IT)),e=await e,n(),e)),window.__NUXT__=t.payload}});async function Vc(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{var m;const i=new Map,o=new Promise(T=>{t.resolveTags().then(I=>{T(I.map(k=>{const D=i.get(k._d)||0,V={tag:k,id:(D?`${k._d}:${D}`:k._d)||zh(k),shouldRender:!0};return k._d&&Tg(k._d)&&i.set(k._d,D+1),V}))})});let l=t._dom;if(!l){l={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const T of["body","head"]){const I=(m=n[T])==null?void 0:m.children;for(const k of I){const D=k.tagName.toLowerCase();if(!qh.has(D))continue;const V=wg({tag:D,props:{}},{innerHTML:k.innerHTML,...k.getAttributeNames().reduce((E,S)=>(E[S]=k.getAttribute(S),E),{})||{}});if(V.key=k.getAttribute("data-hid")||void 0,V._d=Pl(V)||zh(V),l.elMap.has(V._d)){let E=1,S=V._d;for(;l.elMap.has(S);)S=`${V._d}:${E++}`;l.elMap.set(S,k)}else l.elMap.set(V._d,k)}}}l.pendingSideEffects={...l.sideEffects},l.sideEffects={};function c(T,I,k){const D=`${T}:${I}`;l.sideEffects[D]=k,delete l.pendingSideEffects[D]}function f({id:T,$el:I,tag:k}){const D=k.tag.endsWith("Attrs");l.elMap.set(T,I),D||(k.textContent&&k.textContent!==I.textContent&&(I.textContent=k.textContent),k.innerHTML&&k.innerHTML!==I.innerHTML&&(I.innerHTML=k.innerHTML),c(T,"el",()=>{I==null||I.remove(),l.elMap.delete(T)}));for(const V in k.props){if(!Object.prototype.hasOwnProperty.call(k.props,V))continue;const E=k.props[V];if(V.startsWith("on")&&typeof E=="function"){const O=I==null?void 0:I.dataset;if(O&&O[`${V}fired`]){const L=V.slice(0,-5);E.call(I,new Event(L.substring(2)))}I.getAttribute(`data-${V}`)!==""&&((k.tag==="bodyAttrs"?n.defaultView:I).addEventListener(V.substring(2),E.bind(I)),I.setAttribute(`data-${V}`,""));continue}const S=`attr:${V}`;if(V==="class"){if(!E)continue;for(const O of E)D&&c(T,`${S}:${O}`,()=>I.classList.remove(O)),!I.classList.contains(O)&&I.classList.add(O)}else if(V==="style"){if(!E)continue;for(const[O,L]of E)c(T,`${S}:${O}`,()=>{I.style.removeProperty(O)}),I.style.setProperty(O,L)}else E!==!1&&E!==null&&(I.getAttribute(V)!==E&&I.setAttribute(V,E===!0?"":String(E)),D&&c(T,S,()=>I.removeAttribute(V)))}}const u=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},g=await o;for(const T of g){const{tag:I,shouldRender:k,id:D}=T;if(k){if(I.tag==="title"){n.title=I.textContent,c("title","",()=>n.title=l.title);continue}T.$el=T.$el||l.elMap.get(D),T.$el?f(T):qh.has(I.tag)&&u.push(T)}}for(const T of u){const I=T.tag.tagPosition||"head";T.$el=n.createElement(T.tag.tag),f(T),d[I]=d[I]||n.createDocumentFragment(),d[I].appendChild(T.$el)}for(const T of g)await t.hooks.callHook("dom:renderTag",T,n,c);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const T in l.pendingSideEffects)l.pendingSideEffects[T]();t._dom=l,await t.hooks.callHook("dom:rendered",{renders:g}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function PT(t={}){var r,s,i;const e=((r=t.domOptions)==null?void 0:r.render)||Vc;t.document=t.document||(typeof window<"u"?document:void 0);const n=((i=(s=t.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return aT({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function xT(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function kT(t={}){const e=PT({domOptions:{render:xT(()=>Vc(e),n=>setTimeout(n,0))},...t});return e.install=yT(e),e}const VT={disableDefaults:!0,disableCapoSorting:!1,plugins:[hT,fT,gT,uT]},DT=sn({name:"nuxt:head",enforce:"pre",setup(t){const e=kT(VT);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Vc(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Pr=typeof document<"u";function Rg(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function OT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Rg(t.default)}const Ce=Object.assign;function Ga(t,e){const n={};for(const r in e){const s=e[r];n[r]=zt(s)?s.map(t):t(s)}return n}const Ks=()=>{},zt=Array.isArray,Sg=/#/g,NT=/&/g,MT=/\//g,LT=/=/g,FT=/\?/g,Pg=/\+/g,BT=/%5B/g,UT=/%5D/g,xg=/%5E/g,jT=/%60/g,kg=/%7B/g,HT=/%7C/g,Vg=/%7D/g,$T=/%20/g;function Dc(t){return encodeURI(""+t).replace(HT,"|").replace(BT,"[").replace(UT,"]")}function qT(t){return Dc(t).replace(kg,"{").replace(Vg,"}").replace(xg,"^")}function Vl(t){return Dc(t).replace(Pg,"%2B").replace($T,"+").replace(Sg,"%23").replace(NT,"%26").replace(jT,"`").replace(kg,"{").replace(Vg,"}").replace(xg,"^")}function zT(t){return Vl(t).replace(LT,"%3D")}function KT(t){return Dc(t).replace(Sg,"%23").replace(FT,"%3F")}function GT(t){return t==null?"":KT(t).replace(MT,"%2F")}function ai(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const WT=/\/$/,QT=t=>t.replace(WT,"");function Wa(t,e,n="/"){let r,s={},i="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,l>-1?l:e.length),s=t(i)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=ZT(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:ai(o)}}function YT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Xh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function JT(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&es(e.matched[r],n.matched[s])&&Dg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function es(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Dg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!XT(t[n],e[n]))return!1;return!0}function XT(t,e){return zt(t)?Zh(t,e):zt(e)?Zh(e,t):t===e}function Zh(t,e){return zt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ZT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Lt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var li;(function(t){t.pop="pop",t.push="push"})(li||(li={}));var Gs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Gs||(Gs={}));function ew(t){if(!t)if(Pr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),QT(t)}const tw=/^[^#]+#/;function nw(t,e){return t.replace(tw,"#")+e}function rw(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const na=()=>({left:window.scrollX,top:window.scrollY});function sw(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=rw(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ef(t,e){return(history.state?history.state.position-e:-1)+t}const Dl=new Map;function iw(t,e){Dl.set(t,e)}function ow(t){const e=Dl.get(t);return Dl.delete(t),e}let aw=()=>location.protocol+"//"+location.host;function Og(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let l=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(l);return c[0]!=="/"&&(c="/"+c),Xh(c,"")}return Xh(n,t)+r+s}function lw(t,e,n,r){let s=[],i=[],o=null;const l=({state:g})=>{const m=Og(t,location),T=n.value,I=e.value;let k=0;if(g){if(n.value=m,e.value=g,o&&o===T){o=null;return}k=I?g.position-I.position:0}else r(m);s.forEach(D=>{D(n.value,T,{delta:k,type:li.pop,direction:k?k>0?Gs.forward:Gs.back:Gs.unknown})})};function c(){o=n.value}function f(g){s.push(g);const m=()=>{const T=s.indexOf(g);T>-1&&s.splice(T,1)};return i.push(m),m}function u(){const{history:g}=window;g.state&&g.replaceState(Ce({},g.state,{scroll:na()}),"")}function d(){for(const g of i)g();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:f,destroy:d}}function tf(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?na():null}}function cw(t){const{history:e,location:n}=window,r={value:Og(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,f,u){const d=t.indexOf("#"),g=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+c:aw()+t+c;try{e[u?"replaceState":"pushState"](f,"",g),s.value=f}catch(m){console.error(m),n[u?"replace":"assign"](g)}}function o(c,f){const u=Ce({},e.state,tf(s.value.back,c,s.value.forward,!0),f,{position:s.value.position});i(c,u,!0),r.value=c}function l(c,f){const u=Ce({},s.value,e.state,{forward:c,scroll:na()});i(u.current,u,!0);const d=Ce({},tf(r.value,c,null),{position:u.position+1},f);i(c,d,!1),r.value=c}return{location:r,state:s,push:l,replace:o}}function uw(t){t=ew(t);const e=cw(t),n=lw(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Ce({location:"",base:t,go:r,createHref:nw.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function hw(t){return typeof t=="string"||t&&typeof t=="object"}function Ng(t){return typeof t=="string"||typeof t=="symbol"}const Mg=Symbol("");var nf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(nf||(nf={}));function ts(t,e){return Ce(new Error,{type:t,[Mg]:!0},e)}function un(t,e){return t instanceof Error&&Mg in t&&(e==null||!!(t.type&e))}const rf="[^/]+?",fw={sensitive:!1,strict:!1,start:!0,end:!0},dw=/[.+*?^${}()[\]/\\]/g;function pw(t,e){const n=Ce({},fw,e),r=[];let s=n.start?"^":"";const i=[];for(const f of t){const u=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let d=0;d<f.length;d++){const g=f[d];let m=40+(n.sensitive?.25:0);if(g.type===0)d||(s+="/"),s+=g.value.replace(dw,"\\$&"),m+=40;else if(g.type===1){const{value:T,repeatable:I,optional:k,regexp:D}=g;i.push({name:T,repeatable:I,optional:k});const V=D||rf;if(V!==rf){m+=10;try{new RegExp(`(${V})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${T}" (${V}): `+S.message)}}let E=I?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;d||(E=k&&f.length<2?`(?:/${E})`:"/"+E),k&&(E+="?"),s+=E,m+=20,k&&(m+=-8),I&&(m+=-20),V===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(f){const u=f.match(o),d={};if(!u)return null;for(let g=1;g<u.length;g++){const m=u[g]||"",T=i[g-1];d[T.name]=m&&T.repeatable?m.split("/"):m}return d}function c(f){let u="",d=!1;for(const g of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const m of g)if(m.type===0)u+=m.value;else if(m.type===1){const{value:T,repeatable:I,optional:k}=m,D=T in f?f[T]:"";if(zt(D)&&!I)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const V=zt(D)?D.join("/"):D;if(!V)if(k)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${T}"`);u+=V}}return u||"/"}return{re:o,score:r,keys:i,parse:l,stringify:c}}function gw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Lg(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=gw(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(sf(r))return 1;if(sf(s))return-1}return s.length-r.length}function sf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const mw={type:0,value:""},yw=/[a-zA-Z0-9_]/;function _w(t){if(!t)return[[]];if(t==="/")return[[mw]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${f}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,c,f="",u="";function d(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function g(){f+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&d(),o()):c===":"?(d(),n=1):g();break;case 4:g(),n=r;break;case 1:c==="("?n=2:yw.test(c)?g():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),d(),o(),s}function vw(t,e,n){const r=pw(_w(t.path),n),s=Ce(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Ew(t,e){const n=[],r=new Map;e=cf({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,g,m){const T=!m,I=af(d);I.aliasOf=m&&m.record;const k=cf(e,d),D=[I];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const O of S)D.push(af(Ce({},I,{components:m?m.record.components:I.components,path:O,aliasOf:m?m.record:I})))}let V,E;for(const S of D){const{path:O}=S;if(g&&O[0]!=="/"){const L=g.record.path,w=L[L.length-1]==="/"?"":"/";S.path=g.record.path+(O&&w+O)}if(V=vw(S,g,k),m?m.alias.push(V):(E=E||V,E!==V&&E.alias.push(V),T&&d.name&&!lf(V)&&o(d.name)),Fg(V)&&c(V),I.children){const L=I.children;for(let w=0;w<L.length;w++)i(L[w],V,m&&m.children[w])}m=m||V}return E?()=>{o(E)}:Ks}function o(d){if(Ng(d)){const g=r.get(d);g&&(r.delete(d),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(d);g>-1&&(n.splice(g,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function l(){return n}function c(d){const g=bw(d,n);n.splice(g,0,d),d.record.name&&!lf(d)&&r.set(d.record.name,d)}function f(d,g){let m,T={},I,k;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw ts(1,{location:d});k=m.record.name,T=Ce(of(g.params,m.keys.filter(E=>!E.optional).concat(m.parent?m.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&of(d.params,m.keys.map(E=>E.name))),I=m.stringify(T)}else if(d.path!=null)I=d.path,m=n.find(E=>E.re.test(I)),m&&(T=m.parse(I),k=m.record.name);else{if(m=g.name?r.get(g.name):n.find(E=>E.re.test(g.path)),!m)throw ts(1,{location:d,currentLocation:g});k=m.record.name,T=Ce({},g.params,d.params),I=m.stringify(T)}const D=[];let V=m;for(;V;)D.unshift(V.record),V=V.parent;return{name:k,path:I,params:T,matched:D,meta:ww(D)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:s}}function of(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function af(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Tw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Tw(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function lf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ww(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function cf(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function bw(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Lg(t,e[i])<0?r=i:n=i+1}const s=Aw(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Aw(t){let e=t;for(;e=e.parent;)if(Fg(e)&&Lg(t,e)===0)return e}function Fg({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Iw(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Pg," "),o=i.indexOf("="),l=ai(o<0?i:i.slice(0,o)),c=o<0?null:ai(i.slice(o+1));if(l in e){let f=e[l];zt(f)||(f=e[l]=[f]),f.push(c)}else e[l]=c}return e}function uf(t){let e="";for(let n in t){const r=t[n];if(n=zT(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(zt(r)?r.map(i=>i&&Vl(i)):[r&&Vl(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Cw(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=zt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Rw=Symbol(""),hf=Symbol(""),Oc=Symbol(""),Nc=Symbol(""),Ol=Symbol("");function Ds(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Dn(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const f=g=>{g===!1?c(ts(4,{from:n,to:e})):g instanceof Error?c(g):hw(g)?c(ts(2,{from:e,to:g})):(o&&r.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),l())},u=i(()=>t.call(r&&r.instances[s],e,n,f));let d=Promise.resolve(u);t.length<3&&(d=d.then(f)),d.catch(g=>c(g))})}function Qa(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Rg(c)){const u=(c.__vccOpts||c)[e];u&&i.push(Dn(u,n,r,o,l,s))}else{let f=c();i.push(()=>f.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const d=OT(u)?u.default:u;o.mods[l]=u,o.components[l]=d;const m=(d.__vccOpts||d)[e];return m&&Dn(m,n,r,o,l,s)()}))}}return i}function ff(t){const e=St(Oc),n=St(Nc),r=Ge(()=>{const c=Fe(t.to);return e.resolve(c)}),s=Ge(()=>{const{matched:c}=r.value,{length:f}=c,u=c[f-1],d=n.matched;if(!u||!d.length)return-1;const g=d.findIndex(es.bind(null,u));if(g>-1)return g;const m=df(c[f-2]);return f>1&&df(u)===m&&d[d.length-1].path!==m?d.findIndex(es.bind(null,c[f-2])):g}),i=Ge(()=>s.value>-1&&Vw(n.params,r.value.params)),o=Ge(()=>s.value>-1&&s.value===n.matched.length-1&&Dg(n.params,r.value.params));function l(c={}){if(kw(c)){const f=e[Fe(t.replace)?"replace":"push"](Fe(t.to)).catch(Ks);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Ge(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function Sw(t){return t.length===1?t[0]:t}const Pw=us({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ff,setup(t,{slots:e}){const n=Wn(ff(t)),{options:r}=St(Oc),s=Ge(()=>({[pf(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pf(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Sw(e.default(n));return t.custom?i:Rt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),xw=Pw;function kw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Vw(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!zt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function df(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pf=(t,e,n)=>t??e??n,Dw=us({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=St(Ol),s=Ge(()=>t.route||r.value),i=St(hf,0),o=Ge(()=>{let f=Fe(i);const{matched:u}=s.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),l=Ge(()=>s.value.matched[o.value]);Ur(hf,Ge(()=>o.value+1)),Ur(Rw,l),Ur(Ol,s);const c=en();return jr(()=>[c.value,l.value,t.name],([f,u,d],[g,m,T])=>{u&&(u.instances[d]=f,m&&m!==u&&f&&f===g&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),f&&u&&(!m||!es(u,m)||!g)&&(u.enterCallbacks[d]||[]).forEach(I=>I(f))},{flush:"post"}),()=>{const f=s.value,u=t.name,d=l.value,g=d&&d.components[u];if(!g)return gf(n.default,{Component:g,route:f});const m=d.props[u],T=m?m===!0?f.params:typeof m=="function"?m(f):m:null,k=Rt(g,Ce({},T,e,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return gf(n.default,{Component:k,route:f})||k}}});function gf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Bg=Dw;function Ow(t){const e=Ew(t.routes,t),n=t.parseQuery||Iw,r=t.stringifyQuery||uf,s=t.history,i=Ds(),o=Ds(),l=Ds(),c=Wr(Lt);let f=Lt;Pr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ga.bind(null,U=>""+U),d=Ga.bind(null,GT),g=Ga.bind(null,ai);function m(U,X){let J,ne;return Ng(U)?(J=e.getRecordMatcher(U),ne=X):ne=U,e.addRoute(ne,J)}function T(U){const X=e.getRecordMatcher(U);X&&e.removeRoute(X)}function I(){return e.getRoutes().map(U=>U.record)}function k(U){return!!e.getRecordMatcher(U)}function D(U,X){if(X=Ce({},X||c.value),typeof U=="string"){const P=Wa(n,U,X.path),M=e.resolve({path:P.path},X),H=s.createHref(P.fullPath);return Ce(P,M,{params:g(M.params),hash:ai(P.hash),redirectedFrom:void 0,href:H})}let J;if(U.path!=null)J=Ce({},U,{path:Wa(n,U.path,X.path).path});else{const P=Ce({},U.params);for(const M in P)P[M]==null&&delete P[M];J=Ce({},U,{params:d(P)}),X.params=d(X.params)}const ne=e.resolve(J,X),ye=U.hash||"";ne.params=u(g(ne.params));const Se=YT(r,Ce({},U,{hash:qT(ye),path:ne.path})),C=s.createHref(Se);return Ce({fullPath:Se,hash:ye,query:r===uf?Cw(U.query):U.query||{}},ne,{redirectedFrom:void 0,href:C})}function V(U){return typeof U=="string"?Wa(n,U,c.value.path):Ce({},U)}function E(U,X){if(f!==U)return ts(8,{from:X,to:U})}function S(U){return w(U)}function O(U){return S(Ce(V(U),{replace:!0}))}function L(U){const X=U.matched[U.matched.length-1];if(X&&X.redirect){const{redirect:J}=X;let ne=typeof J=="function"?J(U):J;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=V(ne):{path:ne},ne.params={}),Ce({query:U.query,hash:U.hash,params:ne.path!=null?{}:U.params},ne)}}function w(U,X){const J=f=D(U),ne=c.value,ye=U.state,Se=U.force,C=U.replace===!0,P=L(J);if(P)return w(Ce(V(P),{state:typeof P=="object"?Ce({},ye,P.state):ye,force:Se,replace:C}),X||J);const M=J;M.redirectedFrom=X;let H;return!Se&&JT(r,ne,J)&&(H=ts(16,{to:M,from:ne}),Ot(ne,ne,!0,!1)),(H?Promise.resolve(H):A(M,ne)).catch(B=>un(B)?un(B,2)?B:Ut(B):ee(B,M,ne)).then(B=>{if(B){if(un(B,2))return w(Ce({replace:C},V(B.to),{state:typeof B.to=="object"?Ce({},ye,B.to.state):ye,force:Se}),X||M)}else B=R(M,ne,!0,C,ye);return x(M,ne,B),B})}function v(U,X){const J=E(U,X);return J?Promise.reject(J):Promise.resolve()}function _(U){const X=wn.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(U):U()}function A(U,X){let J;const[ne,ye,Se]=Nw(U,X);J=Qa(ne.reverse(),"beforeRouteLeave",U,X);for(const P of ne)P.leaveGuards.forEach(M=>{J.push(Dn(M,U,X))});const C=v.bind(null,U,X);return J.push(C),wt(J).then(()=>{J=[];for(const P of i.list())J.push(Dn(P,U,X));return J.push(C),wt(J)}).then(()=>{J=Qa(ye,"beforeRouteUpdate",U,X);for(const P of ye)P.updateGuards.forEach(M=>{J.push(Dn(M,U,X))});return J.push(C),wt(J)}).then(()=>{J=[];for(const P of Se)if(P.beforeEnter)if(zt(P.beforeEnter))for(const M of P.beforeEnter)J.push(Dn(M,U,X));else J.push(Dn(P.beforeEnter,U,X));return J.push(C),wt(J)}).then(()=>(U.matched.forEach(P=>P.enterCallbacks={}),J=Qa(Se,"beforeRouteEnter",U,X,_),J.push(C),wt(J))).then(()=>{J=[];for(const P of o.list())J.push(Dn(P,U,X));return J.push(C),wt(J)}).catch(P=>un(P,8)?P:Promise.reject(P))}function x(U,X,J){l.list().forEach(ne=>_(()=>ne(U,X,J)))}function R(U,X,J,ne,ye){const Se=E(U,X);if(Se)return Se;const C=X===Lt,P=Pr?history.state:{};J&&(ne||C?s.replace(U.fullPath,Ce({scroll:C&&P&&P.scroll},ye)):s.push(U.fullPath,ye)),c.value=U,Ot(U,X,J,C),Ut()}let b;function fe(){b||(b=s.listen((U,X,J)=>{if(!Kt.listening)return;const ne=D(U),ye=L(ne);if(ye){w(Ce(ye,{replace:!0,force:!0}),ne).catch(Ks);return}f=ne;const Se=c.value;Pr&&iw(ef(Se.fullPath,J.delta),na()),A(ne,Se).catch(C=>un(C,12)?C:un(C,2)?(w(Ce(V(C.to),{force:!0}),ne).then(P=>{un(P,20)&&!J.delta&&J.type===li.pop&&s.go(-1,!1)}).catch(Ks),Promise.reject()):(J.delta&&s.go(-J.delta,!1),ee(C,ne,Se))).then(C=>{C=C||R(ne,Se,!1),C&&(J.delta&&!un(C,8)?s.go(-J.delta,!1):J.type===li.pop&&un(C,20)&&s.go(-1,!1)),x(ne,Se,C)}).catch(Ks)}))}let me=Ds(),te=Ds(),ce;function ee(U,X,J){Ut(U);const ne=te.list();return ne.length?ne.forEach(ye=>ye(U,X,J)):console.error(U),Promise.reject(U)}function xe(){return ce&&c.value!==Lt?Promise.resolve():new Promise((U,X)=>{me.add([U,X])})}function Ut(U){return ce||(ce=!U,fe(),me.list().forEach(([X,J])=>U?J(U):X()),me.reset()),U}function Ot(U,X,J,ne){const{scrollBehavior:ye}=t;if(!Pr||!ye)return Promise.resolve();const Se=!J&&ow(ef(U.fullPath,0))||(ne||!J)&&history.state&&history.state.scroll||null;return ni().then(()=>ye(U,X,Se)).then(C=>C&&sw(C)).catch(C=>ee(C,U,X))}const Me=U=>s.go(U);let Le;const wn=new Set,Kt={currentRoute:c,listening:!0,addRoute:m,removeRoute:T,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:I,resolve:D,options:t,push:S,replace:O,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:te.add,isReady:xe,install(U){const X=this;U.component("RouterLink",xw),U.component("RouterView",Bg),U.config.globalProperties.$router=X,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>Fe(c)}),Pr&&!Le&&c.value===Lt&&(Le=!0,S(s.location).catch(ye=>{}));const J={};for(const ye in Lt)Object.defineProperty(J,ye,{get:()=>c.value[ye],enumerable:!0});U.provide(Oc,X),U.provide(Nc,dn(J)),U.provide(Ol,c);const ne=U.unmount;wn.add(U),U.unmount=function(){wn.delete(U),wn.size<1&&(f=Lt,b&&b(),b=null,c.value=Lt,Le=!1,ce=!1),ne()}}};function wt(U){return U.reduce((X,J)=>X.then(()=>_(J)),Promise.resolve())}return Kt}function Nw(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(f=>es(f,l))?r.push(l):n.push(l));const c=t.matched[o];c&&(e.matched.find(f=>es(f,c))||s.push(c))}return[n,r,s]}function PR(t){return St(Nc)}const Mw=/(:\w+)\([^)]+\)/g,Lw=/(:\w+)[?+*]/g,Fw=/:\w+/g,Bw=(t,e)=>e.path.replace(Mw,"$1").replace(Lw,"$1").replace(Fw,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),Nl=(t,e)=>{const n=t.route.matched.find(s=>{var i;return((i=s.components)==null?void 0:i.default)===t.Component.type}),r=e??(n==null?void 0:n.meta.key)??(n&&Bw(t.route,n));return typeof r=="function"?r(t.route):r},Uw=(t,e)=>({default:()=>t?Rt(F_,t===!0?{}:t,e):e});function Mc(t){return Array.isArray(t)?t:[t]}const Ya=[{name:"index",path:"/",component:()=>Nr(()=>import("./DLdX1SE3.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)},{name:"contact",path:"/contact",component:()=>Nr(()=>import("./CNlRkBFD.js"),[],import.meta.url)},{name:"projecten",path:"/projecten",component:()=>Nr(()=>import("./CSh7wSaX.js"),__vite__mapDeps([5,1,2,3]),import.meta.url)},{name:"projecten-slug",path:"/projecten/:slug()",component:()=>Nr(()=>import("./DTtRrZ0l.js"),__vite__mapDeps([6,3]),import.meta.url)}],jw=(t,e)=>({default:()=>{var n;return t?Rt(jv,t===!0?{}:t,e):(n=e.default)==null?void 0:n.call(e)}}),Hw=/(:\w+)\([^)]+\)/g,$w=/(:\w+)[?+*]/g,qw=/:\w+/g;function mf(t){const e=(t==null?void 0:t.meta.key)??t.path.replace(Hw,"$1").replace($w,"$1").replace(qw,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""});return typeof e=="function"?e(t):e}function zw(t,e){return t===e||e===Lt?!1:mf(t)!==mf(e)?!0:!t.matched.every((r,s)=>{var i,o;return r.components&&r.components.default===((o=(i=e.matched[s])==null?void 0:i.components)==null?void 0:o.default)})}const Kw={scrollBehavior(t,e,n){var c;const r=qe(),s=((c=xt().options)==null?void 0:c.scrollBehaviorType)??"auto";if(t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:Ug(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;let o=n||void 0;!o&&zw(t,e)&&(o={left:0,top:0});const l=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(f=>{if(e===Lt){f(yf(t,"instant",o));return}r.hooks.hookOnce(l,()=>{requestAnimationFrame(()=>f(yf(t,"instant",o)))})})}};function Ug(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function yf(t,e,n){return n||(t.hash?{el:t.hash,top:Ug(t.hash),behavior:e}:{left:0,top:0,behavior:e})}const Gw={hashMode:!1,scrollBehaviorType:"auto"},Gt={...Gw,...Kw},Ww=async(t,e)=>{var o;let n,r;if(!((o=t.meta)!=null&&o.validate))return;const s=([n,r]=$r(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=dr({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},Qw=async t=>{let e,n;const r=([e,n]=$r(()=>kc({path:t.path})),e=await e,n(),e);if(r.redirect)return Tn(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},Yw=[Ww,Qw],Ws={};function Jw(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const f=i.includes(t.slice(o))?t.slice(o).length:1;let u=i.slice(f);return u[0]!=="/"&&(u="/"+u),Oh(u,"")}const l=Oh(r,t),c=!n||B0(l,n)?l:n;return c+(c.includes("?")?"":s)+i}const Xw=sn({name:"nuxt:router",enforce:"pre",async setup(t){var k;let e,n,r=fs().app.baseURL;const s=((k=Gt.history)==null?void 0:k.call(Gt,r))??uw(r),i=Gt.routes?([e,n]=$r(()=>Gt.routes(Ya)),e=await e,n(),e??Ya):Ya;let o;const l=Ow({...Gt,scrollBehavior:(D,V,E)=>{if(V===Lt){o=E;return}if(Gt.scrollBehavior){if(l.options.scrollBehavior=Gt.scrollBehavior,"scrollRestoration"in window.history){const S=l.beforeEach(()=>{S(),window.history.scrollRestoration="manual"})}return Gt.scrollBehavior(D,Lt,o||E)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(l);const c=Wr(l.currentRoute.value);l.afterEach((D,V)=>{c.value=V}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const f=Jw(r,window.location,t.payload.path),u=Wr(l.currentRoute.value),d=()=>{u.value=l.currentRoute.value};t.hook("page:finish",d),l.afterEach((D,V)=>{var E,S,O,L;((S=(E=D.matched[0])==null?void 0:E.components)==null?void 0:S.default)===((L=(O=V.matched[0])==null?void 0:O.components)==null?void 0:L.default)&&d()});const g={};for(const D in u.value)Object.defineProperty(g,D,{get:()=>u.value[D],enumerable:!0});t._route=dn(g),t._middleware||(t._middleware={global:[],named:{}});const m=ea();l.afterEach(async(D,V,E)=>{delete t._processingMiddleware,!t.isHydrating&&m.value&&await t.runWithContext(ME),E&&await t.callHook("page:loading:end")});try{[e,n]=$r(()=>l.isReady()),await e,n()}catch(D){[e,n]=$r(()=>t.runWithContext(()=>sr(D))),await e,n()}const T=f!==l.currentRoute.value.fullPath?l.resolve(f):l.currentRoute.value;d();const I=t.payload.state._layout;return l.beforeEach(async(D,V)=>{var E;await t.callHook("page:loading:start"),D.meta=Wn(D.meta),t.isHydrating&&I&&!mn(D.meta.layout)&&(D.meta.layout=I),t._processingMiddleware=!0;{const S=new Set([...Yw,...t._middleware.global]);for(const O of D.matched){const L=O.meta.middleware;if(L)for(const w of Mc(L))S.add(w)}{const O=await t.runWithContext(()=>kc({path:D.path}));if(O.appMiddleware)for(const L in O.appMiddleware)O.appMiddleware[L]?S.add(L):S.delete(L)}for(const O of S){const L=typeof O=="string"?t._middleware.named[O]||await((E=Ws[O])==null?void 0:E.call(Ws).then(w=>w.default||w)):O;if(!L)throw new Error(`Unknown route middleware: '${O}'.`);try{const w=await t.runWithContext(()=>L(D,V));if(!t.payload.serverRendered&&t.isHydrating&&(w===!1||w instanceof Error)){const v=w||dr({statusCode:404,statusMessage:`Page Not Found: ${f}`});return await t.runWithContext(()=>sr(v)),!1}if(w===!0)continue;if(w===!1)return w;if(w)return Eg(w)&&w.fatal&&await t.runWithContext(()=>sr(w)),w}catch(w){const v=dr(w);return v.fatal&&await t.runWithContext(()=>sr(v)),v}}}}),l.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),l.afterEach(async(D,V)=>{D.matched.length===0&&await t.runWithContext(()=>sr(dr({statusCode:404,fatal:!1,statusMessage:`Page not found: ${D.fullPath}`,data:{path:D.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in T&&(T.name=void 0),await l.replace({...T,force:!0}),l.options.scrollBehavior=Gt.scrollBehavior}catch(D){await t.runWithContext(()=>sr(D))}}),{provide:{router:l}}}}),Ml=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),Zw=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),ra=t=>{const e=qe();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Ml(()=>t())}):Ml(()=>t())},eb=sn({name:"nuxt:payload",setup(t){const e=new Set;xt().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Jh(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),ra(()=>{var n;t.hooks.hook("link:prefetch",async r=>{const{hostname:s}=new URL(r,window.location.href);s===window.location.hostname&&await Jh(r).catch(()=>{console.warn("[nuxt] Error preloading payload for",r)})}),((n=navigator.connection)==null?void 0:n.effectiveType)!=="slow-2g"&&setTimeout(ta,1e3)})}}),tb=sn(()=>{const t=xt();ra(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),nb=sn(t=>{let e;async function n(){const r=await ta();e&&clearTimeout(e),e=setTimeout(n,Uh);try{const s=await $fetch(xc("builds/latest.json")+`?${Date.now()}`);s.id!==r.id&&t.hooks.callHook("app:manifest:update",s)}catch{}}ra(()=>{e=setTimeout(n,Uh)})});function rb(t={}){const e=t.path||window.location.pathname;let n={};try{n=Io(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:qe().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const sb=sn({name:"nuxt:chunk-reload",setup(t){const e=xt(),n=fs(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const l="href"in i&&i.href[0]==="#"?n.app.baseURL+i.href:Xo(n.app.baseURL,i.fullPath);rb({path:l,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}}),ib=sn({name:"nuxt:global-components"}),Yi={};function ob(t){if(t!=null&&t.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function jg(t,e=xt()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(n)))return;const s=e._preloadPromises||(e._preloadPromises=[]);if(s.length>4)return Promise.all(s).then(()=>jg(t,e));e._routePreloaded.add(n);const i=r.map(o=>{var l;return(l=o.components)==null?void 0:l.default}).filter(o=>typeof o=="function");for(const o of i){const l=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(l)));s.push(l)}await Promise.all(s)}const ab=sn({name:"nuxt:prefetch",setup(t){const e=xt();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var s;const r=(s=n==null?void 0:n.meta)==null?void 0:s.layout;r&&typeof Yi[r]=="function"&&await Yi[r]()})}),t.hooks.hook("link:prefetch",n=>{if(Tn(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=Mc(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Ws[o]=="function"&&Ws[o]();typeof s=="string"&&s in Yi&&ob(Yi[s])})}}),lb=()=>{};var _f={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,f=c?t[s+2]:0,u=i>>2,d=(i&3)<<4|l>>4;let g=(l&15)<<2|f>>6,m=f&63;c||(m=64,o||(g=64)),r.push(n[u],n[d],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||f==null||d==null)throw new ub;const g=i<<2|l>>4;if(r.push(g),f!==64){const m=l<<4&240|f>>2;if(r.push(m),d!==64){const T=f<<6&192|d;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hb=function(t){const e=Hg(t);return $g.encodeByteArray(e,!0)},ko=function(t){return hb(t).replace(/\./g,"")},fb=function(t){try{return $g.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=()=>db().__FIREBASE_DEFAULTS__,gb=()=>{if(typeof process>"u"||typeof _f>"u")return;const t=_f.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fb(t[1]);return e&&JSON.parse(e)},Lc=()=>{try{return lb()||pb()||gb()||mb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yb=t=>{var e,n;return(n=(e=Lc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_b=t=>{const e=yb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qg=()=>{var t;return(t=Lc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return t.endsWith(".cloudworkstations.dev")}async function Eb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ko(JSON.stringify(n)),ko(JSON.stringify(o)),""].join(".")}const Qs={};function wb(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qs))Qs[e]?t.emulator.push(e):t.prod.push(e);return t}function bb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vf=!1;function Ab(t,e){if(typeof window>"u"||typeof document>"u"||!Fc(window.location.host)||Qs[t]===e||Qs[t]||vf)return;Qs[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=wb().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{vf=!0,o()},g}function u(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=bb(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),D=n("preprendIcon"),V=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const E=g.element;l(E),u(k,I);const S=f();c(V,D),E.append(V,T,k,S),document.body.appendChild(E)}i?(T.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cb(){var t;const e=(t=Lc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rb(){return!Cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sb(){try{return typeof indexedDB=="object"}catch{return!1}}function Pb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xb,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zg.prototype.create)}}class zg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?kb(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ds(s,l,r)}}function kb(t,e){return t.replace(Vb,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Vb=/\{\$([^}]+)}/g;function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ef(i)&&Ef(o)){if(!Vo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ef(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t){return t&&t._delegate?t._delegate:t}class ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mb(e))try{this.getOrInitializeService({instanceIdentifier:ir})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ir){return this.instances.has(e)}getOptions(e=ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ir){return this.component?this.component.multipleInstances?e:ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nb(t){return t===ir?void 0:t}function Mb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ob(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const Fb={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},Bb=ve.INFO,Ub={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},jb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Ub[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=Bb,this._logHandler=jb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const Hb=(t,e)=>e.some(n=>t instanceof n);let Tf,wf;function $b(){return Tf||(Tf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qb(){return wf||(wf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gg=new WeakMap,Ll=new WeakMap,Wg=new WeakMap,Ja=new WeakMap,Bc=new WeakMap;function zb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Gg.set(n,t)}).catch(()=>{}),Bc.set(e,t),e}function Kb(t){if(Ll.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ll.set(t,e)}let Fl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ll.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gb(t){Fl=t(Fl)}function Wb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xa(this),e,...n);return Wg.set(r,e.sort?e.sort():[e]),Fn(r)}:qb().includes(t)?function(...e){return t.apply(Xa(this),e),Fn(Gg.get(this))}:function(...e){return Fn(t.apply(Xa(this),e))}}function Qb(t){return typeof t=="function"?Wb(t):(t instanceof IDBTransaction&&Kb(t),Hb(t,$b())?new Proxy(t,Fl):t)}function Fn(t){if(t instanceof IDBRequest)return zb(t);if(Ja.has(t))return Ja.get(t);const e=Qb(t);return e!==t&&(Ja.set(t,e),Bc.set(e,t)),e}const Xa=t=>Bc.get(t);function Yb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Fn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Fn(o.result),c.oldVersion,c.newVersion,Fn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Jb=["get","getKey","getAll","getAllKeys","count"],Xb=["put","add","delete","clear"],Za=new Map;function bf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Za.get(e))return Za.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Xb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Jb.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),s&&c.done]))[0]};return Za.set(e,i),i}Gb(t=>({...t,get:(e,n,r)=>bf(e,n)||t.get(e,n,r),has:(e,n)=>!!bf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bl="@firebase/app",Af="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Kg("@firebase/app"),tA="@firebase/app-compat",nA="@firebase/analytics-compat",rA="@firebase/analytics",sA="@firebase/app-check-compat",iA="@firebase/app-check",oA="@firebase/auth",aA="@firebase/auth-compat",lA="@firebase/database",cA="@firebase/data-connect",uA="@firebase/database-compat",hA="@firebase/functions",fA="@firebase/functions-compat",dA="@firebase/installations",pA="@firebase/installations-compat",gA="@firebase/messaging",mA="@firebase/messaging-compat",yA="@firebase/performance",_A="@firebase/performance-compat",vA="@firebase/remote-config",EA="@firebase/remote-config-compat",TA="@firebase/storage",wA="@firebase/storage-compat",bA="@firebase/firestore",AA="@firebase/ai",IA="@firebase/firestore-compat",CA="firebase",RA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]",SA={[Bl]:"fire-core",[tA]:"fire-core-compat",[rA]:"fire-analytics",[nA]:"fire-analytics-compat",[iA]:"fire-app-check",[sA]:"fire-app-check-compat",[oA]:"fire-auth",[aA]:"fire-auth-compat",[lA]:"fire-rtdb",[cA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[hA]:"fire-fn",[fA]:"fire-fn-compat",[dA]:"fire-iid",[pA]:"fire-iid-compat",[gA]:"fire-fcm",[mA]:"fire-fcm-compat",[yA]:"fire-perf",[_A]:"fire-perf-compat",[vA]:"fire-rc",[EA]:"fire-rc-compat",[TA]:"fire-gcs",[wA]:"fire-gcs-compat",[bA]:"fire-fst",[IA]:"fire-fst-compat",[AA]:"fire-vertex","fire-js":"fire-js",[CA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Map,PA=new Map,jl=new Map;function If(t,e){try{t.container.addComponent(e)}catch(n){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Do(t){const e=t.name;if(jl.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;jl.set(e,t);for(const n of ui.values())If(n,t);for(const n of PA.values())If(n,t);return!0}function xA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bn=new zg("app","Firebase",VA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=RA;function Qg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ul,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Bn.create("bad-app-name",{appName:String(s)});if(n||(n=qg()),!n)throw Bn.create("no-options");const i=ui.get(s);if(i){if(Vo(n,i.options)&&Vo(r,i.config))return i;throw Bn.create("duplicate-app",{appName:s})}const o=new Lb(s);for(const c of jl.values())o.addComponent(c);const l=new DA(n,r,o);return ui.set(s,l),l}function NA(t=Ul){const e=ui.get(t);if(!e&&t===Ul&&qg())return Qg();if(!e)throw Bn.create("no-app",{appName:t});return e}function Cf(){return Array.from(ui.values())}function qr(t,e,n){var r;let s=(r=SA[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(l.join(" "));return}Do(new ci(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebase-heartbeat-database",LA=1,hi="firebase-heartbeat-store";let el=null;function Yg(){return el||(el=Yb(MA,LA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bn.create("idb-open",{originalErrorMessage:t.message})})),el}async function FA(t){try{const n=(await Yg()).transaction(hi),r=await n.objectStore(hi).get(Jg(t));return await n.done,r}catch(e){if(e instanceof ds)_n.warn(e.message);else{const n=Bn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_n.warn(n.message)}}}async function Rf(t,e){try{const r=(await Yg()).transaction(hi,"readwrite");await r.objectStore(hi).put(e,Jg(t)),await r.done}catch(n){if(n instanceof ds)_n.warn(n.message);else{const r=Bn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(r.message)}}}function Jg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,UA=30;class jA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $A(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sf();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>UA){const o=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_n.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sf(),{heartbeatsToSend:r,unsentEntries:s}=HA(this._heartbeatsCache.heartbeats),i=ko(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return _n.warn(n),""}}}function Sf(){return new Date().toISOString().substring(0,10)}function HA(t,e=BA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $A{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sb()?Pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pf(t){return ko(JSON.stringify({version:2,heartbeats:t})).length}function qA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){Do(new ci("platform-logger",e=>new Zb(e),"PRIVATE")),Do(new ci("heartbeat",e=>new jA(e),"PRIVATE")),qr(Bl,Af,t),qr(Bl,Af,"esm2017"),qr("fire-js","")}zA("");var KA="firebase",GA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(KA,GA,"app");var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Un,Xg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function _(){}_.prototype=v.prototype,w.D=v.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(A,x,R){for(var b=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)b[fe-2]=arguments[fe];return v.prototype[x].apply(A,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,v,_){_||(_=0);var A=Array(16);if(typeof v=="string")for(var x=0;16>x;++x)A[x]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(x=0;16>x;++x)A[x]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=w.g[0],_=w.g[1],x=w.g[2];var R=w.g[3],b=v+(R^_&(x^R))+A[0]+3614090360&4294967295;v=_+(b<<7&4294967295|b>>>25),b=R+(x^v&(_^x))+A[1]+3905402710&4294967295,R=v+(b<<12&4294967295|b>>>20),b=x+(_^R&(v^_))+A[2]+606105819&4294967295,x=R+(b<<17&4294967295|b>>>15),b=_+(v^x&(R^v))+A[3]+3250441966&4294967295,_=x+(b<<22&4294967295|b>>>10),b=v+(R^_&(x^R))+A[4]+4118548399&4294967295,v=_+(b<<7&4294967295|b>>>25),b=R+(x^v&(_^x))+A[5]+1200080426&4294967295,R=v+(b<<12&4294967295|b>>>20),b=x+(_^R&(v^_))+A[6]+2821735955&4294967295,x=R+(b<<17&4294967295|b>>>15),b=_+(v^x&(R^v))+A[7]+4249261313&4294967295,_=x+(b<<22&4294967295|b>>>10),b=v+(R^_&(x^R))+A[8]+1770035416&4294967295,v=_+(b<<7&4294967295|b>>>25),b=R+(x^v&(_^x))+A[9]+2336552879&4294967295,R=v+(b<<12&4294967295|b>>>20),b=x+(_^R&(v^_))+A[10]+4294925233&4294967295,x=R+(b<<17&4294967295|b>>>15),b=_+(v^x&(R^v))+A[11]+2304563134&4294967295,_=x+(b<<22&4294967295|b>>>10),b=v+(R^_&(x^R))+A[12]+1804603682&4294967295,v=_+(b<<7&4294967295|b>>>25),b=R+(x^v&(_^x))+A[13]+4254626195&4294967295,R=v+(b<<12&4294967295|b>>>20),b=x+(_^R&(v^_))+A[14]+2792965006&4294967295,x=R+(b<<17&4294967295|b>>>15),b=_+(v^x&(R^v))+A[15]+1236535329&4294967295,_=x+(b<<22&4294967295|b>>>10),b=v+(x^R&(_^x))+A[1]+4129170786&4294967295,v=_+(b<<5&4294967295|b>>>27),b=R+(_^x&(v^_))+A[6]+3225465664&4294967295,R=v+(b<<9&4294967295|b>>>23),b=x+(v^_&(R^v))+A[11]+643717713&4294967295,x=R+(b<<14&4294967295|b>>>18),b=_+(R^v&(x^R))+A[0]+3921069994&4294967295,_=x+(b<<20&4294967295|b>>>12),b=v+(x^R&(_^x))+A[5]+3593408605&4294967295,v=_+(b<<5&4294967295|b>>>27),b=R+(_^x&(v^_))+A[10]+38016083&4294967295,R=v+(b<<9&4294967295|b>>>23),b=x+(v^_&(R^v))+A[15]+3634488961&4294967295,x=R+(b<<14&4294967295|b>>>18),b=_+(R^v&(x^R))+A[4]+3889429448&4294967295,_=x+(b<<20&4294967295|b>>>12),b=v+(x^R&(_^x))+A[9]+568446438&4294967295,v=_+(b<<5&4294967295|b>>>27),b=R+(_^x&(v^_))+A[14]+3275163606&4294967295,R=v+(b<<9&4294967295|b>>>23),b=x+(v^_&(R^v))+A[3]+4107603335&4294967295,x=R+(b<<14&4294967295|b>>>18),b=_+(R^v&(x^R))+A[8]+1163531501&4294967295,_=x+(b<<20&4294967295|b>>>12),b=v+(x^R&(_^x))+A[13]+2850285829&4294967295,v=_+(b<<5&4294967295|b>>>27),b=R+(_^x&(v^_))+A[2]+4243563512&4294967295,R=v+(b<<9&4294967295|b>>>23),b=x+(v^_&(R^v))+A[7]+1735328473&4294967295,x=R+(b<<14&4294967295|b>>>18),b=_+(R^v&(x^R))+A[12]+2368359562&4294967295,_=x+(b<<20&4294967295|b>>>12),b=v+(_^x^R)+A[5]+4294588738&4294967295,v=_+(b<<4&4294967295|b>>>28),b=R+(v^_^x)+A[8]+2272392833&4294967295,R=v+(b<<11&4294967295|b>>>21),b=x+(R^v^_)+A[11]+1839030562&4294967295,x=R+(b<<16&4294967295|b>>>16),b=_+(x^R^v)+A[14]+4259657740&4294967295,_=x+(b<<23&4294967295|b>>>9),b=v+(_^x^R)+A[1]+2763975236&4294967295,v=_+(b<<4&4294967295|b>>>28),b=R+(v^_^x)+A[4]+1272893353&4294967295,R=v+(b<<11&4294967295|b>>>21),b=x+(R^v^_)+A[7]+4139469664&4294967295,x=R+(b<<16&4294967295|b>>>16),b=_+(x^R^v)+A[10]+3200236656&4294967295,_=x+(b<<23&4294967295|b>>>9),b=v+(_^x^R)+A[13]+681279174&4294967295,v=_+(b<<4&4294967295|b>>>28),b=R+(v^_^x)+A[0]+3936430074&4294967295,R=v+(b<<11&4294967295|b>>>21),b=x+(R^v^_)+A[3]+3572445317&4294967295,x=R+(b<<16&4294967295|b>>>16),b=_+(x^R^v)+A[6]+76029189&4294967295,_=x+(b<<23&4294967295|b>>>9),b=v+(_^x^R)+A[9]+3654602809&4294967295,v=_+(b<<4&4294967295|b>>>28),b=R+(v^_^x)+A[12]+3873151461&4294967295,R=v+(b<<11&4294967295|b>>>21),b=x+(R^v^_)+A[15]+530742520&4294967295,x=R+(b<<16&4294967295|b>>>16),b=_+(x^R^v)+A[2]+3299628645&4294967295,_=x+(b<<23&4294967295|b>>>9),b=v+(x^(_|~R))+A[0]+4096336452&4294967295,v=_+(b<<6&4294967295|b>>>26),b=R+(_^(v|~x))+A[7]+1126891415&4294967295,R=v+(b<<10&4294967295|b>>>22),b=x+(v^(R|~_))+A[14]+2878612391&4294967295,x=R+(b<<15&4294967295|b>>>17),b=_+(R^(x|~v))+A[5]+4237533241&4294967295,_=x+(b<<21&4294967295|b>>>11),b=v+(x^(_|~R))+A[12]+1700485571&4294967295,v=_+(b<<6&4294967295|b>>>26),b=R+(_^(v|~x))+A[3]+2399980690&4294967295,R=v+(b<<10&4294967295|b>>>22),b=x+(v^(R|~_))+A[10]+4293915773&4294967295,x=R+(b<<15&4294967295|b>>>17),b=_+(R^(x|~v))+A[1]+2240044497&4294967295,_=x+(b<<21&4294967295|b>>>11),b=v+(x^(_|~R))+A[8]+1873313359&4294967295,v=_+(b<<6&4294967295|b>>>26),b=R+(_^(v|~x))+A[15]+4264355552&4294967295,R=v+(b<<10&4294967295|b>>>22),b=x+(v^(R|~_))+A[6]+2734768916&4294967295,x=R+(b<<15&4294967295|b>>>17),b=_+(R^(x|~v))+A[13]+1309151649&4294967295,_=x+(b<<21&4294967295|b>>>11),b=v+(x^(_|~R))+A[4]+4149444226&4294967295,v=_+(b<<6&4294967295|b>>>26),b=R+(_^(v|~x))+A[11]+3174756917&4294967295,R=v+(b<<10&4294967295|b>>>22),b=x+(v^(R|~_))+A[2]+718787259&4294967295,x=R+(b<<15&4294967295|b>>>17),b=_+(R^(x|~v))+A[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(x+(b<<21&4294967295|b>>>11))&4294967295,w.g[2]=w.g[2]+x&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var _=v-this.blockSize,A=this.B,x=this.h,R=0;R<v;){if(x==0)for(;R<=_;)s(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<v;)if(A[x++]=w.charCodeAt(R++),x==this.blockSize){s(this,A),x=0;break}}else for(;R<v;)if(A[x++]=w[R++],x==this.blockSize){s(this,A),x=0;break}}this.h=x,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var _=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=_&255,_/=256;for(this.u(w),w=Array(16),v=_=0;4>v;++v)for(var A=0;32>A;A+=8)w[_++]=this.g[v]>>>A&255;return w};function i(w,v){var _=l;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=v(w)}function o(w,v){this.h=v;for(var _=[],A=!0,x=w.length-1;0<=x;x--){var R=w[x]|0;A&&R==v||(_[x]=R,A=!1)}this.g=_}var l={};function c(w){return-128<=w&&128>w?i(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function f(w){if(isNaN(w)||!isFinite(w))return d;if(0>w)return k(f(-w));for(var v=[],_=1,A=0;w>=_;A++)v[A]=w/_|0,_*=4294967296;return new o(v,0)}function u(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return k(u(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=f(Math.pow(v,8)),A=d,x=0;x<w.length;x+=8){var R=Math.min(8,w.length-x),b=parseInt(w.substring(x,x+R),v);8>R?(R=f(Math.pow(v,R)),A=A.j(R).add(f(b))):(A=A.j(_),A=A.add(f(b)))}return A}var d=c(0),g=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(I(this))return-k(this).m();for(var w=0,v=1,_=0;_<this.g.length;_++){var A=this.i(_);w+=(0<=A?A:4294967296+A)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(I(this))return"-"+k(this).toString(w);for(var v=f(Math.pow(w,6)),_=this,A="";;){var x=S(_,v).g;_=D(_,x.j(v));var R=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=x,T(_))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function I(w){return w.h==-1}t.l=function(w){return w=D(this,w),I(w)?-1:T(w)?0:1};function k(w){for(var v=w.g.length,_=[],A=0;A<v;A++)_[A]=~w.g[A];return new o(_,~w.h).add(g)}t.abs=function(){return I(this)?k(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],A=0,x=0;x<=v;x++){var R=A+(this.i(x)&65535)+(w.i(x)&65535),b=(R>>>16)+(this.i(x)>>>16)+(w.i(x)>>>16);A=b>>>16,R&=65535,b&=65535,_[x]=b<<16|R}return new o(_,_[_.length-1]&-2147483648?-1:0)};function D(w,v){return w.add(k(v))}t.j=function(w){if(T(this)||T(w))return d;if(I(this))return I(w)?k(this).j(k(w)):k(k(this).j(w));if(I(w))return k(this.j(k(w)));if(0>this.l(m)&&0>w.l(m))return f(this.m()*w.m());for(var v=this.g.length+w.g.length,_=[],A=0;A<2*v;A++)_[A]=0;for(A=0;A<this.g.length;A++)for(var x=0;x<w.g.length;x++){var R=this.i(A)>>>16,b=this.i(A)&65535,fe=w.i(x)>>>16,me=w.i(x)&65535;_[2*A+2*x]+=b*me,V(_,2*A+2*x),_[2*A+2*x+1]+=R*me,V(_,2*A+2*x+1),_[2*A+2*x+1]+=b*fe,V(_,2*A+2*x+1),_[2*A+2*x+2]+=R*fe,V(_,2*A+2*x+2)}for(A=0;A<v;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=v;A<2*v;A++)_[A]=0;return new o(_,0)};function V(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function E(w,v){this.g=w,this.h=v}function S(w,v){if(T(v))throw Error("division by zero");if(T(w))return new E(d,d);if(I(w))return v=S(k(w),v),new E(k(v.g),k(v.h));if(I(v))return v=S(w,k(v)),new E(k(v.g),v.h);if(30<w.g.length){if(I(w)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,A=v;0>=A.l(w);)_=O(_),A=O(A);var x=L(_,1),R=L(A,1);for(A=L(A,2),_=L(_,2);!T(A);){var b=R.add(A);0>=b.l(w)&&(x=x.add(_),R=b),A=L(A,1),_=L(_,1)}return v=D(w,x.j(v)),new E(x,v)}for(x=d;0<=w.l(v);){for(_=Math.max(1,Math.floor(w.m()/v.m())),A=Math.ceil(Math.log(_)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=f(_),b=R.j(v);I(b)||0<b.l(w);)_-=A,R=f(_),b=R.j(v);T(R)&&(R=g),x=x.add(R),w=D(w,b)}return new E(x,w)}t.A=function(w){return S(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],A=0;A<v;A++)_[A]=this.i(A)&w.i(A);return new o(_,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],A=0;A<v;A++)_[A]=this.i(A)|w.i(A);return new o(_,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],A=0;A<v;A++)_[A]=this.i(A)^w.i(A);return new o(_,this.h^w.h)};function O(w){for(var v=w.g.length+1,_=[],A=0;A<v;A++)_[A]=w.i(A)<<1|w.i(A-1)>>>31;return new o(_,w.h)}function L(w,v){var _=v>>5;v%=32;for(var A=w.g.length-_,x=[],R=0;R<A;R++)x[R]=0<v?w.i(R+_)>>>v|w.i(R+_+1)<<32-v:w.i(R+_);return new o(x,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xg=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=u,Un=o}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});var Ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zg,Ms,em,lo,Hl,tm,nm,rm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ji=="object"&&Ji];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var p=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var N=a[y];if(!(N in p))break e;p=p[N]}a=a[a.length-1],y=p[a],h=h(y),h!=y&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function i(a,h){a instanceof String&&(a+="");var p=0,y=!1,N={next:function(){if(!y&&p<a.length){var F=p++;return{value:h(F,a[F]),done:!1}}return y=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(a){return a||function(){return i(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function f(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function u(a,h,p){return a.call.apply(a.bind,arguments)}function d(a,h,p){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,y),a.apply(h,N)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,g.apply(null,arguments)}function m(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function T(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(y,N,F){for(var G=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)G[Pe-2]=arguments[Pe];return h.prototype[N].apply(y,G)}}function I(a){const h=a.length;if(0<h){const p=Array(h);for(let y=0;y<h;y++)p[y]=a[y];return p}return[]}function k(a,h){for(let p=1;p<arguments.length;p++){const y=arguments[p];if(c(y)){const N=a.length||0,F=y.length||0;a.length=N+F;for(let G=0;G<F;G++)a[N+G]=y[G]}else a.push(y)}}class D{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function V(a){return/^[\s\xa0]*$/.test(a)}function E(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function S(a){return S[" "](a),a}S[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(a,h,p){for(const y in a)h.call(p,a[y],y,a)}function w(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function v(a){const h={};for(const p in a)h[p]=a[p];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,h){let p,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(p in y)a[p]=y[p];for(let F=0;F<_.length;F++)p=_[F],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function x(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function R(a){l.setTimeout(()=>{throw a},0)}function b(){var a=xe;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class fe{constructor(){this.h=this.g=null}add(h,p){const y=me.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var me=new D(()=>new te,a=>a.reset());class te{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ee=!1,xe=new fe,Ut=()=>{const a=l.Promise.resolve(void 0);ce=()=>{a.then(Ot)}};var Ot=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(p){R(p)}var h=me;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}ee=!1};function Me(){this.s=this.s,this.C=this.C}Me.prototype.s=!1,Me.prototype.ma=function(){this.s||(this.s=!0,this.N())},Me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var wn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function Kt(a,h){if(Le.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(O){e:{try{S(h.nodeName);var N=!0;break e}catch{}N=!1}N||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:wt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Kt.aa.h.call(this)}}T(Kt,Le);var wt={2:"touch",3:"pen",4:"mouse"};Kt.prototype.h=function(){Kt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),X=0;function J(a,h,p,y,N){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=N,this.key=++X,this.da=this.fa=!1}function ne(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ye(a){this.src=a,this.g={},this.h=0}ye.prototype.add=function(a,h,p,y,N){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var G=C(a,h,y,N);return-1<G?(h=a[G],p||(h.fa=!1)):(h=new J(h,this.src,F,!!y,N),h.fa=p,a.push(h)),h};function Se(a,h){var p=h.type;if(p in a.g){var y=a.g[p],N=Array.prototype.indexOf.call(y,h,void 0),F;(F=0<=N)&&Array.prototype.splice.call(y,N,1),F&&(ne(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function C(a,h,p,y){for(var N=0;N<a.length;++N){var F=a[N];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==y)return N}return-1}var P="closure_lm_"+(1e6*Math.random()|0),M={};function H(a,h,p,y,N){if(Array.isArray(h)){for(var F=0;F<h.length;F++)H(a,h[F],p,y,N);return null}return p=se(p),a&&a[U]?a.K(h,p,f(y)?!!y.capture:!1,N):B(a,h,p,!1,y,N)}function B(a,h,p,y,N,F){if(!h)throw Error("Invalid event type");var G=f(N)?!!N.capture:!!N,Pe=ie(a);if(Pe||(a[P]=Pe=new ye(a)),p=Pe.add(h,p,y,G,F),p.proxy)return p;if(y=$(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)wn||(N=G),N===void 0&&(N=!1),a.addEventListener(h.toString(),y,N);else if(a.attachEvent)a.attachEvent(z(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function $(){function a(p){return h.call(a.src,a.listener,p)}const h=q;return a}function Q(a,h,p,y,N){if(Array.isArray(h))for(var F=0;F<h.length;F++)Q(a,h[F],p,y,N);else y=f(y)?!!y.capture:!!y,p=se(p),a&&a[U]?(a=a.i,h=String(h).toString(),h in a.g&&(F=a.g[h],p=C(F,p,y,N),-1<p&&(ne(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete a.g[h],a.h--)))):a&&(a=ie(a))&&(h=a.g[h.toString()],a=-1,h&&(a=C(h,p,y,N)),(p=-1<a?h[a]:null)&&K(p))}function K(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[U])Se(h.i,a);else{var p=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(p,y,a.capture):h.detachEvent?h.detachEvent(z(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=ie(h))?(Se(p,a),p.h==0&&(p.src=null,h[P]=null)):ne(a)}}}function z(a){return a in M?M[a]:M[a]="on"+a}function q(a,h){if(a.da)a=!0;else{h=new Kt(h,this);var p=a.listener,y=a.ha||a.src;a.fa&&K(a),a=p.call(y,h)}return a}function ie(a){return a=a[P],a instanceof ye?a:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function se(a){return typeof a=="function"?a:(a[Y]||(a[Y]=function(h){return a.handleEvent(h)}),a[Y])}function re(){Me.call(this),this.i=new ye(this),this.M=this,this.F=null}T(re,Me),re.prototype[U]=!0,re.prototype.removeEventListener=function(a,h,p,y){Q(this,a,h,p,y)};function ae(a,h){var p,y=a.F;if(y)for(p=[];y;y=y.F)p.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new Le(h,a);else if(h instanceof Le)h.target=h.target||a;else{var N=h;h=new Le(y,a),A(h,N)}if(N=!0,p)for(var F=p.length-1;0<=F;F--){var G=h.g=p[F];N=Ie(G,y,!0,h)&&N}if(G=h.g=a,N=Ie(G,y,!0,h)&&N,N=Ie(G,y,!1,h)&&N,p)for(F=0;F<p.length;F++)G=h.g=p[F],N=Ie(G,y,!1,h)&&N}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],y=0;y<p.length;y++)ne(p[y]);delete a.g[h],a.h--}}this.F=null},re.prototype.K=function(a,h,p,y){return this.i.add(String(a),h,!1,p,y)},re.prototype.L=function(a,h,p,y){return this.i.add(String(a),h,!0,p,y)};function Ie(a,h,p,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var N=!0,F=0;F<h.length;++F){var G=h[F];if(G&&!G.da&&G.capture==p){var Pe=G.listener,rt=G.ha||G.src;G.fa&&Se(a.i,G),N=Pe.call(rt,y)!==!1&&N}}return N&&!y.defaultPrevented}function we(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function lt(a){a.g=we(()=>{a.g=null,a.i&&(a.i=!1,lt(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Ze extends Me{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(a){Me.call(this),this.h=a,this.g={}}T(nt,Me);var ct=[];function bn(a){L(a.g,function(h,p){this.g.hasOwnProperty(p)&&K(h)},a),a.g={}}nt.prototype.N=function(){nt.aa.N.call(this),bn(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=l.JSON.stringify,yt=l.JSON.parse,Nt=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Tr(){}Tr.prototype.h=null;function au(a){return a.h||(a.h=a.i())}function lu(){}var _s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ma(){Le.call(this,"d")}T(ma,Le);function ya(){Le.call(this,"c")}T(ya,Le);var Qn={},cu=null;function Ii(){return cu=cu||new re}Qn.La="serverreachability";function uu(a){Le.call(this,Qn.La,a)}T(uu,Le);function vs(a){const h=Ii();ae(h,new uu(h))}Qn.STAT_EVENT="statevent";function hu(a,h){Le.call(this,Qn.STAT_EVENT,a),this.stat=h}T(hu,Le);function _t(a){const h=Ii();ae(h,new hu(h,a))}Qn.Ma="timingevent";function fu(a,h){Le.call(this,Qn.Ma,a),this.size=h}T(fu,Le);function Es(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function ly(a,h,p,y,N,F){a.info(function(){if(a.g)if(F)for(var G="",Pe=F.split("&"),rt=0;rt<Pe.length;rt++){var be=Pe[rt].split("=");if(1<be.length){var ut=be[0];be=be[1];var ht=ut.split("_");G=2<=ht.length&&ht[1]=="type"?G+(ut+"="+be+"&"):G+(ut+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+h+`
`+p+`
`+G})}function cy(a,h,p,y,N,F,G){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+h+`
`+p+`
`+F+" "+G})}function wr(a,h,p,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+hy(a,p)+(y?" "+y:"")})}function uy(a,h){a.info(function(){return"TIMEOUT: "+h})}Ts.prototype.info=function(){};function hy(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var y=p[a];if(!(2>y.length)){var N=y[1];if(Array.isArray(N)&&!(1>N.length)){var F=N[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<N.length;G++)N[G]=""}}}}return Er(p)}catch{return h}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},du={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_a;function Ri(){}T(Ri,Tr),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},_a=new Ri;function An(a,h,p,y){this.j=a,this.i=h,this.l=p,this.R=y||1,this.U=new nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}var gu={},va={};function Ea(a,h,p){a.L=1,a.v=ki(on(h)),a.m=p,a.P=!0,mu(a,null)}function mu(a,h){a.F=Date.now(),Si(a),a.A=on(a.v);var p=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),xu(p.i,"t",y),a.C=0,p=a.j.J,a.h=new pu,a.g=Wu(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Ze(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,y=a.ca;var N="readystatechange";Array.isArray(N)||(N&&(ct[0]=N.toString()),N=ct);for(var F=0;F<N.length;F++){var G=H(p,N[F],y||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),vs(),ly(a.i,a.u,a.A,a.l,a.R,a.m)}An.prototype.ca=function(a){a=a.target;const h=this.M;h&&an(a)==3?h.j():this.Y(a)},An.prototype.Y=function(a){try{if(a==this.g)e:{const ht=an(this.g);var h=this.g.Ba();const Ir=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||ht!=4||h==7||(h==8||0>=Ir?vs(3):vs(2)),Ta(this);var p=this.g.Z();this.X=p;t:if(yu(this)){var y=Lu(this.g);a="";var N=y.length,F=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),ws(this);var G="";break t}this.h.i=new l.TextDecoder}for(h=0;h<N;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(F&&h==N-1)});y.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,cy(this.i,this.u,this.A,this.l,this.R,ht,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,rt=this.g;if((Pe=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Pe)){var be=Pe;break t}}be=null}if(p=be)wr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,p);else{this.o=!1,this.s=3,_t(12),Yn(this),ws(this);break e}}if(this.P){p=!0;let jt;for(;!this.J&&this.C<G.length;)if(jt=fy(this,G),jt==va){ht==4&&(this.s=4,_t(14),p=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==gu){this.s=4,_t(15),wr(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else wr(this.i,this.l,jt,null),wa(this,jt);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||G.length!=0||this.h.h||(this.s=1,_t(16),p=!1),this.o=this.o&&p,!p)wr(this.i,this.l,G,"[Invalid Chunked Response]"),Yn(this),ws(this);else if(0<G.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Sa(ut),ut.M=!0,_t(11))}}else wr(this.i,this.l,G,null),wa(this,G);ht==4&&Yn(this),this.o&&!this.J&&(ht==4?qu(this.j,this):(this.o=!1,Si(this)))}else Py(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Yn(this),ws(this)}}}catch{}finally{}};function yu(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function fy(a,h){var p=a.C,y=h.indexOf(`
`,p);return y==-1?va:(p=Number(h.substring(p,y)),isNaN(p)?gu:(y+=1,y+p>h.length?va:(h=h.slice(y,y+p),a.C=y+p,h)))}An.prototype.cancel=function(){this.J=!0,Yn(this)};function Si(a){a.S=Date.now()+a.I,_u(a,a.I)}function _u(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Es(g(a.ba,a),h)}function Ta(a){a.B&&(l.clearTimeout(a.B),a.B=null)}An.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(uy(this.i,this.A),this.L!=2&&(vs(),_t(17)),Yn(this),this.s=2,ws(this)):_u(this,this.S-a)};function ws(a){a.j.G==0||a.J||qu(a.j,a)}function Yn(a){Ta(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,bn(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function wa(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||ba(p.h,a))){if(!a.K&&ba(p.h,a)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Li(p),Ni(p);else break e;Ra(p),_t(18)}}else p.za=N[1],0<p.za-p.T&&37500>N[2]&&p.F&&p.v==0&&!p.C&&(p.C=Es(g(p.Za,p),6e3));if(1>=Tu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Xn(p,11)}else if((a.K||p.g==a)&&Li(p),!V(h))for(N=p.Da.g.parse(h),h=0;h<N.length;h++){let be=N[h];if(p.T=be[0],be=be[1],p.G==2)if(be[0]=="c"){p.K=be[1],p.ia=be[2];const ut=be[3];ut!=null&&(p.la=ut,p.j.info("VER="+p.la));const ht=be[4];ht!=null&&(p.Aa=ht,p.j.info("SVER="+p.Aa));const Ir=be[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(y=1.5*Ir,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const jt=a.g;if(jt){const Bi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var F=y.h;F.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Aa(F,F.h),F.h=null))}if(y.D){const Pa=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(y.ya=Pa,Oe(y.I,y.D,Pa))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var G=a;if(y.qa=Gu(y,y.J?y.ia:null,y.W),G.K){wu(y.h,G);var Pe=G,rt=y.L;rt&&(Pe.I=rt),Pe.B&&(Ta(Pe),Si(Pe)),y.g=G}else Hu(y);0<p.i.length&&Mi(p)}else be[0]!="stop"&&be[0]!="close"||Xn(p,7);else p.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Xn(p,7):Ca(p):be[0]!="noop"&&p.l&&p.l.ta(be),p.v=0)}}vs(4)}catch{}}var dy=class{constructor(a,h){this.g=a,this.map=h}};function vu(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eu(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Tu(a){return a.h?1:a.g?a.g.size:0}function ba(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Aa(a,h){a.g?a.g.add(h):a.h=h}function wu(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}vu.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function bu(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return I(a.i)}function py(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],p=a.length,y=0;y<p;y++)h.push(a[y]);return h}h=[],p=0;for(y in a)h[p++]=a[y];return h}function gy(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const y in a)h[p++]=y;return h}}}function Au(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=gy(a),y=py(a),N=y.length,F=0;F<N;F++)h.call(void 0,y[F],p&&p[F],a)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function my(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var y=a[p].indexOf("="),N=null;if(0<=y){var F=a[p].substring(0,y);N=a[p].substring(y+1)}else F=a[p];h(F,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Jn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Jn){this.h=a.h,Pi(this,a.j),this.o=a.o,this.g=a.g,xi(this,a.s),this.l=a.l;var h=a.i,p=new Is;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Cu(this,p),this.m=a.m}else a&&(h=String(a).match(Iu))?(this.h=!1,Pi(this,h[1]||"",!0),this.o=bs(h[2]||""),this.g=bs(h[3]||"",!0),xi(this,h[4]),this.l=bs(h[5]||"",!0),Cu(this,h[6]||"",!0),this.m=bs(h[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}Jn.prototype.toString=function(){var a=[],h=this.j;h&&a.push(As(h,Ru,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(As(h,Ru,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(As(p,p.charAt(0)=="/"?vy:_y,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",As(p,Ty)),a.join("")};function on(a){return new Jn(a)}function Pi(a,h,p){a.j=p?bs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function xi(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Cu(a,h,p){h instanceof Is?(a.i=h,wy(a.i,a.h)):(p||(h=As(h,Ey)),a.i=new Is(h,a.h))}function Oe(a,h,p){a.i.set(h,p)}function ki(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function As(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,yy),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function yy(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ru=/[#\/\?@]/g,_y=/[#\?:]/g,vy=/[#\?]/g,Ey=/[#\?@]/g,Ty=/#/g;function Is(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function In(a){a.g||(a.g=new Map,a.h=0,a.i&&my(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Is.prototype,t.add=function(a,h){In(this),this.i=null,a=br(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Su(a,h){In(a),h=br(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Pu(a,h){return In(a),h=br(a,h),a.g.has(h)}t.forEach=function(a,h){In(this),this.g.forEach(function(p,y){p.forEach(function(N){a.call(h,N,y,this)},this)},this)},t.na=function(){In(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){const N=a[y];for(let F=0;F<N.length;F++)p.push(h[y])}return p},t.V=function(a){In(this);let h=[];if(typeof a=="string")Pu(this,a)&&(h=h.concat(this.g.get(br(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return In(this),this.i=null,a=br(this,a),Pu(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function xu(a,h,p){Su(a,h),0<p.length&&(a.i=null,a.g.set(br(a,h),I(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];const F=encodeURIComponent(String(y)),G=this.V(y);for(y=0;y<G.length;y++){var N=F;G[y]!==""&&(N+="="+encodeURIComponent(String(G[y]))),a.push(N)}}return this.i=a.join("&")};function br(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function wy(a,h){h&&!a.j&&(In(a),a.i=null,a.g.forEach(function(p,y){var N=y.toLowerCase();y!=N&&(Su(this,y),xu(this,N,p))},a)),a.j=h}function by(a,h){const p=new Ts;if(l.Image){const y=new Image;y.onload=m(Cn,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(Cn,p,"TestLoadImage: error",!1,h,y),y.onabort=m(Cn,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(Cn,p,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function Ay(a,h){const p=new Ts,y=new AbortController,N=setTimeout(()=>{y.abort(),Cn(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(F=>{clearTimeout(N),F.ok?Cn(p,"TestPingServer: ok",!0,h):Cn(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(N),Cn(p,"TestPingServer: error",!1,h)})}function Cn(a,h,p,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(p)}catch{}}function Iy(){this.g=new Nt}function Cy(a,h,p){const y=p||"";try{Au(a,function(N,F){let G=N;f(N)&&(G=Er(N)),h.push(y+F+"="+encodeURIComponent(G))})}catch(N){throw h.push(y+"type="+encodeURIComponent("_badmap")),N}}function Vi(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Vi,Tr),Vi.prototype.g=function(){return new Di(this.l,this.j)},Vi.prototype.i=function(a){return function(){return a}}({});function Di(a,h){re.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Di,re),t=Di.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Rs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ku(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ku(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Cs(this):Rs(this),this.readyState==3&&ku(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Cs(this))},t.Qa=function(a){this.g&&(this.response=a,Cs(this))},t.ga=function(){this.g&&Cs(this)};function Cs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Rs(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Rs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Vu(a){let h="";return L(a,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Ia(a,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=Vu(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Oe(a,h,p))}function je(a){re.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(je,re);var Ry=/^https?$/i,Sy=["POST","PUT"];t=je.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_a.g(),this.v=this.o?au(this.o):au(_a),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(F){Du(this,F);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)p.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const F of y.keys())p.set(F,y.get(F));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),N=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Sy,h,void 0))||y||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of p)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mu(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){Du(this,F)}};function Du(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Ou(a),Oi(a)}function Ou(a){a.A||(a.A=!0,ae(a,"complete"),ae(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ae(this,"complete"),ae(this,"abort"),Oi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nu(this):this.bb())},t.bb=function(){Nu(this)};function Nu(a){if(a.h&&typeof o<"u"&&(!a.v[1]||an(a)!=4||a.Z()!=2)){if(a.u&&an(a)==4)we(a.Ea,0,a);else if(ae(a,"readystatechange"),an(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=G===0){var N=String(a.D).match(Iu)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),y=!Ry.test(N?N.toLowerCase():"")}p=y}if(p)ae(a,"complete"),ae(a,"success");else{a.m=6;try{var F=2<an(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",Ou(a)}}finally{Oi(a)}}}}function Oi(a,h){if(a.g){Mu(a);const p=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ae(a,"ready");try{p.onreadystatechange=y}catch{}}}function Mu(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function an(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),yt(h)}};function Lu(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Py(a){const h={};a=(a.g&&2<=an(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(V(a[y]))continue;var p=x(a[y]);const N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=h[N]||[];h[N]=F,F.push(p)}w(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Fu(a){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,a),this.cb=Ss("retryDelaySeedMs",1e4,a),this.Wa=Ss("forwardChannelMaxRetries",2,a),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new vu(a&&a.concurrentRequestLimit),this.Da=new Iy,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fu.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,y){_t(0),this.W=a,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=Gu(this,null,this.W),Mi(this)};function Ca(a){if(Bu(a),a.G==3){var h=a.U++,p=on(a.I);if(Oe(p,"SID",a.K),Oe(p,"RID",h),Oe(p,"TYPE","terminate"),Ps(a,p),h=new An(a,a.j,h),h.L=2,h.v=ki(on(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Wu(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Si(h)}Ku(a)}function Ni(a){a.g&&(Sa(a),a.g.cancel(),a.g=null)}function Bu(a){Ni(a),a.u&&(l.clearTimeout(a.u),a.u=null),Li(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Mi(a){if(!Eu(a.h)&&!a.s){a.s=!0;var h=a.Ga;ce||Ut(),ee||(ce(),ee=!0),xe.add(h,a),a.B=0}}function xy(a,h){return Tu(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Es(g(a.Ga,a,h),zu(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new An(this,this.j,a);let F=this.o;if(this.S&&(F?(F=v(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(N.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=ju(this,N,h),p=on(this.I),Oe(p,"RID",a),Oe(p,"CVER",22),this.D&&Oe(p,"X-HTTP-Session-Id",this.D),Ps(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(Vu(F)))+"&"+h:this.m&&Ia(p,this.m,F)),Aa(this.h,N),this.Ua&&Oe(p,"TYPE","init"),this.P?(Oe(p,"$req",h),Oe(p,"SID","null"),N.T=!0,Ea(N,p,null)):Ea(N,p,h),this.G=2}}else this.G==3&&(a?Uu(this,a):this.i.length==0||Eu(this.h)||Uu(this))};function Uu(a,h){var p;h?p=h.l:p=a.U++;const y=on(a.I);Oe(y,"SID",a.K),Oe(y,"RID",p),Oe(y,"AID",a.T),Ps(a,y),a.m&&a.o&&Ia(y,a.m,a.o),p=new An(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=ju(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Aa(a.h,p),Ea(p,y,h)}function Ps(a,h){a.H&&L(a.H,function(p,y){Oe(h,y,p)}),a.l&&Au({},function(p,y){Oe(h,y,p)})}function ju(a,h,p){p=Math.min(a.i.length,p);var y=a.l?g(a.l.Na,a.l,a):null;e:{var N=a.i;let F=-1;for(;;){const G=["count="+p];F==-1?0<p?(F=N[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Pe=!0;for(let rt=0;rt<p;rt++){let be=N[rt].g;const ut=N[rt].map;if(be-=F,0>be)F=Math.max(0,N[rt].g-100),Pe=!1;else try{Cy(ut,G,"req"+be+"_")}catch{y&&y(ut)}}if(Pe){y=G.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,y}function Hu(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;ce||Ut(),ee||(ce(),ee=!0),xe.add(h,a),a.v=0}}function Ra(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Es(g(a.Fa,a),zu(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Es(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ni(this),$u(this))};function Sa(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function $u(a){a.g=new An(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=on(a.qa);Oe(h,"RID","rpc"),Oe(h,"SID",a.K),Oe(h,"AID",a.T),Oe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(h,"TO",a.ja),Oe(h,"TYPE","xmlhttp"),Ps(a,h),a.m&&a.o&&Ia(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=ki(on(h)),p.m=null,p.P=!0,mu(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Ni(this),Ra(this),_t(19))};function Li(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function qu(a,h){var p=null;if(a.g==h){Li(a),Sa(a),a.g=null;var y=2}else if(ba(a.h,h))p=h.D,wu(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var N=a.B;y=Ii(),ae(y,new fu(y,p)),Mi(a)}else Hu(a);else if(N=h.s,N==3||N==0&&0<h.X||!(y==1&&xy(a,h)||y==2&&Ra(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),N){case 1:Xn(a,5);break;case 4:Xn(a,10);break;case 3:Xn(a,6);break;default:Xn(a,2)}}}function zu(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Xn(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),y=a.Xa;const N=!y;y=new Jn(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pi(y,"https"),ki(y),N?by(y.toString(),p):Ay(y.toString(),p)}else _t(2);a.G=0,a.l&&a.l.sa(h),Ku(a),Bu(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ku(a){if(a.G=0,a.ka=[],a.l){const h=bu(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function Gu(a,h,p){var y=p instanceof Jn?on(p):new Jn(p);if(y.g!="")h&&(y.g=h+"."+y.g),xi(y,y.s);else{var N=l.location;y=N.protocol,h=h?h+"."+N.hostname:N.hostname,N=+N.port;var F=new Jn(null);y&&Pi(F,y),h&&(F.g=h),N&&xi(F,N),p&&(F.l=p),y=F}return p=a.D,h=a.ya,p&&h&&Oe(y,p,h),Oe(y,"VER",a.la),Ps(a,y),y}function Wu(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new je(new Vi({eb:p})):new je(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}t=Qu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fi(){}Fi.prototype.g=function(a,h){return new kt(a,h)};function kt(a,h){re.call(this),this.g=new Fu(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!V(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!V(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ar(this)}T(kt,re),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Ca(this.g)},kt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Er(a),a=p);h.i.push(new dy(h.Ya++,a)),h.G==3&&Mi(h)},kt.prototype.N=function(){this.g.l=null,delete this.j,Ca(this.g),delete this.g,kt.aa.N.call(this)};function Yu(a){ma.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}T(Yu,ma);function Ju(){ya.call(this),this.status=1}T(Ju,ya);function Ar(a){this.g=a}T(Ar,Qu),Ar.prototype.ua=function(){ae(this.g,"a")},Ar.prototype.ta=function(a){ae(this.g,new Yu(a))},Ar.prototype.sa=function(a){ae(this.g,new Ju)},Ar.prototype.ra=function(){ae(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,rm=function(){return new Fi},nm=function(){return Ii()},tm=Qn,Hl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,lo=Ci,du.COMPLETE="complete",em=du,lu.EventType=_s,_s.OPEN="a",_s.CLOSE="b",_s.ERROR="c",_s.MESSAGE="d",re.prototype.listen=re.prototype.K,Ms=lu,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Zg=je}).apply(typeof Ji<"u"?Ji:typeof self<"u"?self:typeof window<"u"?window:{});const kf="@firebase/firestore",Vf="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ps="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Kg("@firebase/firestore");function xr(){return yr.logLevel}function Z(t,...e){if(yr.logLevel<=ve.DEBUG){const n=e.map(Uc);yr.debug(`Firestore (${ps}): ${t}`,...n)}}function vn(t,...e){if(yr.logLevel<=ve.ERROR){const n=e.map(Uc);yr.error(`Firestore (${ps}): ${t}`,...n)}}function ns(t,...e){if(yr.logLevel<=ve.WARN){const n=e.map(Uc);yr.warn(`Firestore (${ps}): ${t}`,...n)}}function Uc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sm(t,r,n)}function sm(t,e,n){let r=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vn(r),new Error(r)}function Ue(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||sm(e,s,r)}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class QA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new im(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class JA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Df{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Df(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Df(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=e1(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function $l(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ge(r,s);{const i=om(),o=n1(i.encode(Of(t,n)),i.encode(Of(e,n)));return o!==0?o:ge(r,s)}}n+=r>65535?2:1}return ge(t.length,e.length)}function Of(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function n1(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ge(t[n],e[n]);return ge(t.length,e.length)}function rs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=-62135596800,Mf=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Mf);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nf)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mf}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Nf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Pt(0,0))}static max(){return new de(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="__name__";class Yt{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Yt.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ge(e.length,n.length)}static compareSegments(e,n){const r=Yt.isNumericId(e),s=Yt.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Yt.extractNumericId(e).compare(Yt.extractNumericId(n)):$l(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Un.fromString(e.substring(4,e.length-2))}}class He extends Yt{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const r1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Yt{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return r1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lf}static keyField(){return new Tt([Lf])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(He.fromString(e))}static fromName(e){return new he(He.fromString(e).popFirst(5))}static empty(){return new he(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new He(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=-1;function s1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new jn(s,he.empty(),e)}function i1(t){return new jn(t.readTime,t.key,fi)}class jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jn(de.min(),he.empty(),fi)}static max(){return new jn(de.max(),he.empty(),fi)}}function o1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==a1)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(s=>s?j.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new j((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const f=c;n(e[f]).next(u=>{o[f]=u,++l,l===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new j((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function c1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ia.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=-1;function oa(t){return t==null}function ql(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="";function h1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ff(e)),e=f1(t.get(n),e);return Ff(e)}function f1(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case am:n+="";break;default:n+=i}}return n}function Ff(t){return t+am+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xi(this.root,e,this.comparator,!0)}}class Xi{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uf(this.data.getIterator())}getIteratorFrom(e){return new Uf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Uf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Xe(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lm("Invalid base64 string: "+i):i}}(e);return new at(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const p1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=p1.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $n(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="server_timestamp",um="__type__",hm="__previous_value__",fm="__local_write_time__";function jc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[um])===null||n===void 0?void 0:n.stringValue)===cm}function aa(t){const e=t.mapValue.fields[hm];return jc(e)?aa(e):e}function di(t){const e=Hn(t.mapValue.fields[fm].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,s,i,o,l,c,f,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=u}}const Oo="(default)";class pi{constructor(e,n){this.projectId=e,this.database=n||Oo}static empty(){return new pi("","")}get isDefaultDatabase(){return this.database===Oo}isEqual(e){return e instanceof pi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__type__",y1="__max__",Zi={mapValue:{}},_1="__vector__",zl="value";function qn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jc(t)?4:E1(t)?9007199254740991:v1(t)?10:11:pe(28295,{value:t})}function nn(t,e){if(t===e)return!0;const n=qn(t);if(n!==qn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return di(t).isEqual(di(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hn(s.timestampValue),l=Hn(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $n(s.bytesValue).isEqual($n(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),l=$e(i.doubleValue);return o===l?ql(o)===ql(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return rs(t.arrayValue.values||[],e.arrayValue.values||[],nn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Bf(o)!==Bf(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!nn(o[c],l[c])))return!1;return!0}(t,e);default:return pe(52216,{left:t})}}function gi(t,e){return(t.values||[]).find(n=>nn(n,e))!==void 0}function ss(t,e){if(t===e)return 0;const n=qn(t),r=qn(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=$e(i.integerValue||i.doubleValue),c=$e(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return jf(t.timestampValue,e.timestampValue);case 4:return jf(di(t),di(e));case 5:return $l(t.stringValue,e.stringValue);case 6:return function(i,o){const l=$n(i),c=$n(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const u=ge(l[f],c[f]);if(u!==0)return u}return ge(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ge($e(i.latitude),$e(o.latitude));return l!==0?l:ge($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hf(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,f,u;const d=i.fields||{},g=o.fields||{},m=(l=d[zl])===null||l===void 0?void 0:l.arrayValue,T=(c=g[zl])===null||c===void 0?void 0:c.arrayValue,I=ge(((f=m==null?void 0:m.values)===null||f===void 0?void 0:f.length)||0,((u=T==null?void 0:T.values)===null||u===void 0?void 0:u.length)||0);return I!==0?I:Hf(m,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Zi.mapValue&&o===Zi.mapValue)return 0;if(i===Zi.mapValue)return 1;if(o===Zi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),f=o.fields||{},u=Object.keys(f);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const g=$l(c[d],u[d]);if(g!==0)return g;const m=ss(l[c[d]],f[u[d]]);if(m!==0)return m}return ge(c.length,u.length)}(t.mapValue,e.mapValue);default:throw pe(23264,{Pe:n})}}function jf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Hn(t),r=Hn(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function Hf(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ss(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function is(t){return Kl(t)}function Kl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $n(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Kl(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Kl(n.fields[o])}`;return s+"}"}(t.mapValue):pe(61005,{value:t})}function co(t){switch(qn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=aa(t);return e?16+co(e):16;case 5:return 2*t.stringValue.length;case 6:return $n(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+co(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ti(r.fields,(i,o)=>{s+=i.length+co(o)}),s}(t.mapValue);default:throw pe(13486,{value:t})}}function Gl(t){return!!t&&"integerValue"in t}function Hc(t){return!!t&&"arrayValue"in t}function $f(t){return!!t&&"nullValue"in t}function qf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tl(t){return!!t&&"mapValue"in t}function v1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[m1])===null||n===void 0?void 0:n.stringValue)===_1}function Ys(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ys(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ys(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===y1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ys(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ys(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xt(Ys(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new mt(e,0,de.min(),de.min(),de.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,s){return new mt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new mt(e,2,n,de.min(),de.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,de.min(),de.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.position=e,this.inclusive=n}}function zf(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=ss(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n="asc"){this.field=e,this.dir=n}}function T1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{}class Ye extends dm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b1(e,n,r):n==="array-contains"?new C1(e,r):n==="in"?new R1(e,r):n==="not-in"?new S1(e,r):n==="array-contains-any"?new P1(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A1(e,r):new I1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ss(n,this.value)):n!==null&&qn(this.value)===qn(n)&&this.matchesComparison(ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rn extends dm{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new rn(e,n)}matches(e){return pm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function pm(t){return t.op==="and"}function gm(t){return w1(t)&&pm(t)}function w1(t){for(const e of t.filters)if(e instanceof rn)return!1;return!0}function Wl(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+is(t.value);if(gm(t))return t.filters.map(e=>Wl(e)).join(",");{const e=t.filters.map(n=>Wl(n)).join(",");return`${t.op}(${e})`}}function mm(t,e){return t instanceof Ye?function(r,s){return s instanceof Ye&&r.op===s.op&&r.field.isEqual(s.field)&&nn(r.value,s.value)}(t,e):t instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&mm(o,s.filters[l]),!0):!1}(t,e):void pe(19439)}function ym(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${is(n.value)}`}(t):t instanceof rn?function(n){return n.op.toString()+" {"+n.getFilters().map(ym).join(" ,")+"}"}(t):"Filter"}class b1 extends Ye{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class A1 extends Ye{constructor(e,n){super(e,"in",n),this.keys=_m("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I1 extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=_m("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _m(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class C1 extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hc(n)&&gi(n.arrayValue,this.value)}}class R1 extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gi(this.value.arrayValue,n)}}class S1 extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gi(this.value.arrayValue,n)}}class P1 extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function Gf(t,e=null,n=[],r=[],s=null,i=null,o=null){return new x1(t,e,n,r,s,i,o)}function $c(t){const e=Ee(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wl(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),oa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>is(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>is(r)).join(",")),e.Ie=n}return e.Ie}function qc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kf(t.startAt,e.startAt)&&Kf(t.endAt,e.endAt)}function Ql(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function k1(t,e,n,r,s,i,o,l){return new la(t,e,n,r,s,i,o,l)}function vm(t){return new la(t)}function Wf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V1(t){return t.collectionGroup!==null}function Js(t){const e=Ee(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xe(Tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Mo(i,r))}),n.has(Tt.keyField().canonicalString())||e.Ee.push(new Mo(Tt.keyField(),r))}return e.Ee}function tn(t){const e=Ee(t);return e.de||(e.de=D1(e,Js(t))),e.de}function D1(t,e){if(t.limitType==="F")return Gf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Mo(s.field,i)});const n=t.endAt?new No(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new No(t.startAt.position,t.startAt.inclusive):null;return Gf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yl(t,e,n){return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ca(t,e){return qc(tn(t),tn(e))&&t.limitType===e.limitType}function Em(t){return`${$c(tn(t))}|lt:${t.limitType}`}function kr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ym(s)).join(", ")}]`),oa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>is(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>is(s)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function ua(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Js(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const f=zf(o,l,c);return o.inclusive?f<=0:f<0}(r.startAt,Js(r),s)||r.endAt&&!function(o,l,c){const f=zf(o,l,c);return o.inclusive?f>=0:f>0}(r.endAt,Js(r),s))}(t,e)}function O1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Tm(t){return(e,n)=>{let r=!1;for(const s of Js(t)){const i=N1(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function N1(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),f=l.data.field(i);return c!==null&&f!==null?ss(c,f):pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new ze(he.comparator);function zn(){return M1}const wm=new ze(he.comparator);function Ls(...t){let e=wm;for(const n of t)e=e.insert(n.key,n);return e}function L1(t){let e=wm;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ar(){return Xs()}function bm(){return Xs()}function Xs(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}const F1=new Xe(he.comparator);function Te(...t){let e=F1;for(const n of t)e=e.add(n);return e}const B1=new Xe(ge);function U1(){return B1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ql(e)?"-0":e}}function H1(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this._=void 0}}function $1(t,e,n){return t instanceof Jl?function(s,i){const o={fields:{[um]:{stringValue:cm},[fm]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&jc(i)&&(i=aa(i)),i&&(o.fields[hm]=i),{mapValue:o}}(n,e):t instanceof Lo?Am(t,e):t instanceof Fo?Im(t,e):function(s,i){const o=z1(s,i),l=Qf(o)+Qf(s.Re);return Gl(o)&&Gl(s.Re)?H1(l):j1(s.serializer,l)}(t,e)}function q1(t,e,n){return t instanceof Lo?Am(t,e):t instanceof Fo?Im(t,e):n}function z1(t,e){return t instanceof Xl?function(r){return Gl(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Jl extends ha{}class Lo extends ha{constructor(e){super(),this.elements=e}}function Am(t,e){const n=Cm(e);for(const r of t.elements)n.some(s=>nn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fo extends ha{constructor(e){super(),this.elements=e}}function Im(t,e){let n=Cm(e);for(const r of t.elements)n=n.filter(s=>!nn(s,r));return{arrayValue:{values:n}}}class Xl extends ha{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Qf(t){return $e(t.integerValue||t.doubleValue)}function Cm(t){return Hc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function K1(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lo&&s instanceof Lo||r instanceof Fo&&s instanceof Fo?rs(r.elements,s.elements,nn):r instanceof Xl&&s instanceof Xl?nn(r.Re,s.Re):r instanceof Jl&&s instanceof Jl}(t.transform,e.transform)}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zc{}function Rm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W1(t.key,gr.none()):new Kc(t.key,t.data,gr.none());{const n=t.data,r=Xt.empty();let s=new Xe(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fa(t.key,r,new Nn(s.toArray()),gr.none())}}function G1(t,e,n){t instanceof Kc?function(s,i,o){const l=s.value.clone(),c=Jf(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(s,i,o){if(!uo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Jf(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Sm(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zs(t,e,n,r){return t instanceof Kc?function(i,o,l,c){if(!uo(i.precondition,o))return l;const f=i.value.clone(),u=Xf(i.fieldTransforms,c,o);return f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof fa?function(i,o,l,c){if(!uo(i.precondition,o))return l;const f=Xf(i.fieldTransforms,c,o),u=o.data;return u.setAll(Sm(i)),u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,l){return uo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Yf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&rs(r,s,(i,o)=>K1(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends zc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fa extends zc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Jf(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,q1(o,l,n[s]))}return r}function Xf(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,$1(i,o,e))}return r}class W1 extends zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&G1(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bm();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=Rm(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(n,r)=>Yf(n,r))&&rs(this.baseMutations,e.baseMutations,(n,r)=>Yf(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,_e;function Pm(t){if(t===void 0)return vn("GRPC error has no .code"),W.UNKNOWN;switch(t){case Ke.OK:return W.OK;case Ke.CANCELLED:return W.CANCELLED;case Ke.UNKNOWN:return W.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return W.INTERNAL;case Ke.UNAVAILABLE:return W.UNAVAILABLE;case Ke.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ke.NOT_FOUND:return W.NOT_FOUND;case Ke.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ke.ABORTED:return W.ABORTED;case Ke.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ke.DATA_LOSS:return W.DATA_LOSS;default:return pe(39323,{code:t})}}(_e=Ke||(Ke={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Un([4294967295,4294967295],0);function Zf(t){const e=om().encode(t),n=new Xg;return n.update(e),new Uint8Array(n.digest())}function ed(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Un([n,r],0),new Un([s,i],0)]}class Gc{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fs(`Invalid padding: ${n}`);if(r<0)throw new Fs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fs(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Un.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Un.fromNumber(r)));return s.compare(X1)===1&&(s=new Un([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Zf(e),[r,s]=ed(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gc(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=Zf(e),[r,s]=ed(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,wi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new da(de.min(),s,new ze(ge),zn(),Te())}}class wi{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wi(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class xm{constructor(e,n){this.targetId=e,this.Ce=n}}class km{constructor(e,n,r=at.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class td{constructor(){this.Fe=0,this.Me=nd(),this.xe=at.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Te(),n=Te(),r=Te();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:pe(38017,{changeType:i})}}),new wi(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=nd()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ue(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Z1{constructor(e){this.ze=e,this.je=new Map,this.He=zn(),this.Je=eo(),this.Ye=eo(),this.Ze=new ze(ge)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Ql(i))if(r===0){const o=new he(i.path);this.tt(n,o,mt.newNoDocument(o,de.min()))}else Ue(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=$n(r).toUint8Array()}catch(c){if(c instanceof lm)return ns("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Gc(o,s,i)}catch(c){return ns(c instanceof Fs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&Ql(l.target)){const c=new he(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,mt.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Te();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new da(e,n,this.Ze,this.He,r);return this.He=zn(),this.Je=eo(),this.Ye=eo(),this.Ze=new ze(ge),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new td,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Xe(ge),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Xe(ge),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new td),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function eo(){return new ze(he.comparator)}function nd(){return new ze(he.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"};class rI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zl(t,e){return t.useProto3Json||oa(e)?e:{value:e}}function sI(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zr(t){return Ue(!!t,49232),de.fromTimestamp(function(n){const r=Hn(n);return new Pt(r.seconds,r.nanos)}(t))}function oI(t,e){return ec(t,e).canonicalString()}function ec(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vm(t){const e=He.fromString(t);return Ue(Lm(e),10190,{key:e.toString()}),e}function nl(t,e){const n=Vm(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(Om(n))}function Dm(t,e){return oI(t.databaseId,e)}function aI(t){const e=Vm(t);return e.length===4?He.emptyPath():Om(e)}function rd(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Om(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:pe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(f,u){return f.useProto3Json?(Ue(u===void 0||typeof u=="string",58123),at.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),at.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const u=f.code===void 0?W.UNKNOWN:Pm(f.code);return new oe(u,f.message||"")}(o);n=new km(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=nl(t,r.document.name),i=zr(r.document.updateTime),o=r.document.createTime?zr(r.document.createTime):de.min(),l=new Xt({mapValue:{fields:r.document.fields}}),c=mt.newFoundDocument(s,i,o,l),f=r.targetIds||[],u=r.removedTargetIds||[];n=new ho(f,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=nl(t,r.document),i=r.readTime?zr(r.readTime):de.min(),o=mt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new ho([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=nl(t,r.document),i=r.removedTargetIds||[];n=new ho([],i,s,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new J1(s,i),l=r.targetId;n=new xm(l,o)}}return n}function cI(t,e){return{documents:[Dm(t,e.path)]}}function uI(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dm(t,s);const i=function(f){if(f.length!==0)return Mm(rn.create(f,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(f){if(f.length!==0)return f.map(u=>function(g){return{field:Vr(g.field),direction:dI(g.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Zl(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:n,parent:s}}function hI(t){let e=aI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ue(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const g=Nm(d);return g instanceof rn&&gm(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(T){return new Mo(Dr(T.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(d){let g;return g=typeof d=="object"?d.value:d,oa(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(d){const g=!!d.before,m=d.values||[];return new No(m,g)}(n.startAt));let f=null;return n.endAt&&(f=function(d){const g=!d.before,m=d.values||[];return new No(m,g)}(n.endAt)),k1(e,s,o,i,l,"F",c,f)}function fI(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nm(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Dr(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Dr(n.unaryFilter.field);return Ye.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dr(n.unaryFilter.field);return Ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dr(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Dr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rn.create(n.compositeFilter.filters.map(r=>Nm(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(t):pe(30097,{filter:t})}function dI(t){return eI[t]}function pI(t){return tI[t]}function gI(t){return nI[t]}function Vr(t){return{fieldPath:t.canonicalString()}}function Dr(t){return Tt.fromServerFormat(t.fieldPath)}function Mm(t){return t instanceof Ye?function(n){if(n.op==="=="){if(qf(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NAN"}};if($f(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qf(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NOT_NAN"}};if($f(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vr(n.field),op:pI(n.op),value:n.value}}}(t):t instanceof rn?function(n){const r=n.getFilters().map(s=>Mm(s));return r.length===1?r[0]:{compositeFilter:{op:gI(n.op),filters:r}}}(t):pe(54877,{filter:t})}function Lm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,s,i=de.min(),o=de.min(),l=at.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Mn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.wt=e}}function yI(t){const e=hI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.Cn=new vI}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(jn.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class vI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xe(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xe(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fm=41943040;class At{static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(Fm,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new os(0)}static lr(){return new os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="LruGarbageCollector",EI=1048576;function od([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class TI{constructor(e){this.Er=e,this.buffer=new Xe(od),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();od(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Z(id,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gs(n)?Z(id,"Ignoring IndexedDB error during garbage collection: ",n):await sa(n)}await this.mr(3e5)})}}class bI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(ia.le);const r=new TI(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(sd)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sd):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,l,c,f;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,l=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(f=Date.now(),xr()<=ve.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(f-c)+`ms
Total Duration: ${f-u}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function AI(t,e){return new bI(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zs(r.mutation,s,Nn.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const s=ar();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ls();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=zn();const o=Xs(),l=function(){return Xs()}();return n.forEach((c,f)=>{const u=r.get(f.key);s.has(f.key)&&(u===void 0||u.mutation instanceof fa)?i=i.insert(f.key,f):u!==void 0?(o.set(f.key,u.mutation.getFieldMask()),Zs(u.mutation,f,u.mutation.getFieldMask(),Pt.now())):o.set(f.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((f,u)=>o.set(f,u)),n.forEach((f,u)=>{var d;return l.set(f,new CI(u,(d=o.get(f))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Xs();let s=new ze((o,l)=>o-l),i=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let u=r.get(c)||Nn.empty();u=l.applyToLocalView(f,u),r.set(c,u);const d=(s.get(l.batchId)||Te()).add(c);s=s.insert(l.batchId,d)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,u=c.value,d=bm();u.forEach(g=>{if(!i.has(g)){const m=Rm(n.get(g),r.get(g));m!==null&&d.set(g,m),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(ar());let l=fi,c=i;return o.next(f=>j.forEach(f,(u,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),i.get(u)?j.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{c=c.insert(u,g)}))).next(()=>this.populateOverlays(e,f,i)).next(()=>this.computeViews(e,c,f,Te())).next(u=>({batchId:l,changes:L1(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=Ls();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ls();return this.indexManager.getCollectionParents(e,i).next(l=>j.forEach(l,c=>{const f=function(d,g){return new la(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(u=>{u.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,f)=>{const u=f.getKey();o.get(u)===null&&(o=o.insert(u,mt.newInvalidDocument(u)))});let l=Ls();return o.forEach((c,f)=>{const u=i.get(c);u!==void 0&&Zs(u.mutation,f,Nn.empty(),Pt.now()),ua(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return j.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:zr(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:yI(s.bundledQuery),readTime:zr(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.overlays=new ze(he.comparator),this.Qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ar();return j.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=ar(),i=n.length+1,o=new he(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((f,u)=>f-u);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let u=i.get(f.largestBatchId);u===null&&(u=ar(),i=i.insert(f.largestBatchId,u)),u.set(f.getKey(),f)}}const l=ar(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,u)=>l.set(f,u)),!(l.size()>=s)););return j.resolve(l)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y1(n,r));let i=this.Qr.get(n);i===void 0&&(i=Te(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.$r=new Xe(et.Ur),this.Kr=new Xe(et.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new et(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new et(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new he(new He([])),r=new et(n,e),s=new et(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new he(new He([])),r=new et(n,e),s=new et(n,e+1);let i=Te();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new et(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return he.comparator(e.key,n.key)||ge(e.Zr,n.Zr)}static Wr(e,n){return ge(e.Zr,n.Zr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Xe(et.Ur)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Q1(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new et(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?u1:this.nr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),s=new et(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const l=this.ei(o.Zr);i.push(l)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ge);return n.forEach(s=>{const i=new et(s,0),o=new et(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{r=r.add(l.Zr)})}),j.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const o=new et(new he(i),0);let l=new Xe(ge);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(l=l.add(c.Zr)),!0)},o),j.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ue(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return j.forEach(n.mutations,s=>{const i=new et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new et(n,0),s=this.Xr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.ii=e,this.docs=function(){return new ze(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():mt.newInvalidDocument(s))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zn();const o=n.path,l=new he(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:u}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||o1(i1(u),r)<=0||(s.has(u.key)||ua(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){pe(9500)}si(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DI(this)}getSize(e){return j.resolve(this.size)}}class DI extends II{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.persistence=e,this.oi=new vr(n=>$c(n),qc),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this._i=0,this.ai=new Wc,this.targetCount=0,this.ui=os.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),j.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new os(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Tr(n),j.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),j.waitFor(i).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.ci={},this.overlays={},this.li=new ia(0),this.hi=!1,this.hi=!0,this.Pi=new xI,this.referenceDelegate=e(this),this.Ti=new OI(this),this.indexManager=new _I,this.remoteDocumentCache=function(s){return new VI(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new mI(n),this.Ei=new SI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new kI(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new NI(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return j.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class NI extends l1{constructor(e){super(),this.currentSequenceNumber=e}}class Qc{constructor(e){this.persistence=e,this.Vi=new Wc,this.mi=null}static fi(e){return new Qc(e)}get gi(){if(this.mi)return this.mi;throw pe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.gi,r=>{const s=he.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return j.or([()=>j.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Bo{constructor(e,n){this.persistence=e,this.yi=new vr(r=>h1(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=AI(this,n)}static fi(e,n){return new Bo(e,n)}di(){}Ai(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return j.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?j.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=co(e.data.value)),n}Dr(e,n,r){return j.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Te(),s=Te();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Yc(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Rb()?8:c1(Ib())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new MI;return this.bs(e,n,o).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(xr()<=ve.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",kr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),j.resolve()):(xr()<=ve.DEBUG&&Z("QueryEngine","Query:",kr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(xr()<=ve.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",kr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):j.resolve())}ws(e,n){if(Wf(n))return j.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yl(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Te(...i);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.vs(n,l);return this.Cs(n,f,o,c.readTime)?this.ws(e,Yl(n,null,"F")):this.Fs(e,f,n,c)}))})))}Ss(e,n,r,s){return Wf(n)||s.isEqual(de.min())?j.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?j.resolve(null):(xr()<=ve.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),kr(n)),this.Fs(e,o,n,s1(s,fi)).next(l=>l))})}vs(e,n){let r=new Xe(Tm(e));return n.forEach((s,i)=>{ua(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return xr()<=ve.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",kr(n)),this.ys.getDocumentsMatchingQuery(e,n,jn.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="LocalStore",FI=3e8;class BI{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new ze(ge),this.Os=new vr(i=>$c(i),qc),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function UI(t,e,n,r){return new BI(t,e,n,r)}async function Um(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Te();for(const f of s){o.push(f.batchId);for(const u of f.mutations)c=c.add(u.key)}for(const f of i){l.push(f.batchId);for(const u of f.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:l}))})})}function jm(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function jI(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((u,d)=>{const g=s.get(d);if(!g)return;l.push(n.Ti.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(i,u.addedDocuments,d)));let m=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(at.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(d,m),function(I,k,D){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=FI?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(g,m,u)&&l.push(n.Ti.updateTargetData(i,m))});let c=zn(),f=Te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(HI(i,o,e.documentUpdates).next(u=>{c=u.qs,f=u.Qs})),!r.isEqual(de.min())){const u=n.Ti.getLastRemoteSnapshotVersion(i).next(d=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return j.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,f)).next(()=>c)}).then(i=>(n.xs=s,i))}function HI(t,e,n){let r=Te(),s=Te();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=zn();return n.forEach((l,c)=>{const f=i.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(de.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Z(Jc,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function $I(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,j.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new Mn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function tc(t,e,n){const r=Ee(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!gs(o))throw o;Z(Jc,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function ad(t,e,n){const r=Ee(t);let s=de.min(),i=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,u){const d=Ee(c),g=d.Os.get(u);return g!==void 0?j.resolve(d.xs.get(g)):d.Ti.getTargetData(f,u)}(r,o,tn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:Te())).next(l=>(qI(r,O1(e),l),{documents:l,$s:i})))}function qI(t,e,n){let r=t.Ns.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class ld{constructor(){this.activeTargetIds=U1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zI{constructor(){this.xo=new ld,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ld,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="ConnectivityMonitor";class ud{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Z(cd,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Z(cd,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to=null;function nc(){return to===null?to=function(){return 268435456+Math.round(2147483648*Math.random())}():to++,"0x"+to.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="RestConnection",GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Oo?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=nc(),l=this.jo(e,n.toUriEncodedString());Z(rl,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:f}=new URL(l),u=Fc(f);return this.Jo(e,l,c,r,u).then(d=>(Z(rl,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ns(rl,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",r),d})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ps}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=GI[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class YI extends WI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=nc();return new Promise((l,c)=>{const f=new Zg;f.setWithCredentials(!0),f.listenOnce(em.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case lo.NO_ERROR:const d=f.getResponseJson();Z(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case lo.TIMEOUT:Z(ft,`RPC '${e}' ${o} timed out`),c(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case lo.HTTP_ERROR:const g=f.getStatus();if(Z(ft,`RPC '${e}' ${o} failed with status:`,g,"response text:",f.getResponseText()),g>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const I=function(D){const V=D.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(V)>=0?V:W.UNKNOWN}(T.status);c(new oe(I,T.message))}else c(new oe(W.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new oe(W.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Z(ft,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);Z(ft,`RPC '${e}' ${o} sending request:`,s),f.send(n,"POST",u,r,15)})}T_(e,n,r){const s=nc(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rm(),l=nm(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");Z(ft,`Creating RPC '${e}' stream ${s}: ${u}`,c);const d=o.createWebChannel(u,c);let g=!1,m=!1;const T=new QI({Zo:k=>{m?Z(ft,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(g||(Z(ft,`Opening RPC '${e}' stream ${s} transport.`),d.open(),g=!0),Z(ft,`RPC '${e}' stream ${s} sending:`,k),d.send(k))},Xo:()=>d.close()}),I=(k,D,V)=>{k.listen(D,E=>{try{V(E)}catch(S){setTimeout(()=>{throw S},0)}})};return I(d,Ms.EventType.OPEN,()=>{m||(Z(ft,`RPC '${e}' stream ${s} transport opened.`),T.__())}),I(d,Ms.EventType.CLOSE,()=>{m||(m=!0,Z(ft,`RPC '${e}' stream ${s} transport closed`),T.u_())}),I(d,Ms.EventType.ERROR,k=>{m||(m=!0,ns(ft,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),T.u_(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),I(d,Ms.EventType.MESSAGE,k=>{var D;if(!m){const V=k.data[0];Ue(!!V,16349);const E=V,S=(E==null?void 0:E.error)||((D=E[0])===null||D===void 0?void 0:D.error);if(S){Z(ft,`RPC '${e}' stream ${s} received error:`,S);const O=S.status;let L=function(_){const A=Ke[_];if(A!==void 0)return Pm(A)}(O),w=S.message;L===void 0&&(L=W.INTERNAL,w="Unknown error status: "+O+" with message "+S.message),m=!0,T.u_(new oe(L,w)),d.close()}else Z(ft,`RPC '${e}' stream ${s} received:`,V),T.c_(V)}}),I(l,tm.STAT_EVENT,k=>{k.stat===Hl.PROXY?Z(ft,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Hl.NOPROXY&&Z(ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function sl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){return new rI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="PersistentStream";class JI{constructor(e,n,r,s,i,o,l,c){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new $m(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new oe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Z(hd,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Z(hd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XI extends JI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=lI(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?zr(o.readTime):de.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=rd(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Ql(c)?{documents:cI(i,c)}:{query:uI(i,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=iI(i,o.resumeToken);const f=Zl(i,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(de.min())>0){l.readTime=sI(i,o.snapshotVersion.toTimestamp());const f=Zl(i,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=fI(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=rd(this.serializer),n.removeTarget=e,this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{}class eC extends ZI{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,ec(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(W.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,ec(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(W.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class tC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(vn(n),this.oa=!1):Z("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class nC{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Ai(this)&&(Z(as,"Restarting streams for network reachability change."),await async function(c){const f=Ee(c);f.Ta.add(4),await bi(f),f.da.set("Unknown"),f.Ta.delete(4),await pa(f)}(this))})}),this.da=new tC(r,s)}}async function pa(t){if(Ai(t))for(const e of t.Ia)await e(!0)}async function bi(t){for(const e of t.Ia)await e(!1)}function qm(t,e){const n=Ee(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),tu(n)?eu(n):ms(n).M_()&&Zc(n,e))}function Xc(t,e){const n=Ee(t),r=ms(n);n.Pa.delete(e),r.M_()&&zm(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ai(n)&&n.da.set("Unknown"))}function Zc(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ms(t).H_(e)}function zm(t,e){t.Aa.Ke(e),ms(t).J_(e)}function eu(t){t.Aa=new Z1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ms(t).start(),t.da._a()}function tu(t){return Ai(t)&&!ms(t).F_()&&t.Pa.size>0}function Ai(t){return Ee(t).Ta.size===0}function Km(t){t.Aa=void 0}async function rC(t){t.da.set("Online")}async function sC(t){t.Pa.forEach((e,n)=>{Zc(t,e)})}async function iC(t,e){Km(t),tu(t)?(t.da.ca(e),eu(t)):t.da.set("Unknown")}async function oC(t,e,n){if(t.da.set("Online"),e instanceof km&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Pa.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Pa.delete(l),s.Aa.removeTarget(l))}(t,e)}catch(r){Z(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fd(t,r)}else if(e instanceof ho?t.Aa.Xe(e):e instanceof xm?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(de.min()))try{const r=await jm(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Aa.It(o);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Pa.get(f);u&&i.Pa.set(f,u.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,f)=>{const u=i.Pa.get(c);if(!u)return;i.Pa.set(c,u.withResumeToken(at.EMPTY_BYTE_STRING,u.snapshotVersion)),zm(i,c);const d=new Mn(u.target,c,f,u.sequenceNumber);Zc(i,d)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z(as,"Failed to raise snapshot:",r),await fd(t,r)}}async function fd(t,e,n){if(!gs(e))throw e;t.Ta.add(1),await bi(t),t.da.set("Offline"),n||(n=()=>jm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(as,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await pa(t)})}async function dd(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),Z(as,"RemoteStore received new credentials");const r=Ai(n);n.Ta.add(3),await bi(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await pa(n)}async function aC(t,e){const n=Ee(t);e?(n.Ta.delete(2),await pa(n)):e||(n.Ta.add(2),await bi(n),n.da.set("Unknown"))}function ms(t){return t.Ra||(t.Ra=function(n,r,s){const i=Ee(n);return i.ra(),new XI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:rC.bind(null,t),n_:sC.bind(null,t),i_:iC.bind(null,t),j_:oC.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),tu(t)?eu(t):t.da.set("Unknown")):(await t.Ra.stop(),Km(t))})),t.Ra}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new nu(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(t,e){if(vn("AsyncQueue",`${e}: ${t}`),gs(t))return new oe(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{static emptySet(e){return new Kr(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ls(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Kr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.ma=new ze(he.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):pe(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class ls{constructor(e,n,r,s,i,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ls(e,n,Kr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ca(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class cC{constructor(){this.queries=gd(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=gd(),i.forEach((o,l)=>{for(const c of l.ya)c.onError(r)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function gd(){return new vr(t=>Em(t),ca)}async function uC(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new lC,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Gm(o,`Initialization of query '${kr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&ru(n)}async function hC(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fC(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ya)l.va(s)&&(r=!0);o.pa=s}}r&&ru(n)}function dC(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function ru(t){t.ba.forEach(e=>{e.next()})}var rc,md;(md=rc||(rc={})).Ca="default",md.Cache="cache";class pC{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ls(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==rc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.key=e}}class Qm{constructor(e){this.key=e}}class gC{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Te(),this.mutatedKeys=Te(),this.Ha=Tm(e),this.Ja=new Kr(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new pd,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const g=s.get(u),m=ua(this.query,d)?d:null,T=!!g&&this.mutatedKeys.has(g.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;g&&m?g.data.isEqual(m.data)?T!==I&&(r.track({type:3,doc:m}),k=!0):this.eu(g,m)||(r.track({type:2,doc:m}),k=!0,(c&&this.Ha(m,c)>0||f&&this.Ha(m,f)<0)&&(l=!0)):!g&&m?(r.track({type:0,doc:m}),k=!0):g&&!m&&(r.track({type:1,doc:g}),k=!0,(c||f)&&(l=!0)),k&&(m?(o=o.add(m),i=I?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ja:o,Xa:r,Cs:l,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((u,d)=>function(m,T){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:k})}};return I(m)-I(T)}(u.type,d.type)||this.Ha(u.doc,d.doc)),this.tu(r),s=s!=null&&s;const l=n&&!s?this.nu():[],c=this.ja.size===0&&this.current&&!s?1:0,f=c!==this.za;return this.za=c,o.length!==0||f?{snapshot:new ls(this.query,e.Ja,i,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new pd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Te(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new Qm(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new Wm(r))}),n}su(e){this.Ga=e.$s,this.ja=Te();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return ls.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const su="SyncEngine";class mC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yC{constructor(e){this.key=e,this._u=!1}}class _C{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new vr(l=>Em(l),ca),this.cu=new Map,this.lu=new Set,this.hu=new ze(he.comparator),this.Pu=new Map,this.Tu=new Wc,this.Iu={},this.Eu=new Map,this.du=os.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function vC(t,e,n=!0){const r=ey(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await Ym(r,e,n,!0),s}async function EC(t,e){const n=ey(t);await Ym(n,e,!0,!1)}async function Ym(t,e,n,r){const s=await $I(t.localStore,tn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await TC(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qm(t.remoteStore,s),l}async function TC(t,e,n,r,s){t.Ru=(d,g,m)=>async function(I,k,D,V){let E=k.view.Za(D);E.Cs&&(E=await ad(I.localStore,k.query,!1).then(({documents:w})=>k.view.Za(w,E)));const S=V&&V.targetChanges.get(k.targetId),O=V&&V.targetMismatches.get(k.targetId)!=null,L=k.view.applyChanges(E,I.isPrimaryClient,S,O);return _d(I,k.targetId,L.ru),L.snapshot}(t,d,g,m);const i=await ad(t.localStore,e,!0),o=new gC(e,i.$s),l=o.Za(i.documents),c=wi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=o.applyChanges(l,t.isPrimaryClient,c);_d(t,n,f.ru);const u=new mC(e,n,o);return t.uu.set(e,u),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),f.snapshot}async function wC(t,e,n){const r=Ee(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!ca(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await tc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Xc(r.remoteStore,s.targetId),sc(r,s.targetId)}).catch(sa)):(sc(r,s.targetId),await tc(r.localStore,s.targetId,!0))}async function bC(t,e){const n=Ee(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xc(n.remoteStore,r.targetId))}async function Jm(t,e){const n=Ee(t);try{const r=await jI(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(Ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?Ue(o._u,14607):s.removedDocuments.size>0&&(Ue(o._u,42227),o._u=!1))}),await Zm(n,r,e)}catch(r){await sa(r)}}function yd(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const l=o.view.Da(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Ee(o);c.onlineState=l;let f=!1;c.queries.forEach((u,d)=>{for(const g of d.ya)g.Da(l)&&(f=!0)}),f&&ru(c)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AC(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new ze(he.comparator);o=o.insert(i,mt.newNoDocument(i,de.min()));const l=Te().add(i),c=new da(de.min(),new Map,new ze(ge),o,l);await Jm(r,c),r.hu=r.hu.remove(i),r.Pu.delete(e),iu(r)}else await tc(r.localStore,e,!1).then(()=>sc(r,e,n)).catch(sa)}function sc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||Xm(t,r)})}function Xm(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Xc(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),iu(t))}function _d(t,e,n){for(const r of n)r instanceof Wm?(t.Tu.addReference(r.key,e),IC(t,r)):r instanceof Qm?(Z(su,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||Xm(t,r.key)):pe(19791,{mu:r})}function IC(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Z(su,"New document in limbo: "+n),t.lu.add(r),iu(t))}function iu(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new he(He.fromString(e)),r=t.du.next();t.Pu.set(r,new yC(n)),t.hu=t.hu.insert(n,r),qm(t.remoteStore,new Mn(tn(vm(n.path)),r,"TargetPurposeLimboResolution",ia.le))}}async function Zm(t,e,n){const r=Ee(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((l,c)=>{o.push(r.Ru(c,e,n).then(f=>{var u;if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){s.push(f);const d=Yc.Rs(c.targetId,f);i.push(d)}}))}),await Promise.all(o),r.au.j_(s),await async function(c,f){const u=Ee(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(f,g=>j.forEach(g.ds,m=>u.persistence.referenceDelegate.addReference(d,g.targetId,m)).next(()=>j.forEach(g.As,m=>u.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))}catch(d){if(!gs(d))throw d;Z(Jc,"Failed to update sequence numbers: "+d)}for(const d of f){const g=d.targetId;if(!d.fromCache){const m=u.xs.get(g),T=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(T);u.xs=u.xs.insert(g,I)}}}(r.localStore,i))}async function CC(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){Z(su,"User change. New user:",e.toKey());const r=await Um(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(l=>{l.forEach(c=>{c.reject(new oe(W.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zm(n,r.ks)}}function RC(t,e){const n=Ee(t),r=n.Pu.get(e);if(r&&r._u)return Te().add(r.key);{let s=Te();const i=n.cu.get(e);if(!i)return s;for(const o of i){const l=n.uu.get(o);s=s.unionWith(l.view.Ya)}return s}}function ey(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.au.j_=fC.bind(null,e.eventManager),e.au.Vu=dC.bind(null,e.eventManager),e}class Uo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return UI(this.persistence,new LI,e.initialUser,this.serializer)}yu(e){return new Bm(Qc.fi,this.serializer)}pu(e){return new zI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uo.provider={build:()=>new Uo};class SC extends Uo{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ue(this.persistence.referenceDelegate instanceof Bo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wI(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?At.withCacheSize(this.cacheSizeBytes):At.DEFAULT;return new Bm(r=>Bo.fi(r,n),this.serializer)}}class ic{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CC.bind(null,this.syncEngine),await aC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cC}()}createDatastore(e){const n=Hm(e.databaseInfo.databaseId),r=function(i){return new YI(i)}(e.databaseInfo);return function(i,o,l,c){return new eC(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new nC(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>yd(this.syncEngine,n,0),function(){return ud.C()?new ud:new KI}())}createSyncEngine(e,n){return function(s,i,o,l,c,f,u){const d=new _C(s,i,o,l,c,f);return u&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);Z(as,"RemoteStore shutting down."),i.Ta.add(5),await bi(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ic.provider={build:()=>new ic};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):vn("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="FirestoreClient";class xC{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=t1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(Kn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(Kn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function il(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Kn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Um(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kC(t);Z(Kn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dd(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>dd(e.remoteStore,s)),t._onlineComponents=e}async function kC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Kn,"Using user provided OfflineComponentProvider");try{await il(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ns("Error using user provided cache. Falling back to memory cache: "+n),await il(t,new Uo)}}else Z(Kn,"Using default OfflineComponentProvider"),await il(t,new SC(void 0));return t._offlineComponents}async function VC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Kn,"Using user provided OnlineComponentProvider"),await vd(t,t._uninitializedComponentsProvider._online)):(Z(Kn,"Using default OnlineComponentProvider"),await vd(t,new ic))),t._onlineComponents}async function DC(t){const e=await VC(t),n=e.eventManager;return n.onListen=vC.bind(null,e.syncEngine),n.onUnlisten=wC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bC.bind(null,e.syncEngine),n}function OC(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,f){const u=new PC({next:g=>{u.Cu(),o.enqueueAndForget(()=>hC(i,d)),g.fromCache&&c.source==="server"?f.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),d=new pC(l,u,{includeMetadataChanges:!0,La:!0});return uC(i,d)}(await DC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MC(t,e,n,r){if(e===!0&&r===!0)throw new oe(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Td(t){if(he.isDocumentKey(t))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function LC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function oc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=LC(t);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="firestore.googleapis.com",wd=!0;class bd{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ny,this.ssl=wd}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:wd;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fm;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EI)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ty((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ou{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WA;switch(r.type){case"firstParty":return new XA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ed.get(n);r&&(Z("ComponentProvider","Removing Datastore"),Ed.delete(n),r.terminate())}(this),Promise.resolve()}}function FC(t,e,n,r={}){var s;t=oc(t,ou);const i=Fc(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(Eb(`https://${c}`),Ab("Firestore",!0)),o.host!==ny&&o.host!==c&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!Vo(f,l)&&(t._setSettings(f),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=pt.MOCK_USER;else{u=Tb(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new pt(g)}t._authCredentials=new QA(new im(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class ys{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}}class Gr extends ga{constructor(e,n,r){super(e,n,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new he(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function kR(t,e,...n){if(t=Db(t),NC("collection","path",e),t instanceof ou){const r=He.fromString(e,...n);return Td(r),new Gr(t,null,r)}{if(!(t instanceof ys||t instanceof Gr))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Td(r),new Gr(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="AsyncQueue";class Id{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new $m(this,"async_queue_retry"),this.ec=()=>{const r=sl();r&&Z(Ad,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=sl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=sl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new pr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!gs(e))throw e;Z(Ad,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,vn("INTERNAL UNHANDLED ERROR: ",Cd(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=nu.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&pe(47125,{_c:Cd(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Cd(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ry extends ou{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Id,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Id(e),this._firestoreClient=void 0,await e}}}function BC(t,e){const n=typeof t=="object"?t:NA(),r=typeof t=="string"?t:Oo,s=xA(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_b("firestore");i&&FC(s,...i)}return s}function UC(t){if(t._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jC(t),t._firestoreClient}function jC(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,f,u){return new g1(l,c,f,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ty(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new xC(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(at.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jo(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}const qC=new RegExp("[~\\*/\\[\\]]");function zC(t,e,n){if(e.search(qC)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new sy(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Rd(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new oe(W.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KC extends iy{data(){return super.data()}}function oy(t,e){return typeof e=="string"?zC(t,e):e instanceof sy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WC{convertValue(e,n="none"){switch(qn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($n(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ti(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[zl].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$e(o.doubleValue));return new $C(i)}convertGeoPoint(e){return new HC($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=aa(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(di(e));default:return null}}convertTimestamp(e){const n=Hn(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Ue(Lm(r),9688,{name:e});const s=new pi(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||vn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QC extends iy{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fo extends QC{data(e={}){return super.data(e)}}class YC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new no(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fo(this._firestore,this._userDataWriter,r.key,r,new no(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new fo(s._firestore,s._userDataWriter,l.doc.key,l.doc,new no(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new fo(s._firestore,s._userDataWriter,l.doc.key,l.doc,new no(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,u=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:JC(l.type),doc:c,oldIndex:f,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}class XC extends WC{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,n)}}function VR(t){t=oc(t,ga);const e=oc(t.firestore,ry),n=UC(e),r=new XC(e);return GC(t._query),OC(n,t._query).then(s=>new YC(e,r,t,s))}(function(e,n=!0){(function(s){ps=s})(OA),Do(new ci("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ry(new YA(r.getProvider("auth-internal")),new ZA(o,r.getProvider("app-check-internal")),function(f,u){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pi(f.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),qr(kf,Vf,e),qr(kf,Vf,"esm2017")})();const ZC=sn(t=>{const e=fs(),n={apiKey:e.public.firebaseApiKey,authDomain:e.public.firebaseAuthDomain,projectId:e.public.firebaseProjectId,storageBucket:e.public.firebaseStorageBucket,messagingSenderId:e.public.firebaseMessagingSenderId,appId:e.public.firebaseAppId},r=Cf().length?Cf()[0]:Qg(n),s=BC(r);t.provide("db",s)}),eR=[ST,DT,Xw,eb,tb,nb,sb,ib,ab,ZC],tR=(...t)=>t.find(e=>e!==void 0);function nR(t){const e=t.componentName||"NuxtLink";function n(i){return typeof i=="string"&&i.startsWith("#")}function r(i,o,l){const c=l??t.trailingSlash;if(!i||c!=="append"&&c!=="remove")return i;if(typeof i=="string")return ro(i,c);const f="path"in i&&i.path!==void 0?i.path:o(i).path;return{...i,name:void 0,path:ro(f,c)}}function s(i){const o=xt(),l=fs(),c=Ge(()=>!!i.target&&i.target!=="_self"),f=Ge(()=>{const k=i.to||i.href||"";return typeof k=="string"&&Tn(k,{acceptRelative:!0})}),u=oh("RouterLink"),d=typeof u!="string"?u.useLink:void 0,g=Ge(()=>{if(i.external)return!0;const k=i.to||i.href||"";return typeof k=="object"?!1:k===""||f.value}),m=Ge(()=>{const k=i.to||i.href||"";return g.value?k:r(k,o.resolve,i.trailingSlash)}),T=g.value||d==null?void 0:d({...i,to:m}),I=Ge(()=>{var D;const k=i.trailingSlash??t.trailingSlash;if(!m.value||f.value||n(m.value))return m.value;if(g.value){const V=typeof m.value=="object"&&"path"in m.value?Sl(m.value):m.value,E=typeof V=="object"?o.resolve(V).href:V;return ro(E,k)}return typeof m.value=="object"?((D=o.resolve(m.value))==null?void 0:D.href)??null:ro(Xo(l.app.baseURL,m.value),k)});return{to:m,hasTarget:c,isAbsoluteUrl:f,isExternal:g,href:I,isActive:(T==null?void 0:T.isActive)??Ge(()=>m.value===o.currentRoute.value.path),isExactActive:(T==null?void 0:T.isExactActive)??Ge(()=>m.value===o.currentRoute.value.path),route:(T==null?void 0:T.route)??Ge(()=>o.resolve(m.value)),async navigate(k){await NE(I.value,{replace:i.replace,external:g.value||c.value})}}}return us({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:s,setup(i,{slots:o}){const l=xt(),{to:c,href:f,navigate:u,isExternal:d,hasTarget:g,isAbsoluteUrl:m}=s(i),T=Wr(!1),I=en(null),k=E=>{var S;I.value=i.custom?(S=E==null?void 0:E.$el)==null?void 0:S.nextElementSibling:E==null?void 0:E.$el};function D(E){var S,O;return!T.value&&(typeof i.prefetchOn=="string"?i.prefetchOn===E:((S=i.prefetchOn)==null?void 0:S[E])??((O=t.prefetchOn)==null?void 0:O[E]))&&(i.prefetch??t.prefetch)!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!oR()}async function V(E=qe()){if(T.value)return;T.value=!0;const S=typeof c.value=="string"?c.value:d.value?Sl(c.value):l.resolve(c.value).fullPath,O=d.value?new URL(S,window.location.href).href:S;await Promise.all([E.hooks.callHook("link:prefetch",O).catch(()=>{}),!d.value&&!g.value&&jg(c.value,l).catch(()=>{})])}if(D("visibility")){const E=qe();let S,O=null;Qo(()=>{const L=sR();ra(()=>{S=Ml(()=>{var w;(w=I==null?void 0:I.value)!=null&&w.tagName&&(O=L.observe(I.value,async()=>{O==null||O(),O=null,await V(E)}))})})}),hs(()=>{S&&Zw(S),O==null||O(),O=null})}return()=>{var O;if(!d.value&&!g.value&&!n(c.value)){const L={ref:k,to:c.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(D("interaction")&&(L.onPointerenter=V.bind(null,void 0),L.onFocus=V.bind(null,void 0)),T.value&&(L.class=i.prefetchedClass||t.prefetchedClass),L.rel=i.rel||void 0),Rt(oh("RouterLink"),L,o.default)}const E=i.target||null,S=tR(i.noRel?"":i.rel,t.externalRelAttribute,m.value||g.value?"noopener noreferrer":"")||null;return i.custom?o.default?o.default({href:f.value,navigate:u,prefetch:V,get route(){if(!f.value)return;const L=new URL(f.value,window.location.href);return{path:L.pathname,fullPath:L.pathname,get query(){return Pc(L.search)},hash:L.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:f.value}},rel:S,target:E,isExternal:d.value||g.value,isActive:!1,isExactActive:!1}):null:Rt("a",{ref:I,href:f.value||null,rel:S,target:E},(O=o.default)==null?void 0:O.call(o))}}})}const rR=nR(mE);function ro(t,e){const n=e==="append"?ng:Zr;return Tn(t)&&!t.startsWith("http")?t:n(t,!0)}function sR(){const t=qe();if(t._observer)return t._observer;let e=null;const n=new Map,r=(i,o)=>(e||(e=new IntersectionObserver(l=>{for(const c of l){const f=n.get(c.target);(c.isIntersecting||c.intersectionRatio>0)&&f&&f()}})),n.set(i,o),e.observe(i),()=>{n.delete(i),e==null||e.unobserve(i),n.size===0&&(e==null||e.disconnect(),e=null)});return t._observer={observe:r}}const iR=/2g/;function oR(){const t=navigator.connection;return!!(t&&(t.saveData||iR.test(t.effectiveType)))}const ay=(t="RouteProvider")=>us({name:t,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Ur(Zo,dn(s)),()=>Rt(e.vnode,{ref:e.vnodeRef})}}),aR=ay(),Sd=new WeakMap,lR=us({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=qe(),i=en(),o=St(Zo,null);let l;r({pageRef:i});const c=St(DE,null);let f;const u=s.deferHydration();if(s.isHydrating){const g=s.hooks.hookOnce("app:error",u);xt().beforeEach(g)}t.pageKey&&jr(()=>t.pageKey,(g,m)=>{g!==m&&s.callHook("page:loading:start")});let d=!1;{const g=xt().beforeResolve(()=>{d=!1});hs(()=>{g()})}return()=>Rt(Bg,{name:t.name,route:t.route,...e},{default:g=>{const m=uR(o,g.route,g.Component),T=o&&o.matched.length===g.route.matched.length;if(!g.Component){if(f&&!T)return f;u();return}if(f&&c&&!c.isCurrent(g.route))return f;if(m&&o&&(!c||c!=null&&c.isCurrent(o)))return T?f:null;const I=Nl(g,t.pageKey),k=hR(o,g.route,g.Component);!s.isHydrating&&l===I&&!k&&ni(()=>{d=!0,s.callHook("page:loading:end")}),l=I;const D=!!(t.transition??g.route.meta.pageTransition??Bh),V=D&&cR([t.transition,g.route.meta.pageTransition,Bh,{onBeforeLeave(){s._runningTransition=!0},onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",g.Component)}}]),E=t.keepalive??g.route.meta.keepalive??gE;return f=jw(D&&V,Uw(E,Rt(Up,{suspensible:!0,onPending:()=>s.callHook("page:start",g.Component),onResolve:()=>{ni(()=>s.callHook("page:finish",g.Component).then(()=>{if(!d&&!k)return d=!0,s.callHook("page:loading:end")}).finally(u))}},{default:()=>{const S={key:I||void 0,vnode:n.default?fR(n.default,g):g.Component,route:g.route,renderKey:I||void 0,trackRootNodes:D,vnodeRef:i};if(!E)return Rt(aR,S);const O=g.Component.type,L=O;let w=Sd.get(L);return w||(w=ay(O.name||O.__name),Sd.set(L,w)),Rt(w,S)}}))).default(),f}})}});function cR(t){const e=t.filter(Boolean).map(n=>({...n,onAfterLeave:n.onAfterLeave?Mc(n.onAfterLeave):void 0}));return mg(...e)}function uR(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)});return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>{var o,l,c;return((o=s.components)==null?void 0:o.default)!==((c=(l=t.matched[i])==null?void 0:l.components)==null?void 0:c.default)})||n&&Nl({route:e,Component:n})!==Nl({route:t,Component:n})}function hR(t,e,n){return t?e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)})<e.matched.length-1:!1}function fR(t,e){const n=t(e);return n.length===1?Rt(n[0]):Rt(It,void 0,n)}const dR="data:image/svg+xml,%3csvg%20width='60'%20height='51'%20viewBox='0%200%2060%2051'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M51.0403%2024.9867L46.667%205.33333H48.667V0H6.00033V10.6667H0.666992V16H6.00033V25.44C4.32648%2026.9371%202.98653%2028.7698%202.06765%2030.819C1.14877%2032.8681%200.671539%2035.0876%200.666992%2037.3333V42.6667H6.00033C6.00033%2044.7884%206.84318%2046.8232%208.34347%2048.3235C9.84376%2049.8238%2011.8786%2050.6667%2014.0003%2050.6667C16.1221%2050.6667%2018.1569%2049.8238%2019.6572%2048.3235C21.1575%2046.8232%2022.0003%2044.7884%2022.0003%2042.6667H38.0003C38.0003%2044.7884%2038.8432%2046.8232%2040.3435%2048.3235C41.8438%2049.8238%2043.8786%2050.6667%2046.0003%2050.6667C48.1221%2050.6667%2050.1569%2049.8238%2051.6572%2048.3235C53.1575%2046.8232%2054.0003%2044.7884%2054.0003%2042.6667H59.3337V37.3333C59.3342%2034.6843%2058.5456%2032.0952%2057.0685%2029.8962C55.5914%2027.6972%2053.4928%2025.988%2051.0403%2024.9867ZM14.0003%2046.6667C13.2092%2046.6667%2012.4358%2046.4321%2011.778%2045.9925C11.1202%2045.553%2010.6076%2044.9283%2010.3048%2044.1974C10.0021%2043.4665%209.92284%2042.6622%2010.0772%2041.8863C10.2315%2041.1104%2010.6125%2040.3977%2011.1719%2039.8382C11.7313%2039.2788%2012.444%2038.8979%2013.22%2038.7435C13.9959%2038.5892%2014.8002%2038.6684%2015.5311%2038.9712C16.262%2039.2739%2016.8867%2039.7866%2017.3262%2040.4444C17.7657%2041.1022%2018.0003%2041.8755%2018.0003%2042.6667C18.0003%2043.7275%2017.5789%2044.7449%2016.8288%2045.4951C16.0786%2046.2452%2015.0612%2046.6667%2014.0003%2046.6667ZM39.4137%2024L36.347%2019.4133L40.1337%2016.88L37.2003%2012.4533L25.2003%2020.4533L28.1337%2024.88L31.947%2022.3467L35.0137%2026.9867L32.667%2029.3333H25.2003L11.3337%2010.6667V5.33333H41.2003L45.3337%2024M46.0003%2046.6667C45.2092%2046.6667%2044.4358%2046.4321%2043.778%2045.9925C43.1203%2045.553%2042.6076%2044.9283%2042.3048%2044.1974C42.0021%2043.4665%2041.9228%2042.6622%2042.0772%2041.8863C42.2315%2041.1104%2042.6125%2040.3977%2043.1719%2039.8382C43.7313%2039.2788%2044.444%2038.8979%2045.22%2038.7435C45.9959%2038.5892%2046.8002%2038.6684%2047.5311%2038.9712C48.262%2039.2739%2048.8867%2039.7866%2049.3262%2040.4444C49.7657%2041.1022%2050.0003%2041.8755%2050.0003%2042.6667C50.0003%2043.7275%2049.5789%2044.7449%2048.8288%2045.4951C48.0786%2046.2452%2047.0612%2046.6667%2046.0003%2046.6667Z'%20fill='white'/%3e%3c/svg%3e",pR=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},gR={},mR={class:"py-8 px-16 flex items-center justify-between"};function yR(t,e){const n=rR,r=lR;return Jt(),zp(It,null,[bo("header",mR,[Be(n,{to:"/",class:"text-2xl font-bold text-white hover:text-white transition-colors"},{default:Ec(()=>e[0]||(e[0]=[bo("img",{src:dR,alt:"Golfcar Logo",class:"w-12 h-12 inline-block mr-2"},null,-1)])),_:1,__:[0]})]),Be(r)],64)}const _R=pR(gR,[["render",yR]]),vR={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),l=void 0,u=s?ih(()=>Nr(()=>import("./BqHyYV25.js"),__vite__mapDeps([7,2,8]),import.meta.url)):ih(()=>Nr(()=>import("./DUqZk7Oe.js"),__vite__mapDeps([9,2,10]),import.meta.url));return(d,g)=>(Jt(),or(Fe(u),qy(Gp({statusCode:Fe(r),statusMessage:Fe(i),description:Fe(o),stack:Fe(l)})),null,16))}},ER={key:0},Pd={__name:"nuxt-root",setup(t){const e=()=>null,n=qe(),r=n.deferHydration();if(n.isHydrating){const f=n.hooks.hookOnce("app:error",r);xt().beforeEach(f)}const s=!1;Ur(Zo,_g()),n.hooks.callHookWith(f=>f.map(u=>u()),"vue:setup");const i=ea(),o=!1,l=/bot\b|chrome-lighthouse|facebookexternalhit|google\b|googlebot/i;vp((f,u,d)=>{if(n.hooks.callHook("vue:error",f,u,d).catch(g=>console.error("[nuxt] Error in `vue:error` hook",g)),l.test(navigator.userAgent))return n.hooks.callHook("app:error",f),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,f),!1;if(Eg(f)&&(f.fatal||f.unhandled))return n.runWithContext(()=>sr(f)),!1});const c=!1;return(f,u)=>(Jt(),or(Up,{onResolve:Fe(r)},{default:Ec(()=>[Fe(o)?(Jt(),zp("div",ER)):Fe(i)?(Jt(),or(Fe(vR),{key:1,error:Fe(i)},null,8,["error"])):Fe(c)?(Jt(),or(Fe(e),{key:2,context:Fe(c)},null,8,["context"])):Fe(s)?(Jt(),or(z_(Fe(s)),{key:3})):(Jt(),or(Fe(_R),{key:4}))]),_:1},8,["onResolve"]))}};let xd;{let t;xd=async function(){var o,l;if(t)return t;const r=!!(((o=window.__NUXT__)==null?void 0:o.serverRendered)??((l=document.getElementById("__NUXT_DATA__"))==null?void 0:l.dataset.ssr)==="true")?h0(Pd):u0(Pd),s=TE({vueApp:r});async function i(c){var f;await s.callHook("app:error",c),(f=s.payload).error||(f.error=dr(c))}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)});try{await AE(s,eR)}catch(c){i(c)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(_E),await s.hooks.callHook("app:mounted",r),await ni()}catch(c){i(c)}return r},t=xd().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Ge as A,RR as B,jr as C,wR as D,en as E,It as F,Wr as G,E_ as H,ni as I,dr as J,Ud as K,m_ as L,Ei as M,U_ as N,pR as _,bo as a,Be as b,zp as c,Wp as d,rR as e,us as f,AR as g,VR as h,kR as i,CR as j,Fe as k,IR as l,St as m,Wn as n,Jt as o,_p as p,Ur as q,bR as r,SR as s,Gy as t,qe as u,IE as v,Ec as w,wc as x,bg as y,PR as z};
